@database mails
@node main
                          3D World Mailing List Archive

                                   April 2002

             Compiled by Paul Qureshi (paul.qureshi@btinternet.com)

For more information on the 3D World Mailing List please read the FAQ. It is available at various sites:

Aminet: docs/misc/3DWorldFAQ.lha
http://mc68k.btinternet.com/faq/
The 3D World ML, monthly post

@{"Re: Re: MiniGL: StormC or my code?                                                                      " link 08857.001} Hans-Joerg Frieden <Hans-JoergF@hyperion-entertainment.com>
@{"Re: MiniGL: StormC or my code?                                                                          " link 08856.004} Paul Qureshi <paul@world3.net>
@{"Re: MiniGL: StormC or my code?                                                                          " link 08856.003} Paul Qureshi <paul@world3.net>
@{"Re: MiniGL: StormC or my code?                                                                          " link 08856.002} Olivier Fabre <off@free.fr>
@{"Re: Re: MiniGL: StormC or my code?                                                                      " link 08856.001} Hans-Joerg Frieden <Hans-JoergF@hyperion-entertainment.com>
@{"Re: Re: MiniGL: StormC or my code?                                                                      " link 08858.001} Thomas Frieden <ThomasF@hyperion-entertainment.com>
@{"Re: MiniGL: StormC or my code?                                                                          " link 08857.002} Paul Qureshi <paul@world3.net>
@{"triangle strips.                                                                                        " link 08860.001} Michal Wozniak <wozniak_m@mail.gwl.koszalin.tpnet.pl>
@{"Re: triangle strips.                                                                                    " link 08860.002} Thomas Frieden <ThomasF@hyperion-entertainment.com>
@{"Re: MiniGL texture memory management                                                                    " link 08863.001} Hans-Joerg Frieden <Hans-JoergF@hyperion-entertainment.com>
@{"Re: MiniGL texture memory management                                                                    " link 08864.001} Paul Qureshi <paul@world3.net>
@{"MiniGL texture memory management                                                                        " link 08863.002} Paul Qureshi <paul@world3.net>
@{"X-Mailer: SimpleMail 0.15 (AmigaOS) E-Mail Client (c) 2000-2002 by Hynek Schlawack and Sebastian Bauer  " link 08865.002} Steen Lund Nielsen <shadow@kampsax.dtu.dk>
@{"Re: Re: MiniGL texture memory management                                                                " link 08865.001} Hans-Joerg Frieden <Hans-JoergF@hyperion-entertainment.com>
@{"Re: Z buffering and lines in StormMESA                                                                  " link 08845.001} Johan Forsberg <graak@telia.com>
@{"Re: Z buffering and lines in StormMESA                                                                  " link 08844.001} Johan Forsberg <graak@telia.com>
@{"Warp3D v4 and StormC4 GCC                                                                               " link 08865.005} Steen Lund Nielsen <shadow@kampsax.dtu.dk>
@{"Re: Warp3D v4 and StormC4 GCC                                                                           " link 08865.004} Thomas Frieden <ThomasF@hyperion-entertainment.com>
@{"Re: X-Mailer: SimpleMail 0.15 (AmigaOS) E-Mail Client (c)                                               " link 08865.003} Thomas Frieden <ThomasF@hyperion-entertainment.com>
@{"Re: Warp3D v4 and StormC4 GCC                                                                           " link 08866.001} Steen Lund Nielsen <shadow@kampsax.dtu.dk>
@{"List archives where?                                                                                    " link 08868.001} Martin Nuttall <m.nuttall@ukonline.co.uk>
@{"Re: List archives where?                                                                                " link 08868.002} Paul Qureshi <paul@world3.net>
@{"Re: List archives where?                                                                                " link 08869.001} Martin Nuttall <m.nuttall@ukonline.co.uk>
@{"Re: triangle strips.                                                                                    " link 08875.001} Michal Wozniak <wozniak_m@mail.gwl.koszalin.tpnet.pl>
@{"Re: Re: triangle strips.                                                                                " link 08879.001} Thomas Frieden <ThomasF@hyperion-entertainment.com>
@{"Re: triangle strips.                                                                                    " link 08884.001} Michal Wozniak <wozniak_m@mail.gwl.koszalin.tpnet.pl>
@endnode
@node 08857.001
Subject: Re: Re: MiniGL: StormC or my code?
From: Hans-Joerg Frieden <Hans-JoergF@hyperion-entertainment.com>
Date: Mon, 01 Apr 2002 23:14:33 +0200

Paul Qureshi wrote:

>Yes, it was very good of you to release it to the community. Dispite
>it's limited features, it's probably the best OpenGL implimentation for
>AmigaOS currently. 
>
Sure, the feature set is limited to almost exactly what the Quake 2 
engine required. That, and speed, where the primary concerns.

>Put it this way, if it works it's better than
>StormMESA ;)
>
Well, StormMesa suffers from being outdated. We'll make a completely new 
port for OS 4 based on Mesa 4.01, this will also give us OpenGL 1.3 
functionality...

>Still, I can live with manual locking, especially since I would have had
>to impliment it in a Warp3D renderer anyway.
>
The locking was always a bit problematic. Since OpenGL doesn't have this 
kind of requirements (opposed to Warp3D and DirectX), we had to come up 
with something that could be used without the need to change anything in 
an OpenGL program. If smart locking is enabled, to make it bulletproof 
would require all functions to explicitly check for the lock to succeed, 
and that would be too much a performance eater :-)

Regards,

-- 
Hans-Joerg Frieden
Senior Software Developer, Hyperion Entertainment
Mail: Hans-JoergF@hyperion-software.de
Web: http://www.hyperion-entertainment.com



@endnode
@node 08856.004
Subject: Re: MiniGL: StormC or my code?
From: Paul Qureshi <paul@world3.net>
Date: Mon, 01 Apr 2002 14:40:47 +0100

Hi Hans-Joerg.

On 01-Apr-02, Hans-Joerg Frieden wrote:

> MiniGL's first purpose in life was to serve as a GL platform for the
> Shogo and Heretic II renderers - that's why I started the work in the
> first place. Both were done with gcc-warpup, and I'm afraid that is
> the only thing that I ever tested. We've used it in an interim version
> of Freespace together with StormC 4, so it should work, although the
> Freespace GL renderer had a few problems and we replaced it with a
> native Warp3D renderer later (the original used glide, which ported
> over rather painlessly).

Yes, it was very good of you to release it to the community. Dispite
it's limited features, it's probably the best OpenGL implimentation for
AmigaOS currently. Put it this way, if it works it's better than
StormMESA ;)

IIRC, StormC 4 uses GCC anyway, so I'm guessing that's why it works
okay. I'm not sure what the querk is, but I'll have a look at the source
code and see if I can spot anything obvious.

Still, I can live with manual locking, especially since I would have had
to impliment it in a Warp3D renderer anyway.

Regards,
Paul
-- 
.- world3.net ------------.---------------------------.
| amimpc.world3.net       | Amiga in-car MP3 player   |
| www.amigasupport.org.uk | Amiga Support Association |
`-------------------------^---------------------------'

@endnode
@node 08856.003
Subject: Re: MiniGL: StormC or my code?
From: Paul Qureshi <paul@world3.net>
Date: Mon, 01 Apr 2002 14:37:27 +0100

Hi Olivier.

>> You mean you had similar problems before?

> Sure, stuff being drawn all other the WB... leading to a crash after
> some time.. See my previous post about bitmap locking ;)

You were entirely correct, it was locking that caused the problem. As
soon as I moved to manual locking, the system did not freeze and a nice
little square appeared in the middle of the window :)

Thanks a lot for that, you made my day!

>> so I'll definatly give VBCC a try.

> I don't remember if minigl-r1 compiled out of the box without source
> changes with VBCC.. but one thing to note is that you should use make
> 3.76.1 as found on Aminet, not GG's make; otherwise you'll have to
> tweak the makefile.

I prefer it to smake :)

> If you have compilation problems, mail me and I'll send you the latest
> version for VBCC.

Thanks!

Regards,
Paul
-- 
.- world3.net ------------.---------------------------.
| amimpc.world3.net       | Amiga in-car MP3 player   |
| www.amigasupport.org.uk | Amiga Support Association |
`-------------------------^---------------------------'

@endnode
@node 08856.002
Subject: Re: MiniGL: StormC or my code?
From: Olivier Fabre <off@free.fr>
Date: Mon, 01 Apr 2002 04:31:34 +0100

FYI...

> There is currently a problem with the
> gearsWOS demo, some strange polygons are generated... I think that it
> is a problem with VBCC, but *maybe* it's a problem in gears.c.

I've located the problem and it is a bug of the PPC code generator of
VBCC. I've mailed a bug report to Frank Wille...

Regards :)
-- 
Reality is for people who lack imagination.

@endnode
@node 08856.001
Subject: Re: Re: MiniGL: StormC or my code?
From: Hans-Joerg Frieden <Hans-JoergF@hyperion-entertainment.com>
Date: Mon, 01 Apr 2002 01:03:34 +0200

Olivier Fabre wrote:

>I don't remember if minigl-r1 compiled out of the box without source
>changes with VBCC.. but one thing to note is that you should use make
>3.76.1 as found on Aminet, not GG's make; otherwise you'll have to
>tweak the makefile.
>If you have compilation problems, mail me and I'll send you the latest
>version for VBCC.
>
MiniGL's first purpose in life was to serve as a GL platform for the 
Shogo and Heretic II renderers - that's why I started the work in the 
first place. Both were done with gcc-warpup, and I'm afraid that is the 
only thing that I ever tested. We've used it in an interim version of 
Freespace together with StormC 4, so it should work, although the 
Freespace GL renderer had a few problems and we replaced it with a 
native Warp3D renderer later (the original used glide, which ported over 
rather painlessly).

I never used vbcc since it doesn't support C++ (and Shogo was a C++-Only 
project), so I'm afraid that supporting vbcc was always a bit difficult :-)

Best regards,

-- 
Hans-Joerg Frieden
Senior Software Developer, Hyperion Entertainment
Mail: Hans-JoergF@hyperion-software.de
Web: http://www.hyperion-entertainment.com



@endnode
@node 08858.001
Subject: Re: Re: MiniGL: StormC or my code?
From: Thomas Frieden <ThomasF@hyperion-entertainment.com>
Date: Tue, 02 Apr 2002 20:03:46 +0200

Hi,

Paul Qureshi wrote:

>I couldn't find information on texture size support with 3D hardware for
>Mesa 4.x or OpenGL 1.3, so I was wondering if there is any method for
>using textures larger than the maximum supported size for the hardware?
>In particular, I'm thinking of the Voodoo 3, because I'm finding the
>256x256 texture size a pain and am having to work round it where I can.
>

You can't use larger-than-supported textures on any OpenGL 
implementation. You have to live with the limit. It can be queried, btw, 
by GetInteger on GL_MAX_TEXTURE_SIZE.


Regards,

-- 
 Thomas Frieden
 Senior Developer, Hyperion Entertainment
 ThomasF@hyperion-entertainment.com
 http://www.hyperion-entertainment.com



@endnode
@node 08857.002
Subject: Re: MiniGL: StormC or my code?
From: Paul Qureshi <paul@world3.net>
Date: Tue, 02 Apr 2002 14:09:45 +0100

Hi Hans-Joerg.

On 01-Apr-02, Hans-Joerg Frieden wrote:

> Well, StormMesa suffers from being outdated. We'll make a completely
> new port for OS 4 based on Mesa 4.01, this will also give us OpenGL
> 1.3 functionality...

I couldn't find information on texture size support with 3D hardware for
Mesa 4.x or OpenGL 1.3, so I was wondering if there is any method for
using textures larger than the maximum supported size for the hardware?
In particular, I'm thinking of the Voodoo 3, because I'm finding the
256x256 texture size a pain and am having to work round it where I can.

>> Still, I can live with manual locking, especially since I would have
>> had to impliment it in a Warp3D renderer anyway.

> The locking was always a bit problematic. Since OpenGL doesn't have
> this kind of requirements (opposed to Warp3D and DirectX), we had to
> come up with something that could be used without the need to change
> anything in an OpenGL program. If smart locking is enabled, to make it
> bulletproof would require all functions to explicitly check for the
> lock to succeed, and that would be too much a performance eater :-)

Yeah, sure. To be honest, using manual locking is probably the better
solution anyway for most applications, and works perfectly well.

Regards,
Paul
-- 
.- world3.net ------------.---------------------------.
| amimpc.world3.net       | Amiga in-car MP3 player   |
| www.amigasupport.org.uk | Amiga Support Association |
`-------------------------^---------------------------'

@endnode
@node 08860.001
Subject: triangle strips.
From: Michal Wozniak <wozniak_m@mail.gwl.koszalin.tpnet.pl>
Date: Thu, 04 Apr 2002 18:40:39 +0200

Yellow,

    Hi all, just three thoughts/questions:

1: can DrawElements() optimize a vertex array into strips on
the fly? I mean when it finds out that two tris are sharing
and edge, it draws it as a strip? It shouln't be too hard i
think? From what i'm read (at the moment) Dreamcast's
version of DirectX can do it.

2: are triangle strips going to be much faster on permedia?
I'm not going to write a strippifier and I hope it'sgoing
to help a bit with performance.

3: what is a best way to draw a strip which is not 100% on
screen? I mean how to clip it or something.

BTW. we released 2 demos at ms2k2, and you can find them
somewhere.
 ( #http://www.gbar.dtu.dk/~c960502/ms/# for ex.). it's
heavy traffic (ht) and  new dawn fades (ndf).


Regards.

-- 

// Michal  "Kierownik" Wozniak
// e-mail: wozniak_m@interia.pl
// Graphics Programming


-----------------------------------------------------------------------
Telewizja Puls nadal bedzie istniec... >>> http://link.interia.pl/f1594 


@endnode
@node 08860.002
Subject: Re: triangle strips.
From: Thomas Frieden <ThomasF@hyperion-entertainment.com>
Date: Fri, 05 Apr 2002 12:16:09 +0200

Hi,

Michal Wozniak wrote:

>1: can DrawElements() optimize a vertex array into strips on
>the fly? I mean when it finds out that two tris are sharing
>and edge, it draws it as a strip? It shouln't be too hard i
>think? From what i'm read (at the moment) Dreamcast's
>version of DirectX can do it.
>

It's not very difficult, but it adds an additional overhead. You'll have 
to check if the triangles share an edge, which means that there will be 
some comparisons needed. This will probably optimize the case of 
connected triangles, but will slow down the other cases...

(To answer your question, no, it doesn't at the moment...)

>2: are triangle strips going to be much faster on permedia?
>I'm not going to write a strippifier and I hope it'sgoing
>to help a bit with performance.
>

Drawing a mesh will be faster with triangle strips compared to seperate 
triangles. This holds true for the PM2 and the Voodoo 3.

Regarding the strippifier, you might want to check out 
developer.nvidia.com, they have a library (as source code) that can do 
that, and AFAIK, there's no strings attached regarding the use of the 
library...

>3: what is a best way to draw a strip which is not 100% on
>screen? I mean how to clip it or something.
>

In MiniGL, we just search for the longest strip pieces, i.e. start with 
the first triangle, test the next one (culling and frustum test), and if 
visible, go on to the next. If it's not visible, draw what you have, and 
clip or reject the current one.

As there's no possibility to do any sort of guard banding on the P2 or 
V3, this is currently the only possibility I can think of. 
Unfortunately, drawing partially off-screen will distort textures, and 
chips like for example the Virge don't accpet negative coordinates at all...


Regards,

-- 
 Thomas Frieden
 Senior Developer, Hyperion Entertainment
 ThomasF@hyperion-entertainment.com
 http://www.hyperion-entertainment.com



@endnode
@node 08863.001
Subject: Re: MiniGL texture memory management
From: Hans-Joerg Frieden <Hans-JoergF@hyperion-entertainment.com>
Date: Sun, 07 Apr 2002 21:32:07 +0200

Paul Qureshi wrote:

>Hi.
>
Yo!

>I have been experimenting with MiniGL, it's great fun :)
>
Nice to hear :-)

>I have noticed a couple of strange things though. The main one is that a
>test program of mine, which uses 2.2MB of textures, runs really slowly.
>I checked the texture memory usage and noticed that only about 1.5MB is
>allocated for textures at peak. I have a 16MB Voodoo 3, with 3x 16bit
>1280x1024 sceens (including the MiniGL screen) open. No Z buffer
>(GL_DEPTH_TEST disabled), but the MiniGL screen uses two buffers. By my
>estimation, that's about 10MB of video memory in use. Add some more for
>misc other bitmaps, although in theory all but the 2.5MB of MiniGL screen
>could be swapped into fast memory. So, how come only 1.5MB is used for
>textures?
>
The Z buffer is allocated even if you did not enable GL_DEPTH_TEST. 
Although the depth test is disabled by default in OpenGL, the writing to 
the Z buffer is enabled by default, so you need to write the z fragments 
even if no test is done.

>I have have the 'can't allocate z buffer memory' error quite often with
>any context over about 300x300. It seems to happen more often if I have
>had other screens open and being doing work, rather than right after a
>reboot, suggesting that video ram fragmentation may be a problem.
>
Yes, plus the fact that some programs do use cached bitmaps. That tends 
to fragment memory, and some of the stuff might be locked or otherwise 
used.

>However, P96 is supposed to sort that out when new bitmaps are
>allocated. I notice that screen memory is allocated with the usual
>system calls, but the z buffer is allocated by Warp3D. Does Warp3D use
>some special technique to allocate the buffer, rather than the standard
>bitmap allocation routines?
>
Warp3D uses something like Memory pools in video ram. The pool 
allocations are taken from a bitmap which is allocated by the W3DGFX 
part using whatever is has at its disposal from the graphics system - 
nowadays it's almost exclusively via AllocBitmap.

>Other than those two, fairly minor for now, problems I have had much
>success with MiniGL. With a bit of luck I might have some demos and
>example code on Aminet soon.
>
Nice to hear. Looking forward to that :-)

Best regards,

-- 
Hans-Joerg Frieden
Senior Software Developer, Hyperion Entertainment
Mail: Hans-JoergF@hyperion-software.de
Web: http://www.hyperion-entertainment.com



@endnode
@node 08864.001
Subject: Re: MiniGL texture memory management
From: Paul Qureshi <paul@world3.net>
Date: Mon, 08 Apr 2002 21:40:31 +0100

Hi Hans-Joerg!

> Yo!

Glad to see you are feeling up-beat, I guess quitting a few mailing
lists really does help clear your mind :)

> The Z buffer is allocated even if you did not enable GL_DEPTH_TEST.
> Although the depth test is disabled by default in OpenGL, the writing
> to the Z buffer is enabled by default, so you need to write the z
> fragments even if no test is done.

Ah, right, that makes sense. It would be nice to be able to state
that you will never need the buffer and it should not be allocated
though. Should be easy to do, I'll give it a go some time.

>> I have have the 'can't allocate z buffer memory' error quite often
>> with any context over about 300x300. It seems to happen more often if
>> I have had other screens open and being doing work, rather than right
>> after a reboot, suggesting that video ram fragmentation may be a
>> problem.

> Yes, plus the fact that some programs do use cached bitmaps. That
> tends to fragment memory, and some of the stuff might be locked or
> otherwise used.

I suppose so... gee, I figured a 16MB card would be enough :)

Any hints on if this will improve with OS4? I know you are not on the
P96 team, but now it's the official way foreward for PPC I imagine you
want to tie Warp3D more closely in with it.

> Warp3D uses something like Memory pools in video ram. The pool 
> allocations are taken from a bitmap which is allocated by the W3DGFX 
> part using whatever is has at its disposal from the graphics system - 
> nowadays it's almost exclusively via AllocBitmap.

I suppose that is the problem with having no official RTG standard for
the OS.

Regards,
Paul
-- 
.- world3.net ------------.---------------------------.
| amimpc.world3.net       | Amiga in-car MP3 player   |
| www.amigasupport.org.uk | Amiga Support Association |
`-------------------------^---------------------------'

@endnode
@node 08863.002
Subject: MiniGL texture memory management
From: Paul Qureshi <paul@world3.net>
Date: Mon, 08 Apr 2002 15:15:59 +0100

Hi.

I have been experimenting with MiniGL, it's great fun :)

I have noticed a couple of strange things though. The main one is that a
test program of mine, which uses 2.2MB of textures, runs really slowly.
I checked the texture memory usage and noticed that only about 1.5MB is
allocated for textures at peak. I have a 16MB Voodoo 3, with 3x 16bit
1280x1024 sceens (including the MiniGL screen) open. No Z buffer
(GL_DEPTH_TEST disabled), but the MiniGL screen uses two buffers. By my
estimation, that's about 10MB of video memory in use. Add some more for
misc other bitmaps, although in theory all but the 2.5MB of MiniGL screen
could be swapped into fast memory. So, how come only 1.5MB is used for
textures?

I have have the 'can't allocate z buffer memory' error quite often with
any context over about 300x300. It seems to happen more often if I have
had other screens open and being doing work, rather than right after a
reboot, suggesting that video ram fragmentation may be a problem.
However, P96 is supposed to sort that out when new bitmaps are
allocated. I notice that screen memory is allocated with the usual
system calls, but the z buffer is allocated by Warp3D. Does Warp3D use
some special technique to allocate the buffer, rather than the standard
bitmap allocation routines?

Other than those two, fairly minor for now, problems I have had much
success with MiniGL. With a bit of luck I might have some demos and
example code on Aminet soon.

Regards,
Paul
-- 
.- world3.net ------------.---------------------------.
| amimpc.world3.net       | Amiga in-car MP3 player   |
| www.amigasupport.org.uk | Amiga Support Association |
`-------------------------^---------------------------'

@endnode
@node 08865.002
Subject: X-Mailer: SimpleMail 0.15 (AmigaOS) E-Mail Client (c) 2000-2002 by Hynek Schlawack and Sebastian Bauer
From: Steen Lund Nielsen <shadow@kampsax.dtu.dk>
Date: 09 Apr 2002 22:37:38 +0100

Hello,

I am trying to use Warp3D v4, with StormC4 GCC, but it complains about
missing symbols during linking.

I have copied the files "warp3d/warp3d.h" and "clib/warp3d_protos.h" from
the Warp3D v4 developer distro to my include directory. But how do I create
the link library I need for making my program work. I do not know how to
use fd2pragma, I have tried but I cannot make it produce a output. Please
help.  

Regards,
 Steen L. Nielsn

@endnode
@node 08865.001
Subject: Re: Re: MiniGL texture memory management
From: Hans-Joerg Frieden <Hans-JoergF@hyperion-entertainment.com>
Date: Tue, 09 Apr 2002 02:31:11 +0200

Paul Qureshi wrote:

>Glad to see you are feeling up-beat, I guess quitting a few mailing
>lists really does help clear your mind :)
>
Definately. Especially the troll-infested lair ANN is something that I 
will definately stay away from :-)

>Ah, right, that makes sense. It would be nice to be able to state
>that you will never need the buffer and it should not be allocated
>though. Should be easy to do, I'll give it a go some time.
>
Could be theoretically be done with something like 
mglChooseDepthBuffer(GLboolean flag) in accordance to the rest of the 
functions. Would be easy to add, the only thing to take care of is that 
the Zbuffer is not available.

>I suppose so... gee, I figured a 16MB card would be enough :)
>
Well, if you are using these resolutions, things will fill up rather 
fast :-)

>Any hints on if this will improve with OS4? I know you are not on the
>P96 team, but now it's the official way foreward for PPC I imagine you
>want to tie Warp3D more closely in with it.
>
Not in 4.0. We'll see what can be done in 4.1. For 4.0 the new Warp3D 
will probably not be finished in time, since there are a few factors 
that are holding us back at the moment, mostly lack of time and a 
certain interest in OpenGL 2.0 evolution.

>I suppose that is the problem with having no official RTG standard for
>the OS.
>
Yes. Things are rather hacky from the Video memory side of things. The 
cleanest solution is to have dedicated memory for the 3D chip. Up to now 
that was rather impossible since the Permedia2 only had 8 MB. With a 
Matrox G450 or a Radeon things will probably change - none of these has 
below 32 MB.

Regards,

-- 
Hans-Joerg Frieden
Senior Software Developer, Hyperion Entertainment
Mail: Hans-JoergF@hyperion-software.de
Web: http://www.hyperion-entertainment.com



@endnode
@node 08845.001
Subject: Re: Z buffering and lines in StormMESA
From: Johan Forsberg <graak@telia.com>
Date: Wed, 10 Apr 2002 20:07:32 +0200

Hello Paul

On 20-Mar-02, you wrote:

> Maybe, only if Sega don't release their games for the Gamecube :)

AFAIK they have sold their souls to M$.. (not yet officially though)

> I really wish the DC had done better. I have been messing around with a
> coders cable and it seems like a nit bit of kit. Soul Calibur is still
> impressive, years after launch...

Guh, Soul Calibur sucks =) Street Fighter II for SNES is *the* best fighting
game ever!

The best game I've played on DC is Virtua Tennis =)

> I am beginning to wonder if we are now seeing the last line of real
> games consoles though. The XBox is really a cut down PC, it even has a
> hard drive. I can see things going more that way in the future, which is
> in many ways a shame, especially if like me you love coding at a low
> level for dedicated systems. Even a PIC based vending machine is more
> interesting to me than Windows programming...

But look at the X-Box, it's selling far from good (I read that in Japan, the
home of game consoles, X-Box sold 123 000 units in the four days following
the release. Compare that to the one million units Sony sold of the PS2 on
the release day!). And the big consoles, like PS2 and Gamecube, are they so
"computer-like"? Not IMHO.

-- 

Johan "Graak" Forsberg

A1200 rev 1D1, Elbox Tower, Blizzard PPC 603e 175@210 MHz 68040 25@30 MHz
(60 MHz bus), 64 MB RAM, Power Flyer 1200, Mediator PCI 1200 (MMCD chips),
Voodoo3 3000 (SGRAM), SoundBlaster 128, Planet 100MBit, PixelView PlayTV
Pro, 13.5 GB Seagate Barracuda, 48x Sony, 17" Hansol, AmigaOS 3.9

@endnode
@node 08844.001
Subject: Re: Z buffering and lines in StormMESA
From: Johan Forsberg <graak@telia.com>
Date: Wed, 10 Apr 2002 15:26:04 +0200

Hello Paul

On 20-Mar-02, you wrote:

> Yeah, it's nice... the sketch mode is cool, and something I probably
> won't get to impliment. I am looking at doing something more like Jet
> Set Radio though... man, that damned X-Box is expensive, but I need one
> for JSR Future and Crazy Taxi Next... Damned Microsoft! :)

What? You're going to buy an X-Box? Then I have no choice but to despise you
for the rest of my life =)

-- 

Johan "Graak" Forsberg

A1200 rev 1D1, Elbox Tower, Blizzard PPC 603e 175@210 MHz 68040 25@30 MHz
(60 MHz bus), 64 MB RAM, Power Flyer 1200, Mediator PCI 1200 (MMCD chips),
Voodoo3 3000 (SGRAM), SoundBlaster 128, Planet 100MBit, PixelView PlayTV
Pro, 13.5 GB Seagate Barracuda, 48x Sony, 17" Hansol, AmigaOS 3.9

@endnode
@node 08865.005
Subject: Warp3D v4 and StormC4 GCC
From: Steen Lund Nielsen <shadow@kampsax.dtu.dk>
Date: 10 Apr 2002 12:22:05 +0100

Hello Thomas,

On 2002/04/10, you wrote:


> This should do the trick:
> fd2pragma Warp3DPPC.fd special 73 to Warp3DPPC.lib

> You'll then have to add Warp3DPPC.lib to the project...


I just tried this and got the following warnings:

WB3.9:fd2pragma Storage:Temp/Warp3D_Devel/Include/fd/Warp3DPPC.fd special
73 to ram:Warp3DPPC.lib
SourceFile: Storage:Temp/Warp3D_Devel/Include/fd/Warp3DPPC.fd
Warning 16 in line 21: Number of arguments != number of registers.
Warning 16 in line 22: Number of arguments != number of registers.
Warning 16 in line 23: Number of arguments != number of registers.
Warning 16 in line 24: Number of arguments != number of registers.
Warning 16 in line 29: Number of arguments != number of registers.
Warning 16 in line 30: Number of arguments != number of registers.
Warning 16 in line 31: Number of arguments != number of registers.
Warning 16 in line 32: Number of arguments != number of registers.
Warning 16 in line 33: Number of arguments != number of registers.
Warning 16 in line 34: Number of arguments != number of registers.
Warning 16 in line 38: Number of arguments != number of registers.
Warning 16 in line 39: Number of arguments != number of registers.
Warning 16 in line 40: Number of arguments != number of registers.
Warning 16 in line 41: Number of arguments != number of registers.
Warning 16 in line 42: Number of arguments != number of registers.
Warning 16 in line 43: Number of arguments != number of registers.
Warning 16 in line 44: Number of arguments != number of registers.
Warning 16 in line 45: Number of arguments != number of registers.
Warning 16 in line 46: Number of arguments != number of registers.
Warning 16 in line 50: Number of arguments != number of registers.
Warning 16 in line 51: Number of arguments != number of registers.
Warning 16 in line 52: Number of arguments != number of registers.
Warning 16 in line 53: Number of arguments != number of registers.
Warning 16 in line 54: Number of arguments != number of registers.
Warning 16 in line 58: Number of arguments != number of registers.
Warning 16 in line 59: Number of arguments != number of registers.
Warning 16 in line 60: Number of arguments != number of registers.
Warning 16 in line 61: Number of arguments != number of registers.
Warning 16 in line 62: Number of arguments != number of registers.
Warning 16 in line 63: Number of arguments != number of registers.
Warning 16 in line 67: Number of arguments != number of registers.
Warning 16 in line 68: Number of arguments != number of registers.
Warning 16 in line 69: Number of arguments != number of registers.
Warning 16 in line 70: Number of arguments != number of registers.
Warning 16 in line 71: Number of arguments != number of registers.
Warning 16 in line 72: Number of arguments != number of registers.
Warning 16 in line 76: Number of arguments != number of registers.
Warning 16 in line 77: Number of arguments != number of registers.
Warning 16 in line 78: Number of arguments != number of registers.
Warning 16 in line 79: Number of arguments != number of registers.
Warning 16 in line 80: Number of arguments != number of registers.
Warning 16 in line 81: Number of arguments != number of registers.
Warning 16 in line 85: Number of arguments != number of registers.
Warning 16 in line 86: Number of arguments != number of registers.
Warning 16 in line 87: Number of arguments != number of registers.
Warning 16 in line 88: Number of arguments != number of registers.
Warning 16 in line 89: Number of arguments != number of registers.
Warning 16 in line 90: Number of arguments != number of registers.
Warning 16 in line 91: Number of arguments != number of registers.
Warning 16 in line 92: Number of arguments != number of registers.
Warning 16 in line 93: Number of arguments != number of registers.
Warning 16 in line 94: Number of arguments != number of registers.
Warning 16 in line 95: Number of arguments != number of registers.
Warning 16 in line 96: Number of arguments != number of registers.
Warning 16 in line 97: Number of arguments != number of registers.
Warning 16 in line 98: Number of arguments != number of registers.
Warning 16 in line 99: Number of arguments != number of registers.
Warning 16 in line 100: Number of arguments != number of registers.
Warning 16 in line 102: Number of arguments != number of registers.
Warning 16 in line 103: Number of arguments != number of registers.
Warning 16 in line 105: Number of arguments != number of registers.
Warning 16 in line 106: Number of arguments != number of registers.
Warning 16 in line 107: Number of arguments != number of registers.
Warning 16 in line 108: Number of arguments != number of registers.
Warning 16 in line 109: Number of arguments != number of registers.
Warning 16 in line 110: Number of arguments != number of registers.
Warning 16 in line 111: Number of arguments != number of registers.
Warning 16 in line 112: Number of arguments != number of registers.
Warning 16 in line 116: Number of arguments != number of registers.
Warning 16 in line 117: Number of arguments != number of registers.
Warning 16 in line 118: Number of arguments != number of registers.
Warning 16 in line 120: Number of arguments != number of registers.
Warning 16 in line 121: Number of arguments != number of registers.
Warning 16 in line 125: Number of arguments != number of registers.
Warning 16 in line 126: Number of arguments != number of registers.
Warning 16 in line 127: Number of arguments != number of registers.
Warning 16 in line 128: Number of arguments != number of registers.
Warning 16 in line 129: Number of arguments != number of registers.
Warning 16 in line 130: Number of arguments != number of registers.
Warning 16 in line 131: Number of arguments != number of registers.

The library that it creates seems incomplete. Very few symbols are defined.

Regards
Steen L. Nielsen
 


@endnode
@node 08865.004
Subject: Re: Warp3D v4 and StormC4 GCC
From: Thomas Frieden <ThomasF@hyperion-entertainment.com>
Date: Wed, 10 Apr 2002 12:38:04 +0200

Hi,

Steen Lund Nielsen wrote:

>I just tried this and got the following warnings:
>...
>Warning 16 in line 21: Number of arguments != number of registers.
>...
>Warning 16 in line 131: Number of arguments != number of registers.
>

This shoudln't be a problem. As PowerOpen defines the registers used by 
the order of the parameter, the registers aren't needed. You might want 
to use the Warp3DPPC.fd.vbcc file, though, which has these registers 
defined.

>The library that it creates seems incomplete. Very few symbols are defined.
>

How do you know ? There's actually no nm-type program for these 
libraries that I know of, so there's no telling if a symbol is exported 
or imported by a library...
Or do you just look at the strings in the file ?


Regards,

-- 
 Thomas Frieden
 Senior Developer, Hyperion Entertainment
 ThomasF@hyperion-entertainment.com
 http://www.hyperion-entertainment.com




@endnode
@node 08865.003
Subject: Re: X-Mailer: SimpleMail 0.15 (AmigaOS) E-Mail Client (c)
From: Thomas Frieden <ThomasF@hyperion-entertainment.com>
Date: Wed, 10 Apr 2002 10:25:50 +0200

Hi,

Steen Lund Nielsen wrote:

>I am trying to use Warp3D v4, with StormC4 GCC, but it complains about
>missing symbols during linking.
>
>I have copied the files "warp3d/warp3d.h" and "clib/warp3d_protos.h" from
>the Warp3D v4 developer distro to my include directory. But how do I create
>the link library I need for making my program work. I do not know how to
>use fd2pragma, I have tried but I cannot make it produce a output. Please
>help. 
>

This should do the trick:
fd2pragma Warp3DPPC.fd special 73 to Warp3DPPC.lib

You'll then have to add Warp3DPPC.lib to the project...


Regards,

-- 
 Thomas Frieden
 Senior Developer, Hyperion Entertainment
 ThomasF@hyperion-entertainment.com
 http://www.hyperion-entertainment.com



@endnode
@node 08866.001
Subject: Re: Warp3D v4 and StormC4 GCC
From: Steen Lund Nielsen <shadow@kampsax.dtu.dk>
Date: 11 Apr 2002 10:17:57 +0100

Hello Thomas,

On 2002/04/10, you wrote:
> Hi,

> This shoudln't be a problem. As PowerOpen defines the registers used by 
> the order of the parameter, the registers aren't needed. You might want 
> to use the Warp3DPPC.fd.vbcc file, though, which has these registers 
> defined.

> How do you know ? There's actually no nm-type program for these 
> libraries that I know of, so there's no telling if a symbol is exported 
> or imported by a library...
> Or do you just look at the strings in the file ?

The created lib file was only 1Kb, so I just looked at the strings in the
file and noticed that only four symbols very defined.

Using the vbcc files worked correctly.

Thank you for the help, I will now continue with my 3D-engine. :-)

Regards
 Steen L. Nielsen

@endnode
@node 08868.001
Subject: List archives where?
From: Martin Nuttall <m.nuttall@ukonline.co.uk>
Date: Fri, 12 Apr 2002 20:17:18 +0100

Hello,
        I have looked on aminet for the warpo3d list archives but i cant find them.

 Does anywhere else have them?


Kind regards
-- 
Martin Nuttall

"It's why we all like football I suppose - you can't appreciate
the highs (v Reading and, of course, Oct 20th 2001) without suffering the lows (v Aldershot Div 4)" A Bolton Wanderers fan

abuse@ukonline.co.uk

@endnode
@node 08868.002
Subject: Re: List archives where?
From: Paul Qureshi <paul@world3.net>
Date: Sat, 13 Apr 2002 14:32:17 +0100

Hi Martin.

>        I have looked on aminet for the warpo3d list archives but i
> cant find them.

docs/misc/3DWorldArcXXX.lha

Regards,
Paul
-- 
.- world3.net ------------.---------------------------.
| amimpc.world3.net       | Amiga in-car MP3 player   |
| www.amigasupport.org.uk | Amiga Support Association |
`-------------------------^---------------------------'

@endnode
@node 08869.001
Subject: Re: List archives where?
From: Martin Nuttall <m.nuttall@ukonline.co.uk>
Date: Sun, 14 Apr 2002 18:14:52 +0100

Hello Paul

On 13-Apr-02, you wrote:

> Hi Martin.
> 
>>        I have looked on aminet for the warpo3d list archives but i
>> cant find them.
> 
> docs/misc/3DWorldArcXXX.lha


ahh thanks i was looking for warp3d on aminet :(

> 
> Regards,
> Paul
Regards
-- 
Martin Nuttall

"It's why we all like football I suppose - you can't appreciate
the highs (v Reading and, of course, Oct 20th 2001) without suffering the lows (v Aldershot Div 4)" A Bolton Wanderers fan

abuse@ukonline.co.uk

@endnode
@node 08875.001
Subject: Re: triangle strips.
From: Michal Wozniak <wozniak_m@mail.gwl.koszalin.tpnet.pl>
Date: Sat, 20 Apr 2002 00:35:08 +0200


On 05-Kwi-02 Thomas Frieden wrote:

> Hi,

    Yellow,

[ sorry for a long delay and stuff.. ]

>> 2: are triangle strips going to be much faster on
>> permedia? I'm not going to write a strippifier and I hope
>> it'sgoing to help a bit with performance.

> Drawing a mesh will be faster with triangle strips
> compared to seperate triangles. This holds true for the
> PM2 and the Voodoo 3.

> Regarding the strippifier, you might want to check out
> developer.nvidia.com, they have a library (as source code)
> that can do that, and AFAIK, there's no strings attached
> regarding the use of the library...

    Well, i had a look at this, but for now i'm using
stripifier
 by Pierre Terdiman which i found on the net. it's not too
new
 (dated to 04.01.2000) but, it was really easy to compile it
and=20
 include into my project.  NVidia's one gave me too many
warnings,
 and it uses some classes that i didn't want to check and
try, so
 for now it's waiting for beter times. meybe i will try it
on pc
 and compare results. =20

>> 3: what is a best way to draw a strip which is not 100%
>> on screen? I mean how to clip it or something.

> In MiniGL, we just search for the longest strip pieces,
> i.e. start with the first triangle, test the next one
> (culling and frustum test), and if visible, go on to the
> next. If it's not visible, draw what you have, and clip or
> reject the current one.

    i thought about something like this too. one thing that
 i'm curious about. for example i have an object with 6000
faces
 and stripifier gave me about 700 strips with various
length's.
 so, isn't calling W3D_DrawElements() going to eat all speed
 increase? or maybe using a trick with joined strips will be
better?
 what do You suggest?

> Regards

Regards

// Michal "Kierownik" Wozniak
// Graphics programming


----------------------------------------------------------------------
Wybierz si=EA na spacer... z bestia. >>> http://link.interia.pl/f15a7=20


@endnode
@node 08879.001
Subject: Re: Re: triangle strips.
From: Thomas Frieden <ThomasF@hyperion-entertainment.com>
Date: Wed, 24 Apr 2002 12:11:56 +0200

Hi,

Michal Wozniak wrote:
 > [ sorry for a long delay and stuff.. ]

Same applies to me ;)


 > i thought about something like this too. one thing that i'm curious
 > about. for example i have an object with 6000 faces and stripifier
 > gave me about 700 strips with various length's. so, isn't calling
 > W3D_DrawElements() going to eat all speed increase? or maybe using a
 > trick with joined strips will be better? what do You suggest?

Well, these numbers would indicate an approximate strip length of 5 to 
10. Using W3D_DrawElements with this should still be faster than setting 
up the data structures to draw them with W3D_DrawTriStrip.

OTOH, with that many triangles, the amount of work needed to actually 
transmit the data through the bus might dominate any other cost, i.e. 
function calls or memory movement in main memory. I fear the only clear 
answer might be derived from experience...


Regards,
-- 
  Thomas Frieden
  Senior Developer, Hyperion Entertainment
  ThomasF@hyperion-entertainment.com
  http://www.hyperion-entertainment.com

@endnode
@node 08884.001
Subject: Re: triangle strips.
From: Michal Wozniak <wozniak_m@mail.gwl.koszalin.tpnet.pl>
Date: Mon, 29 Apr 2002 17:41:35 +0200

On 24-Kwi-02 Thomas Frieden wrote:

> Hi,

>> i thought about something like this too. one thing that
> i'm curious
>> about. for example i have an object with 6000 faces and
> stripifier
>> gave me about 700 strips with various length's. so,
> isn't calling
>> W3D_DrawElements() going to eat all speed increase? or
> maybe using a
>> trick with joined strips will be better? what do You
> suggest?

> Well, these numbers would indicate an approximate strip
> length of 5 to 10. Using W3D_DrawElements with this should
> still be faster than setting up the data structures to
> draw them with W3D_DrawTriStrip.

    well i'm not using W3D_DrawTriStrip at all. all i'm
using 
 is vertexarrays. i'm just asking if (in this case) calling
W3D_DrawElements() 600 times whouln't kill the performance
gain. this can be eliminated by using strip merging. ( i
think every stripifier supports it). it creates invisible
triangle to merge 2 strips. only question is that if it
won't influence fillrate( well this tri is invisible,
but...). but i think this should be the best way to go,
because it will be 600*(10+2)+600*2 vertices to transfer,
instead of 6000*3 (of vcourse if everything is onscreen).
What do You think?

> OTOH, with that many triangles, the amount of work needed
> to actually transmit the data through the bus might
> dominate any other cost, i.e. function calls or memory
> movement in main memory. I fear the only clear answer
> might be derived from experience...

    i knew it;) i think i'm gonna write some functions for
the simpliest case and test it.


> Regards,
Regards


----------------------------------------------------------------------
Siedzisz i czytasz... a tam ktos wlasnie wykupuje Twoj urlop!
>>> http://link.interia.pl/f15b1 


@endnode
