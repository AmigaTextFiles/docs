<!-- This HTML file has been created by texi2html 1.29af
     from ../AmigaFAQg.texinfo on 24 October 1995 -->

<TITLE>Amiga-FAQ - Amiga-Libraries</TITLE>

<PRE><I>
&lt;&lt; <A HREF="AmigaFAQg_40.html">Inline-Dateien</A>
&gt;&gt; <A HREF="AmigaFAQg_42.html">Installation</A>
<HR>
</I></PRE>

<A NAME="IDX94"></A>
<A NAME="IDX95"></A>
<H3><A NAME="SEC41" HREF="AmigaFAQg_toc.html#SEC41">Wie konvertiere ich die Amiga-Libraries f&uuml;r den gcc?</A></H3>
Ab gcc Version 2.6.0 werden dank den libnix-Autoren (Matthias Fleischer
und Gunther Nikl) AmigaDOS Linklibraries unterst&uuml;tzt.
<P>
Wenn man trotzdem eine gcc-Linklibrary generieren will, gibt es zwei Methoden:
<P>
1. Mit hunk2gcc, dem AmigaDOS-Object-Konvertierer von Markus Wild.
Dazu braucht man zun&auml;chst eine aktuelle Kopie der amiga.lib
(aus dem NDU, siehe Abschnitt <A HREF="AmigaFAQg_25.html#SEC25">Wo bekomme ich die Amiga-Include-Dateien?</A>). Nachdem man sich ein
Directory f&uuml;r die konvertierten Dateien erstellt hat,
wechselt man mit cd in dieses Directory und gibt das Folgende
ein:
<PRE>
	hunk2gcc amiga.lib [..further libs if you like..]
</PRE>
Dies erzeugt ein Objektfile wie a.out f&uuml;r jedes einzelne Modul,
das die Library enth&auml;lt. Diese Module mu&szlig; man anschlie&szlig;end in
einer gcc-Library zusammenfassen:
<PRE>
	ar qc libamiga.a obj.*
	ranlib libamiga.a
</PRE>
Das Programm ranlib f&uuml;gt eine Symboltabelle in die Library ein.
(Dadurch wird der Zugriff auf die Library sehr viel schneller.)
<P>
2. Eine libamiga.a mit libnix zu generieren ist recht leicht, braucht
aber einige Zeit. Man dekomprimiere sources.lha aus dem libnix-Archiv
und starte ein 'make libamiga.a'.
<P>
<STRONG>Beachte:</STRONG> Solange man keine reinen AmigaDOS-Funktionen verwendet, kann man
auch eine Pseudo-Library erzeugen:
<PRE>
  cat "int dummy;" &#62;dummy.c
  gcc -c dummy.c
  ar crv libamiga.a dummy.o
  mv libamiga.a gcc:lib
</PRE>
<P>

<PRE><I>
<HR>
&lt;&lt; <A HREF="AmigaFAQg_40.html">Inline-Dateien</A>
&gt;&gt; <A HREF="AmigaFAQg_42.html">Installation</A>
</I></PRE>
