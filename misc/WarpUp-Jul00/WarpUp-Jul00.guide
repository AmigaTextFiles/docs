@database Amiga_C_List.guide
@width 70

@node "Introduction" "Introduction"
@wordwrap

                         WarpUp Mailing List Guide
                         ==========================

This guide is intended as an easy reference to the Warp Up mailing list.

It contains messages posted to the Warp Up mailing list during the month shown on the main page.

To subscribe to the WarpUp mailing list, send an email to 

majordomo@haage-partner.com

with 

subscribe warpup-list

in the body of the message (NOT the subject).
Please check your return and "reply to" address.



This AmigaGuide was created using GuideMaker.rexx © Roger Light 1999
@endnode

@node "Main" "Warp Up Mailing List Guide"
                    @{b}Warp Up Mailing List Guide
                    ==========================@{ub}

                          July 2000

@{" Introduction " link Introduction } Introduction to the guide.

@{" Search " SYSTEM "RUN <>NIL: Searchguide FINAME"} Search this file (requres SearchGuide)

 ------------------------------------------------------------------- 

@{" [warpup] Re: Multitask lock bug (was Re: Questions) " Link "Mail_0"}      Mark Olsen
@{" [warpup] Re: G3 & CGFX " Link "Mail_1"}      Mark Olsen
@{" [warpup] Re: Multitask lock bug (was Re: Questions) " Link "Mail_2"}      Mark Olsen
@{" [warpup] Re: AHI " Link "Mail_3"}      Franck DEROUAULT
@{" Re: [warpup] Re: AHI " Link "Mail_4"}      Joseph Fenton
@{" Re: [warpup] Re: AHI " Link "Mail_5"}      Steffen Haeuser
@{" [warpup] Replace 040 on the CSPPC to an 060 ! " Link "Mail_6"}      Fredrik Nilsson
@{" [warpup] Run68k yet a trouble " Link "Mail_7"}      Almos Rajnai
@{" [warpup] Re: Replace 040 on the CSPPC to an 060 ! " Link "Mail_8"}      Svein Ingve Wik
@{" Re: [warpup] Run68k yet a trouble " Link "Mail_9"}      Joseph Fenton
@{" Re: [warpup] Re: Replace 040 on the CSPPC to an 060 ! " Link "Mail_10"}      Joseph Fenton
@{" [warpup] Re: Replace 040 on the CSPPC to an 060 ! " Link "Mail_11"}      Svein Ingve Wik
@{" [warpup] Re: Replace 040 on the CSPPC to an 060 ! " Link "Mail_12"}      Svein Ingve Wik
@{" [warpup] Re: Replace 040 on the CSPPC to an 060 ! " Link "Mail_13"}      Fredrik Nilsson
@{" Antwort: [warpup] Re: Replace 040 on the CSPPC to an 060 ! " Link "Mail_14"}      Thomas Koerner
@{" Re: [warpup] Replace 040 on the CSPPC to an 060 ! " Link "Mail_15"}      Svein Ingve Wik
@{" Re: [warpup] Re: Replace 040 on the CSPPC to an 060 ! " Link "Mail_16"}      Joseph Fenton
@{" [warpup] ppclibemul " Link "Mail_17"}      "Marion E. Wyatt"
@{" Antwort: Re: [warpup] Replace 040 on the CSPPC to an 060 ! " Link "Mail_18"}      Thomas Koerner
@{" Re: Antwort: Re: [warpup] Replace 040 on the CSPPC to an 060 ! " Link "Mail_19"}      Fredrik Nilsson
@{" [warpup] Re: Replace 040 on the CSPPC to an 060 ! " Link "Mail_20"}      Steffen Haeuser
@{" Re: [warpup] Replace 040 on the CSPPC to an 060 ! " Link "Mail_21"}      Svein Ingve Wik
@{" [warpup] Re: Replace 040 on the CSPPC to an 060 ! " Link "Mail_22"}      Fredrik Nilsson
@{" [warpup] Re: Replace 040 on the CSPPC to an 060 ! " Link "Mail_23"}      Jonathan Hart
@{" [warpup] Terminator setting...... " Link "Mail_24"}      Henrik Nordhus
@{" [warpup] Re: Terminator setting...... " Link "Mail_25"}      Mark Olsen
@{" Re: [warpup] Run68k yet a trouble " Link "Mail_26"}      Frank Wille
@{" Re: [warpup] Run68k yet a trouble " Link "Mail_27"}      Frank Wille
@{" Re: [warpup] ppclibemul " Link "Mail_28"}      Frank Wille
@{" [warpup] Re: Replace 040 on the CSPPC to an 060 ! " Link "Mail_29"}      Svein Ingve Wik
@{" Re: [warpup] Re: Replace 040 on the CSPPC to an 060 ! " Link "Mail_30"}      Thomas Hansen
@{" Re: [warpup] Run68k yet a trouble " Link "Mail_31"}      Almos Rajnai
@{" Antwort: [warpup] Re: Replace 040 on the CSPPC to an 060 ! " Link "Mail_32"}      Thomas Koerner
@{" Re: Antwort: [warpup] Re: Replace 040 on the CSPPC to an 060 ! " Link "Mail_33"}      Jonathan Hart
@{" [warpup] Re: Replace 040 on the CSPPC to an 060 ! " Link "Mail_34"}      Fredrik Nilsson
@{" [warpup] Re: Replace 040 on the CSPPC to an 060 ! " Link "Mail_35"}      Svein Ingve Wik
@{" Re: [warpup] Run68k yet a trouble " Link "Mail_36"}      Joseph Fenton
@{" [warpup] Crystal Oscillator ?? " Link "Mail_37"}      Shane Ponting
@{" Re: [warpup] Run68k yet a trouble " Link "Mail_38"}      Frank Wille
@{" Re: [warpup] Run68k yet a trouble " Link "Mail_39"}      Almos Rajnai
@{" Re: [warpup] Run68k yet a trouble " Link "Mail_40"}      Frank Wille
@{" Re: [warpup] Re: Replace 040 on the CSPPC to an 060 ! " Link "Mail_41"}      Ilkka Prusi
@{" [warpup] Re: Replace 040 on the CSPPC to an 060 ! " Link "Mail_42"}      Shane Ponting
@{" [warpup] ADoomWOS and ChunkyPPC lib " Link "Mail_43"}      Duncan Gow
@{" [warpup] Re: ADoomWOS and ChunkyPPC lib " Link "Mail_44"}      Jarmo Laakkonen
@{" [warpup] LR bugfix " Link "Mail_45"}      Mark Olsen
@{" [warpup] LR bugfix " Link "Mail_46"}      Steffen Haeuser
@{" [warpup] Re: LR bugfix " Link "Mail_47"}      Mark Olsen
@{" [warpup] Re: LR bugfix " Link "Mail_48"}      Peter Mattsson
@{" [warpup] Re: LR bugfix " Link "Mail_49"}      Fredrik Nilsson
@{" [warpup] Re: LR bugfix " Link "Mail_50"}      Mark Olsen
@{" Re: [warpup] Re: LR bugfix " Link "Mail_51"}      Joseph Fenton
@{" Re: [warpup] LR bugfix " Link "Mail_52"}      Frank Wille
@{" Re: [warpup] Re: LR bugfix " Link "Mail_53"}      Adrian Parsons
@{" Re: [warpup] Re: LR bugfix " Link "Mail_54"}      Steffen Haeuser
@ENDNODE
@NODE "Mail_0" " [warpup] Re: Multitask lock bug (was Re: Questions) "
From: Mark Olsen <BIGFoot@Private.dk>
Date: 07-08-00 04:35:13
Subject: @{b}[warpup] Re: Multitask lock bug (was Re: Questions)@{ub}

Hello Oliver

On 16-Aug-00, you wrote:

>> The conclusiong is that it seems not to be a software problem. As the one
>> board works where there other fail, in the same software environment, it
>> must be something else. And it is /NOT/ cooling.
> 
> I'm not so sure that it's not a software problem - it could be a bug in
> WarpOS, and it's just that the bug does not cause problems on all systems,
> but if the bug was fixed, WarpOS would then work on all systems.  Just a
> theory :)

You're right, it could be, but in the light of current evidence, it seems like
it is a hw problem.

> I have a 240MHz 603e board, and I generally don't have any problems.
> However, under heavy WarpOS multitasking, WarpOS just seems to lock up.
> There are no crashes, hits, exceptions or anything - WarpOS just seems to
> get stuck and doesn't respond.  If you try to run any PPC program after
> this has happened (such as stat), it just sits there and does nothing.

That's the one. Exact same symptoms, everything just stops. Kinda scary,
actully. If it is a software bug, it is most probably in the scheduler or the
hardware interface library thingie.

> One way which is almost guaranteed to reproduce this problem, is to
> create a script with about 100 "run multiview test.jpg" lines in it - i.e.
> tries to a display an image 100 times, with each process running in
> parallel.  With my WarpJPEG and/or WarpPNG datatypes, this will usually
> result in WarpOS coming to a standstill, as above.  I notice that the
> ak* datatypes appear to workaround this problem, by only allowing one
> decoder to run concurrently (whereas my datatypes may well have 100
> decoders/tasks running concurrently, in the this case).

Well, the easiest way to reproduce it here is to start Wipeout. It runs for
anything from 5 seconds to 30 minutes. Other ways could be playing an MP3,
encoding one and having the Distributed.net client running.

> Has Sam Jordan made any comments about this problem?

Yeah, he says that he is innocent (don't take this personally) ;)

Regards


@ENDNODE
@NODE "Mail_1" " [warpup] Re: G3 & CGFX "
From: Mark Olsen <BIGFoot@Private.dk>
Date: 07-08-00 04:38:26
Subject: @{b}[warpup] Re: G3 & CGFX@{ub}

Hello Stian

On 16-Aug-00, you wrote:

>>> Linux is to loose ended... everything comes either uncompiled. without
>>> installers... and it's a bit to complicated for most people.
>> ?? pretty much like AmigaOS then....or maybe you dont see how many problems
>> people have on this list?  8-)
> 
> hm... well, I dunno... I have always thought AmigaOS is quite
> easy to learn... and it's possible to make it look and feel
> the way we want it to... 

It is. I'm sure he was thinking of how difficult it is to make Warp3D working.
As CGX isn't really prepared for that kind of stuff, it is kindof a hack.

> Windows is pretty much standardized in all ways, and not much can 
> be configured... ;/

So true.

Regards


@ENDNODE
@NODE "Mail_2" " [warpup] Re: Multitask lock bug (was Re: Questions) "
From: Mark Olsen <BIGFoot@Private.dk>
Date: 07-08-00 04:41:07
Subject: @{b}[warpup] Re: Multitask lock bug (was Re: Questions)@{ub}

Hello Sam

On 16-Aug-00, you wrote:

>> Has Sam Jordan made any comments about this problem?
> 
> I did not, although I can not exclude the possibility that there
> might be problems left in the multitasking part of WarpOS. I need
> a reliable way to reproduce the problem, otherwise I can't find
> out whether the problem is really WarpOS' fault. Up to now there
> was no way to reliably reproduce multitasking problems, at least
> I didn't hear of any.

Well, you have been aware of the problem for a long time now. Although at that
time i mentioned it, i seemed to be the only one with that problem. Maybe i
was the only one who knew how to utilize the PPC ? :]

Regards


@ENDNODE
@NODE "Mail_3" " [warpup] Re: AHI "
From: Franck DEROUAULT <fderouault@free.fr>
Date: 07-08-00 15:46:06
Subject: @{b}[warpup] Re: AHI@{ub}

Salut Paolo

On 01-jan-78, you wrote: (hum, I think you've got problem with the battery
of your BlizzardPPC)

> When will be a good version of AHI for PPC?
> Why nobody take the source and fixes those nusty bugs that Martin inserted
> in every PPC release ? :-)
> Go friends!
> 
> PS
> Mmm but Martin suks? (like Ralph Smith?)

I don't know! ;)
But for the ahippc problem, yes, it would be great if it become stable at
least!
Moreover, PETSOFT Ltd Psp (Delfina...) were claiming that they support the
PPC version of AHI for their sound cards. Perhaps the solution is in their
hands?

Bye,

        *ANTEK*/Alliance Micro 


@ENDNODE
@NODE "Mail_4" " Re: [warpup] Re: AHI "
From: Joseph Fenton <jlfenton@ctaz.com>
Date: 07-08-00 19:05:55
Subject: @{b}Re: [warpup] Re: AHI@{ub}

Franck DEROUAULT wrote:
> 
> Salut Paolo
> 
> > When will be a good version of AHI for PPC?
> > Why nobody take the source and fixes those nusty bugs that Martin inserted
> > in every PPC release ? :-)
> 
> I don't know! ;)
> But for the ahippc problem, yes, it would be great if it become stable at
> least!
> Moreover, PETSOFT Ltd Psp (Delfina...) were claiming that they support the
> PPC version of AHI for their sound cards. Perhaps the solution is in their
> hands?

Any card that has a normal AHI driver is supposed to work with
AHI-PPC as it currently exists.  AHI-PPC replaces the normal
68K device that does the mixing and whatnot with a PPC version
that still calls the original 68K card driver.  That is probably
the main reason why just playing a stereo sample can take 20% of
the power of a 604.

@ENDNODE
@NODE "Mail_5" " Re: [warpup] Re: AHI "
From: Steffen Haeuser <magicsn@birdland.es.bawue.de>
Date: 07-08-00 23:27:28
Subject: @{b}Re: [warpup] Re: AHI@{ub}


 owner-warpup-list@haage-partner.com wrote :

Hi!

ow> Any card that has a normal AHI driver is supposed to work with
ow> AHI-PPC as it currently exists.  AHI-PPC replaces the normal
ow> 68K device that does the mixing and whatnot with a PPC version
ow> that still calls the original 68K card driver.  That is probably

Exactly... and a lot of programs (WarpSNES for example) do their own mixing 
anyways, so they don't profit of the existing AHI PPC in any way... a "real" 
PPC Native version should also have PPC Native Drivers... of course these are 
a lot of drivers to rewrite, and AFAIK currently drivers are mostly 
implemented in ASM.

Steffen



@ENDNODE
@NODE "Mail_6" " [warpup] Replace 040 on the CSPPC to an 060 ! "
From: Fredrik Nilsson <fredrik.nilsson@mbox356.swipnet.se>
Date: 07-12-00 23:24:12
Subject: @{b}[warpup] Replace 040 on the CSPPC to an 060 !@{ub}

Hi

I´m just wondering if anyone here has, of if you know anyone who has
replaced their 040/25 on the CSPPC to a 060/50Mhz ?

If you think this is off-topic e-mail me privatly.
I don´t really know where else to ask.... =) 


Kind regards /Fredrik
-- 
        ----------------------------------------------------------------
        -  A3000D, CSPPC@233, 040@25, 2.5GBUW Fujitsu, CyberVisionPPC  -
        --   X-Surf 10Mbit, 76MB FAST, Viking 2x20W + 25W SubWoofer   --
        ---                                                          ---
        ----     DrBrain on IRCNet (#amiga.se) -  ICQ: 44781455     ----
        -----          Writer for http://come.to/ppcrulez          -----
        ----         Homepage: http://drbrain.copy.orsa.se          ----
        ---                                                          ---
        --         -Hiroshima 45  -Tjernobyl 86  -Windows 95          --
        -                                                              -
        ----------------------------------------------------------------


@ENDNODE
@NODE "Mail_7" " [warpup] Run68k yet a trouble "
From: Almos Rajnai <racs@fs2.bdtf.hu>
Date: 07-13-00 08:37:20
Subject: @{b}[warpup] Run68k yet a trouble@{ub}

Hello there!

Since my last letter I could not solve the trouble with Run68k 
function of WarpOS. It always calls some impossible addresses instead 
of mine. Here is my source:

------------test68k.asm---------------

	INCDIR include:
	INCLUDE exec/exec_lib.i
	INCLUDE dos/dos_lib.i
	INCLUDE powerpc/powerpc.i

	XREF	ppcroutine
	XREF	_LinkerDB
	
	XDEF	backcall
	XDEF	_PowerPCBase

	lea	powerpcname,a1
	moveq.l	#0,d0
	move.l	4.w,a6
	jsr	_LVOOpenLibrary(a6)
	tst.l	d0
	beq.b	.error
	move.l	d0,_PowerPCBase

	lea	dosname,a1
	moveq.l	#0,d0
	jsr	_LVOOpenLibrary(a6)
	tst.l	d0
	beq.b	.error
	move.l	d0,dosbase

	lea	_LinkerDB,a4
	moveq.l	#0,d0
	RUNPOWERPC_XL	osszead
	move.l	d0,num

	move.l	#format,d1
	move.l	#num,d2
	move.l	dosbase,a6
	jsr	_LVOVPrintf(a6)
.error
	move.l	4.w,a6
	move.l	_PowerPCBase(pc),a1
	cmpa.l	#0,a1
	beq.s	.cont1
	jsr	_LVOCloseLibrary(a6)
.cont1
	move.l	dosbase(pc),a1
	cmpa.l	#0,a1
	beq.s	.cont2
	jsr	_LVOCloseLibrary(a6)
.cont2
	rts

backcall:
	moveq.l	#36,d0
	rts

_PowerPCBase:	dc.l	0
dosbase:	dc.l	0
num:		dc.l	0

format:		dc.l	"%lx\n",0
powerpcname:	dc.b	"powerpc.library",0
dosname:	dc.b	"dos.library",0

-------------testppc.asm-------------------------

		.global	ppcroutine
		.global	@_backcall

		.text

	.set	_d0,r3
	.set	_d1,r4
	.set	_d2,r22
	.set	_d3,r23
	.set	_d4,r24
	.set	_d5,r25
	.set	_d6,r26
	.set	_d7,r27
	.set	_a0,r5
	.set	_a1,r6
	.set	_a2,r28
	.set	_a3,r29
	.set	_a4,rtoc
	.set	_a5,r30
	.set	_a6,r31

	.set	_h0,r7
	.set	_h1,r8
	.set	_h2,r9

	.sdreg	rtoc

ppcroutine:
	.set	PP_CODE,0
	.set	PP_OFFSET,4
	.set	PP_FLAGS,8
	.set	PP_STACKPTR,12
	.set	PP_STACKSIZE,16
	.set	PP_REGS,20
	.set	PP_FREGS,20+15*4
	.set	PP_SIZE,20+15*4+8*8

	subi	r1,r1,PP_SIZE
	stw	_d0,PP_REGS(r1)
	stw	_d1,PP_REGS+1*4(r1)
	stw	_d2,PP_REGS+2*4(r1)
	stw	_d3,PP_REGS+3*4(r1)
	stw	_d4,PP_REGS+4*4(r1)
	stw	_d5,PP_REGS+5*4(r1)
	stw	_d6,PP_REGS+6*4(r1)
	stw	_d7,PP_REGS+7*4(r1)
	stw	_a0,PP_REGS+8*4(r1)
	stw	_a1,PP_REGS+9*4(r1)
	stw	_a2,PP_REGS+10*4(r1)
	stw	_a3,PP_REGS+11*4(r1)
	stw	_a4,PP_REGS+12*4(r1)
	stw	_a5,PP_REGS+13*4(r1)
	stw	_a6,PP_REGS+14*4(r1)

	lwz	_d0,@_backcall(rtoc)
	stw	_d0,PP_CODE(r1)
	li	_d0,0
	stw	_d0,PP_OFFSET(r1)
	stw	_d0,PP_FLAGS(r1)
	stw _d0,PP_STACKPTR(r1)
	stw	_d0,PP_STACKSIZE(r1)
	mr	r4,r1

	.global	@__PowerPCBase

	lwz	r3,@__PowerPCBase(rtoc)
	lwz	r3,0(r3)
	lwz	r5,-300+2(r3)		#Run68K
	mtlr	r5
	blrl
	lwz	_d0,PP_REGS(r1)
	addi	r1,r1,PP_SIZE

	blr
------------------------------------

So, what is wrong with it? Calling requires an exact PowerOpen 
stackframe? Or what else?
I also tried to pass the address of a pointer to my 68k code, but it 
did not work too.

I use pasm from VBCC package and phxass.

Thanks in advance:

     Rajnai Almos

+---------------------------=%%&##########&%%=-------------------------+
|    Rachy of Bi0Hazard      | PowerAmiga owner | ATO Hungarian |F0NT! |
|  e-mail: racs@fs2.bdtf.hu  |  No Risc No Fun! |     member    |Editor|
+-----ICQ:-16342960---------=%%&##########&%%=---Phone:+36 20 9891489--+

@ENDNODE
@NODE "Mail_8" " [warpup] Re: Replace 040 on the CSPPC to an 060 ! "
From: Svein Ingve Wik <svein.ingve.wik@c2i.net>
Date: 07-13-00 09:52:13
Subject: @{b}[warpup] Re: Replace 040 on the CSPPC to an 060 !@{ub}

Hello Fredrik

On 13-Jul-00, you wrote:

> I´m just wondering if anyone here has, of if you know anyone who has
> replaced their 040/25 on the CSPPC to a 060/50Mhz ?

Yes, I did it yesterday:)

Go to: #http://www.starnet.com.au/davem/overclock/csppc.html#

A little warning from that page:

"Be VERY CAREFUL when changing these jumpers. They are TINY surface mount
jumpers, which look like surface mount resistors, and both the jumpers and
the PCB tracks can be very easily damaged. Get a qualified electronics
technician to change them. Note that they are completely unlike the standard
pin type jumpers which use removable shorting blocks."

My problem is that Cybergraphx 4.x won't work with WarpUp, so for the
moment,
I'm using my old MkII again:(


-- 
Regards,

Svein Ingve


@ENDNODE
@NODE "Mail_9" " Re: [warpup] Run68k yet a trouble "
From: Joseph Fenton <jlfenton@ctaz.com>
Date: 07-13-00 10:38:29
Subject: @{b}Re: [warpup] Run68k yet a trouble@{ub}

Almos Rajnai wrote:

          ...
 
> backcall:
>         moveq.l #36,d0
>         rts
 
          ...
 
>         lwz     _d0,@_backcall(rtoc)
>         stw     _d0,PP_CODE(r1)

          ...
 
> So, what is wrong with it? Calling requires an exact PowerOpen
> stackframe? Or what else?

Well, when I was doing mixed assembly similar to what you
were doing, I found that you need to make a variable in the
data area (in the 68K part) like -

backptr   dc.l    backcall

Then access it like -

          lw     _d0,backptr

This was in PowerASM; I can't imagine vbcc/pasm/phass
would be any different other than slightly different
syntax.

@ENDNODE
@NODE "Mail_10" " Re: [warpup] Re: Replace 040 on the CSPPC to an 060 ! "
From: Joseph Fenton <jlfenton@ctaz.com>
Date: 07-13-00 10:40:55
Subject: @{b}Re: [warpup] Re: Replace 040 on the CSPPC to an 060 !@{ub}

Svein Ingve Wik wrote:
> 
> My problem is that Cybergraphx 4.x won't work with WarpUp, so for the

It works fine with WarpUp for me; make sure you have the latest
4.x by going to www.vgr.com.  They have a new 4.x updater there.

@ENDNODE
@NODE "Mail_11" " [warpup] Re: Replace 040 on the CSPPC to an 060 ! "
From: Svein Ingve Wik <svein.ingve.wik@c2i.net>
Date: 07-13-00 11:38:21
Subject: @{b}[warpup] Re: Replace 040 on the CSPPC to an 060 !@{ub}

Hello Joseph

On 13-Jul-00, you wrote:

>> My problem is that Cybergraphx 4.x won't work with WarpUp, so for the
> 
> It works fine with WarpUp for me; make sure you have the latest
> 4.x by going to www.vgr.com.  They have a new 4.x updater there.

I've done that.

Are you using a CV64?

If yes, did you have to set some tooltypes to get it working?

I just installed WarpUp 4, and dissabled the CyberMap in SS. Later
I disabled all extras in SS, US and WBstartup, but it still doesn't work.


-- 
Regards,

Svein Ingve


@ENDNODE
@NODE "Mail_12" " [warpup] Re: Replace 040 on the CSPPC to an 060 ! "
From: Svein Ingve Wik <svein.ingve.wik@c2i.net>
Date: 07-13-00 11:38:38
Subject: @{b}[warpup] Re: Replace 040 on the CSPPC to an 060 !@{ub}

Hello Fredrik

On 13-Jul-00, you wrote:

> Where did you get your 060 from ?

>From my old MkII...

>> My problem is that Cybergraphx 4.x won't work with WarpUp, 

> Did this happen AFTER the replacement of the 040 chip or has it always
> been like that ???????

I didn't try with 040.

I have a CV64, and I get "Roxxler problem. Contact support" when booting.

After I sat the USEROXXLER to 0, the system boots (not using a Cybergraphx
screen), but the mousepointer is very jerky.

> I MUST have CyberGraphX v4 cuz I´m getting my CVisionPPC soon.

Me too, hoping to get it this week.

> No other probelms... ?

No, but I couldn't test much with a system like that.

-- 
Regards,

Svein Ingve


@ENDNODE
@NODE "Mail_13" " [warpup] Re: Replace 040 on the CSPPC to an 060 ! "
From: Fredrik Nilsson <fredrik.nilsson@mbox356.swipnet.se>
Date: 07-13-00 12:17:55
Subject: @{b}[warpup] Re: Replace 040 on the CSPPC to an 060 !@{ub}

Hello Svein
 
>> I´m just wondering if anyone here has, of if you know anyone who has
>> replaced their 040/25 on the CSPPC to a 060/50Mhz ?
> 
> Yes, I did it yesterday:)

Great !!!! 
Then all I have to do is get an 060 =))
Where did you get your 060 from ?

> Go to: #http://www.starnet.com.au/davem/overclock/csppc.html#
> 
> A little warning from that page:
> 
> "Be VERY CAREFUL when changing these jumpers. They are TINY surface mount
> jumpers, which look like surface mount resistors, and both the jumpers and
> the PCB tracks can be very easily damaged. Get a qualified electronics
> technician to change them. Note that they are completely unlike the
> standard pin type jumpers which use removable shorting blocks."

Okey... the are prolly like the ones i moved on my BPPC to overclock it.

> My problem is that Cybergraphx 4.x won't work with WarpUp, so for the
> moment,
> I'm using my old MkII again:(

Did this happen AFTER the replacement of the 040 chip or has it always been
like that ???????

I MUST have CyberGraphX v4 cuz I´m getting my CVisionPPC soon.


No other probelms... ?

Regards
-- 
        ----------------------------------------------------------------
        - A3000D, CSPPC@233, 040@25, 2.5GBUW Fujitsu, CyberVision64/3D -
        --   X-Surf 10Mbit, 76MB FAST, Viking 2x20W + 25W SubWoofer   --
        ---                                                          ---
        ----     DrBrain on IRCNet (#amiga.se) -  ICQ: 44781455     ----
        -----          Writer for http://come.to/ppcrulez          -----
        ----         Homepage: http://drbrain.copy.orsa.se          ----
        ---                                                          ---
        --         -Hiroshima 45  -Tjernobyl 86  -Windows 95          --
        -                                                              -
        ----------------------------------------------------------------


@ENDNODE
@NODE "Mail_14" " Antwort: [warpup] Re: Replace 040 on the CSPPC to an 060 ! "
From: Thomas Koerner <thomas.koerner@berata.com>
Date: 07-13-00 12:28:58
Subject: @{b}Antwort: [warpup] Re: Replace 040 on the CSPPC to an 060 !@{ub}

Hello Svein!

Did you changed the INT/EXT-Jumpers on the Motherboard while changing the 
CSPPC<->MKII ? !IMPORTANT!
If not, the Zorro-3 access did not work, resulting in crashes or 
misbehavior under CGFX using a Zorro-3 GFX-card.

ByteKnight, byteknight@web.de




Svein Ingve Wik <svein.ingve.wik@c2i.net>
Gesendet von: owner-warpup-list@haage-partner.com
13.07.2000 12:38
Bitte antworten an warpup-list

 
        An:     warpup-list@haage-partner.com
        Kopie: 
        Thema:  [warpup] Re: Replace 040 on the CSPPC to an 060 !

Hello Joseph

On 13-Jul-00, you wrote:

>> My problem is that Cybergraphx 4.x won't work with WarpUp, so for the
> 
> It works fine with WarpUp for me; make sure you have the latest
> 4.x by going to www.vgr.com.  They have a new 4.x updater there.

I've done that.

Are you using a CV64?

If yes, did you have to set some tooltypes to get it working?

I just installed WarpUp 4, and dissabled the CyberMap in SS. Later
I disabled all extras in SS, US and WBstartup, but it still doesn't work.


-- 
Regards,

Svein Ingve



@ENDNODE
@NODE "Mail_15" " Re: [warpup] Replace 040 on the CSPPC to an 060 ! "
From: Svein Ingve Wik <svein.ingve.wik@c2i.net>
Date: 07-13-00 18:31:13
Subject: @{b}Re: [warpup] Replace 040 on the CSPPC to an 060 !@{ub}

Hello Thomas

On 13-Jul-00, you wrote:
> Did you changed the INT/EXT-Jumpers on the Motherboard while changing the 
> CSPPC<->MKII ? !IMPORTANT!

No, I didn't. Do you know which jumpers I have to change (A3000D)?


-- 
Regards,

Svein Ingve


@ENDNODE
@NODE "Mail_16" " Re: [warpup] Re: Replace 040 on the CSPPC to an 060 ! "
From: Joseph Fenton <jlfenton@ctaz.com>
Date: 07-13-00 18:45:27
Subject: @{b}Re: [warpup] Re: Replace 040 on the CSPPC to an 060 !@{ub}

Svein Ingve Wik wrote:
> 
> Hello Joseph
> 
> On 13-Jul-00, you wrote:
> 
> >> My problem is that Cybergraphx 4.x won't work with WarpUp, so for the
> >
> > It works fine with WarpUp for me; make sure you have the latest
> > 4.x by going to www.vgr.com.  They have a new 4.x updater there.
> 
> I've done that.
> 
> Are you using a CV64?

CV3D, but I know folks using the CV64 and 4.x and WarpUp.
Folks on the FUSION list have been talking back and
forth about video card speed and overclocking of the
CSPPC and CV64 and CVPPC and other cards.  I suspect
you just have something not set right.

@ENDNODE
@NODE "Mail_17" " [warpup] ppclibemul "
From: "Marion E. Wyatt" <amiscorp@earthlink.net>
Date: 07-13-00 23:58:44
Subject: @{b}[warpup] ppclibemul@{ub}

Hi,

What appears to be the better of the ppclibemil 0.8? A or B? What works now
that didn't before?

-- 
Marion E Wyatt  A3000 CSPPC/233+060/50 CV64/3D OS3.5 138MB 1+18.2GB ZIP100
amiscorp@earthlink.net  Support commercial   Only AMIGA Makes It Possible!
                 / // / and shareware progs    AMIGA * Back For The FUTURE
Member   __ __  / // /                             Dare To Dream AMIGA!
of       \ \\ \/ // /    * A M I G A   I N T E R N A T I O N A L   I N C *
Team AMIGA\ \\/ // /             and   * * A M I G A   I N C * *
           \_/_//_/   My homepage  *  http://home.earthlink.net/~amiscorp
Amiga Connexion * http://home.earthlink.net/~amiscorp/AmigaConnexion.html


@ENDNODE
@NODE "Mail_18" " Antwort: Re: [warpup] Replace 040 on the CSPPC to an 060 ! "
From: Thomas Koerner <thomas.koerner@berata.com>
Date: 07-14-00 08:50:37
Subject: @{b}Antwort: Re: [warpup] Replace 040 on the CSPPC to an 060 !@{ub}

Hello Svein!
I don't  know how the jumpers named on the A3000, but look in the near of 
the Slot where the CSPPC fits and search for a jumper-pair ( 2 Jumpers on 
a 3 pin connector) marked with INT/EXT and change both to the other 
setting.
Possible more in the A3000-Manual?

Greetings,  Thomas




Svein Ingve Wik <svein.ingve.wik@c2i.net>
Gesendet von: owner-warpup-list@haage-partner.com
13.07.2000 19:31
Bitte antworten an warpup-list

 
        An:     warpup-list@haage-partner.com
        Kopie: 
        Thema:  Re: [warpup] Replace 040 on the CSPPC to an 060 !

Hello Thomas

On 13-Jul-00, you wrote:
> Did you changed the INT/EXT-Jumpers on the Motherboard while changing 
the 
> CSPPC<->MKII ? !IMPORTANT!

No, I didn't. Do you know which jumpers I have to change (A3000D)?


-- 
Regards,

Svein Ingve



@ENDNODE
@NODE "Mail_19" " Re: Antwort: Re: [warpup] Replace 040 on the CSPPC to an 060 ! "
From: Fredrik Nilsson <fredrik.nilsson@mbox356.swipnet.se>
Date: 07-14-00 10:22:36
Subject: @{b}Re: Antwort: Re: [warpup] Replace 040 on the CSPPC to an 060 !@{ub}

Hello Thomas

>> Did you changed the INT/EXT-Jumpers on the Motherboard while changing 
> the 
>> CSPPC<->MKII ? !IMPORTANT!
> 
> No, I didn't. Do you know which jumpers I have to change (A3000D)?

Look in your CSPPC manual.. they are mentioned there.

Regards
-- 
        ----------------------------------------------------------------
        - A3000D, CSPPC@233, 040@25, 2.5GBUW Fujitsu, CyberVision64/3D -
        --   X-Surf 10Mbit, 76MB FAST, Viking 2x20W + 25W SubWoofer   --
        ---                                                          ---
        ----     DrBrain on IRCNet (#amiga.se) -  ICQ: 44781455     ----
        -----          Writer for http://come.to/ppcrulez          -----
        ----         Homepage: http://drbrain.copy.orsa.se          ----
        ---                                                          ---
        --         -Hiroshima 45  -Tjernobyl 86  -Windows 95          --
        -                                                              -
        ----------------------------------------------------------------


@ENDNODE
@NODE "Mail_20" " [warpup] Re: Replace 040 on the CSPPC to an 060 ! "
From: Steffen Haeuser <magicsn@birdland.es.bawue.de>
Date: 07-14-00 19:25:42
Subject: @{b}[warpup] Re: Replace 040 on the CSPPC to an 060 !@{ub}


 owner-warpup-list@haage-partner.com wrote :

Hi!

>> I´m just wondering if anyone here has, of if you know anyone who has
>> replaced their 040/25 on the CSPPC to a 060/50Mhz ?

ow> Yes, I did it yesterday:)

ow> Go to: #http://www.starnet.com.au/davem/overclock/csppc.html#

On that page it is written he did not actually try the 040->060 stuff out... I 
would call it "dangerous", especially if the voltage jumper really works like 
expected :)

I was also told recently (not sure if it is true) that the FlashROM would 
contain a "check" which CPU is on the Board and would not operate if it is the 
wrong one.

My recommendation would be for "PPC-Board-modificators" to stick with 
overclocking... unless you know *exactly* what you are doing. And even with 
overclocking you should know *exactly* what you are doing.

Steffen

@ENDNODE
@NODE "Mail_21" " Re: [warpup] Replace 040 on the CSPPC to an 060 ! "
From: Svein Ingve Wik <svein.ingve.wik@c2i.net>
Date: 07-14-00 20:28:49
Subject: @{b}Re: [warpup] Replace 040 on the CSPPC to an 060 !@{ub}

Hello Thomas

On 14-Jul-00, you wrote:

> I don't  know how the jumpers named on the A3000, but look in the near of 
> the Slot where the CSPPC fits and search for a jumper-pair ( 2 Jumpers on 
> a 3 pin connector) marked with INT/EXT and change both to the other 
> setting.

There is three jumpers with INT/EXT markings, but I found out that I had to
set J100 & J104 to EXT (same for A4000 I think).

Everything works GREAT now:)

My CVPPC came in the mail today, and now I have a beautiful DOpusWB at
1600*1200 on my 21". Life is sweat:)

Thanks to all who helped me!

-- 
Regards,

Svein Ingve


@ENDNODE
@NODE "Mail_22" " [warpup] Re: Replace 040 on the CSPPC to an 060 ! "
From: Fredrik Nilsson <fredrik.nilsson@mbox356.swipnet.se>
Date: 07-14-00 23:13:30
Subject: @{b}[warpup] Re: Replace 040 on the CSPPC to an 060 !@{ub}

Hello Steffen

> I was also told recently (not sure if it is true) that the FlashROM would
> contain a "check" which CPU is on the Board and would not operate if it is
> the wrong one.

Who has done the FlashROM ? is it Ralph Smidth ? anyone know the e-mail
adress to him, if it is he who hase done the FlashROM.

> My recommendation would be for "PPC-Board-modificators" to stick with
> overclocking... unless you know *exactly* what you are doing. And even
> with overclocking you should know *exactly* what you are doing.

The 040 would be to hot.

Regards
-- 
        ----------------------------------------------------------------
        - A3000D, CSPPC@233, 040@25, 2.5GBUW Fujitsu, CyberVision64/3D -
        --   X-Surf 10Mbit, 76MB FAST, Viking 2x20W + 25W SubWoofer   --
        ---                                                          ---
        ----     DrBrain on IRCNet (#amiga.se) -  ICQ: 44781455     ----
        -----          Writer for http://come.to/ppcrulez          -----
        ----         Homepage: http://drbrain.copy.orsa.se          ----
        ---                                                          ---
        --         -Hiroshima 45  -Tjernobyl 86  -Windows 95          --
        -                                                              -
        ----------------------------------------------------------------


@ENDNODE
@NODE "Mail_23" " [warpup] Re: Replace 040 on the CSPPC to an 060 ! "
From: Jonathan Hart <j.hart@ukonline.co.uk>
Date: 07-15-00 11:16:54
Subject: @{b}[warpup] Re: Replace 040 on the CSPPC to an 060 !@{ub}

Hi there Svein


> My CVPPC came in the mail today, and now I have a beautiful DOpusWB at
> 1600*1200 on my 21". Life is sweat:)
                               ^^^^^

Yeah, well those Cyberstorms do get pretty hot I'm told ;)


All the best,
-- 
Jonathan Hart
--
Config: *A1200T* BPPC 603e+ *BVision* SCSI 4g *Pace56k*
Composed and sent using YAM by Marcel Beck





@ENDNODE
@NODE "Mail_24" " [warpup] Terminator setting...... "
From: Henrik Nordhus <henrik.nordhus@c2i.net>
Date: 07-16-00 02:38:32
Subject: @{b}[warpup] Terminator setting......@{ub}

Am I the only one who's confused about the TERMINATOR ENV variable?
If I remember it correctly, you're supposed to set it to 2 for Warp3D
to work properly. Frank Wille recommends a setting of 0 or 1 in the
docs for PPC-library emulation. (Although I've used it successfully
with a setting of 2). The docs coming with the update for Heretic II
says to set TERMINATOR to 0.
Which setting do you guys with the stable setups use?


-- 
*******************************
Henrik Nordhus\\\\\\\\\\\\\\\\\\\\\\\\\\\\
////////////PPC603e+/210 BVision 64MB
4.3GB HD OS3.5\\\\\\\\\\\\\\\\\\\\\\\\\\\\
*******************************


@ENDNODE
@NODE "Mail_25" " [warpup] Re: Terminator setting...... "
From: Mark Olsen <BIGFoot@Private.dk>
Date: 07-16-00 02:59:13
Subject: @{b}[warpup] Re: Terminator setting......@{ub}

Hello Henrik

On 16-Jul-00, you wrote:

> Am I the only one who's confused about the TERMINATOR ENV variable?
> If I remember it correctly, you're supposed to set it to 2 for Warp3D
> to work properly. Frank Wille recommends a setting of 0 or 1 in the
> docs for PPC-library emulation. (Although I've used it successfully
> with a setting of 2). The docs coming with the update for Heretic II
> says to set TERMINATOR to 0.
> Which setting do you guys with the stable setups use?

0. Use 0, and use bppcfix. The termintor variable sets which type of
ppc.library termination to be used. Consult your manual :)

Regards


@ENDNODE
@NODE "Mail_26" " Re: [warpup] Run68k yet a trouble "
From: Frank Wille <frank@phoenix.owl.de>
Date: 07-16-00 18:21:15
Subject: @{b}Re: [warpup] Run68k yet a trouble@{ub}

Almos Rajnai wrote:


> Since my last letter I could not solve the trouble with Run68k
> function of WarpOS. It always calls some impossible addresses instead
> of mine. Here is my source:
> 
> ------------test68k.asm---------------
> [...]
> backcall:
>  moveq.l #36,d0
>  rts
> 
> _PowerPCBase: dc.l 0
> dosbase: dc.l 0
> num:  dc.l 0
> 
> format:  dc.l "%lx\n",0
> powerpcname: dc.b "powerpc.library",0
> dosname: dc.b "dos.library",0

The 68k-part is ok, although I would place the variables you
want to access from the PPC-side, like _PowerPCBase, into the
TOC section:

        section ".tocd",data

        dcb.b   32,0        ; buffer against cache problems
_PowerPCBase:
        dc.l    0

By doing so you can access _PowerPCBase via A4 on the 68k-side
and directly via R2 (rtoc) on the PPC-side.


> -------------testppc.asm-------------------------
> [...]
> ppcroutine:
>  .set PP_CODE,0
>  .set PP_OFFSET,4
>  .set PP_FLAGS,8
>  .set PP_STACKPTR,12
>  .set PP_STACKSIZE,16
>  .set PP_REGS,20
>  .set PP_FREGS,20+15*4
>  .set PP_SIZE,20+15*4+8*8
> 
>  subi r1,r1,PP_SIZE
>  stw _d0,PP_REGS(r1)
>  stw _d1,PP_REGS+1*4(r1)
>  stw _d2,PP_REGS+2*4(r1)
>  stw _d3,PP_REGS+3*4(r1)
>  stw _d4,PP_REGS+4*4(r1)
>  stw _d5,PP_REGS+5*4(r1)
>  stw _d6,PP_REGS+6*4(r1)
>  stw _d7,PP_REGS+7*4(r1)
>  stw _a0,PP_REGS+8*4(r1)
>  stw _a1,PP_REGS+9*4(r1)
>  stw _a2,PP_REGS+10*4(r1)
>  stw _a3,PP_REGS+11*4(r1)
>  stw _a4,PP_REGS+12*4(r1)
>  stw _a5,PP_REGS+13*4(r1)
>  stw _a6,PP_REGS+14*4(r1)
> 
>  lwz _d0,@_backcall(rtoc)
>  stw _d0,PP_CODE(r1)
>  li _d0,0
>  stw _d0,PP_OFFSET(r1)
>  stw _d0,PP_FLAGS(r1)
>  stw _d0,PP_STACKPTR(r1)
>  stw _d0,PP_STACKSIZE(r1)
>  mr r4,r1
>
>  .global @__PowerPCBase
> 
>  lwz r3,@__PowerPCBase(rtoc)
>  lwz r3,0(r3)
>  lwz r5,-300+2(r3)  #Run68K
>  mtlr r5
>  blrl

This is very dangerous. You have built your PPCArgs structure at
the bottom of the current stack frame. But when you call a sub-
routine, it expects a valid PowerOpen stack frame at this location.
So when Run68k() saves CR, LR or whatever in this stack frame, it
will destroy your PPCArgs structure.


>  lwz _d0,PP_REGS(r1)
>  addi r1,r1,PP_SIZE
> 
>  blr

Finally this BLR may be the cause of all your troubles. You didn't
neither save nor restore the LR register. But you destroyed it
yourself by doing "mtlr r5", some lines before.

This function will never return.


> So, what is wrong with it? Calling requires an exact PowerOpen
> stackframe?

Exactly. I would strongly recommend building a valid PowerOpen
stack frame, when calling powerpc.library functions.


> I use pasm from VBCC package and phxass.

This is definitely not the problem. :)

BTW, how do you link the M68k and PPC objects? I recommend
linking with vlibwos:x.o, to insert some 32-bytes buffers
between the sections.


--
   _  Frank Wille (frank@phoenix.owl.de)
_ //  http://home.owl.de/~frank/
\X/   Phx @ #AmigaGer



@ENDNODE
@NODE "Mail_27" " Re: [warpup] Run68k yet a trouble "
From: Frank Wille <frank@phoenix.owl.de>
Date: 07-16-00 18:34:05
Subject: @{b}Re: [warpup] Run68k yet a trouble@{ub}

Joseph Fenton wrote:

> Almos Rajnai wrote:
> 
> ...
> 
> > backcall: moveq.l #36,d0 rts
> 
> ...
> 
> > lwz     _d0,@_backcall(rtoc) stw     _d0,PP_CODE(r1)
> 
> ...
> 
> > So, what is wrong with it? Calling requires an exact PowerOpen
> > stackframe? Or what else?
> 
> Well, when I was doing mixed assembly similar to what you were doing, I
> found that you need to make a variable in the data area (in the 68K
> part) like -
> 
> backptr   dc.l    backcall
> 
> Then access it like -
> 
> lw     _d0,backptr
> 
> This was in PowerASM; I can't imagine vbcc/pasm/phass would be any
> different other than slightly different syntax.

This was already correct what he did. He used the "@_backcall"
symbol, which contains a pointer to "backcall". When there is a
reference to such a "@_"-symbol, vlink will create it automati-
cally during the linking process. StormLink does the same, AFAIK,
so there is no need to do it manually like you did.


--
   _  Frank Wille (frank@phoenix.owl.de)
_ //  http://home.owl.de/~frank/
\X/   Phx @ #AmigaGer



@ENDNODE
@NODE "Mail_28" " Re: [warpup] ppclibemul "
From: Frank Wille <frank@phoenix.owl.de>
Date: 07-16-00 19:25:21
Subject: @{b}Re: [warpup] ppclibemul@{ub}

Marion E. Wyatt wrote:

> What appears to be the better of the ppclibemil 0.8? A or B?

Don't know. I offered these two different versions for download
because I want to know from you which is the better one. One of
those contains a new ELF-LoadSeg patch, which was first intro-
duced in V0.7e, but immediately removed in V0.7f, because I got
reports that it causes crashes with certain applications.

Now I got some reports that even this version is the better one.
This is very interesting... :)

--
   _  Frank Wille (frank@phoenix.owl.de)
_ //  http://home.owl.de/~frank/
\X/   Phx @ #AmigaGer



@ENDNODE
@NODE "Mail_29" " [warpup] Re: Replace 040 on the CSPPC to an 060 ! "
From: Svein Ingve Wik <svein.ingve.wik@c2i.net>
Date: 07-16-00 21:38:08
Subject: @{b}[warpup] Re: Replace 040 on the CSPPC to an 060 !@{ub}

Hello Jonathan

On 15-Jul-00, you wrote:
 
>> My CVPPC came in the mail today, and now I have a beautiful DOpusWB at
>> 1600*1200 on my 21". Life is sweat:)
>                               ^^^^^ 
> Yeah, well those Cyberstorms do get pretty hot I'm told ;)

Ups:)

Well, I did work hard for three days to get it to work...

Serious:
My A3000D gets VERY hot now (604e 200Mhz, 060 50MHz, CVPPC, 4 zorro
cards ++).

Is the PSU fan enough, or should I install an extra fan?


-- 
Svein Ingve, embarrassed:)


@ENDNODE
@NODE "Mail_30" " Re: [warpup] Re: Replace 040 on the CSPPC to an 060 ! "
From: Thomas Hansen <thoh@ifi.uio.no>
Date: 07-17-00 08:08:33
Subject: @{b}Re: [warpup] Re: Replace 040 on the CSPPC to an 060 !@{ub}

On Sun, 16 Jul 2000, Svein Ingve Wik wrote:

> Serious:
> My A3000D gets VERY hot now (604e 200Mhz, 060 50MHz, CVPPC, 4 zorro
> cards ++).
> 
> Is the PSU fan enough, or should I install an extra fan?

I'd say YES. I don't have CVPPC, only a 604e-233 and 040/40 w/5 or so
Zorro cards. I have dual PSU and three small fans in front and one big fan
inside making sure air flows thru the machine. My fan monitoring hardware
(buy it from Clas Ohlson if you're from Norway/Sweden) says I have about
40 degrees sustained temperature. I do have lots of disks so this might
give additional heat, but I would recommend you get some fans to cool
everything down.. If you're running this on a desktop A3000 you might have
problems finding a slot for the fan, but you'll work something out ;-) 

Good luck:)

2mas
--
Thomas Hansen, Department of Informatics, University of Oslo, Norway
PGP Public key is available using finger (ex. finger thoh@ifi.uio.no)


@ENDNODE
@NODE "Mail_31" " Re: [warpup] Run68k yet a trouble "
From: Almos Rajnai <racs@fs2.bdtf.hu>
Date: 07-17-00 08:25:12
Subject: @{b}Re: [warpup] Run68k yet a trouble@{ub}

Hello there!

On 16 Jul 00, at 19:21, Frank Wille wrote:

> The 68k-part is ok, although I would place the variables you
> want to access from the PPC-side, like _PowerPCBase, into the
> TOC section:

Why should I place into the .tocd section? BTW to avoid cache 
problems, "dcb.b   32,0" would be better at the end of a section, the 
beginning should be cache-aligned. (At least this seems obvious to 
me, but please correct my words.)

> By doing so you can access _PowerPCBase via A4 on the 68k-side
> and directly via R2 (rtoc) on the PPC-side.

All data sections can be accessed via rtoc, because they are merged 
together. (It is working, I tested it.)

> So when Run68k() saves CR, LR or whatever in this stack frame, it
> will destroy your PPCArgs structure.

This caused the trouble. Finally I found out, thank to fd2libWOS... 
:) Should I initialize somehow this stack frame? Code generated by 
fd2libWOS does no init at all. (?)

> This function will never return.

That was true, recently I found this bug too.

> > I use pasm from VBCC package and phxass.
> 
> This is definitely not the problem. :)

I know, I know... Great job Frank! ;)
Local labels can be used somehow in pasm? I really miss this function!
And sometimes pasm does not stop when it found an error in a macro. 
(Question appears, but compiling is running forward.)

> BTW, how do you link the M68k and PPC objects? I recommend
> linking with vlibwos:x.o, to insert some 32-bytes buffers
> between the sections.

Yes, finally I read the docs... ;D

The PPC version of my Commy Plus/4 emulator (called Flamingo) is on 
the way very soon. (It runs very well, usual framerate is above 70 
without frameskips on AGA, normally 50 is more than enough. 1 
Frameskip gives 150 FPS... I was really suprised on this result. 
Well, well... Asm optim... But this was a topic some months ago... :D 
)

Thanks for your answer!

Bye:


     Almos Rajnai

+---------------------------=%%&##########&%%=-------------------------+
|    Rachy of Bi0Hazard      | PowerAmiga owner | ATO Hungarian |F0NT! |
|  e-mail: racs@fs2.bdtf.hu  |  No Risc No Fun! |     member    |Editor|
+-----ICQ:-16342960---------=%%&##########&%%=---Phone:+36 20 9891489--+

@ENDNODE
@NODE "Mail_32" " Antwort: [warpup] Re: Replace 040 on the CSPPC to an 060 ! "
From: Thomas Koerner <thomas.koerner@berata.com>
Date: 07-17-00 10:07:08
Subject: @{b}Antwort: [warpup] Re: Replace 040 on the CSPPC to an 060 !@{ub}

Hello!

Same here.. :-), use an additional PSU (from a PC ...) for the Harddrives, 
and add some Fans in front and back, so you can use it as a hoovercraft or 
as a vacuum cleaner, too .. ;-)!
#
 




Svein Ingve Wik <svein.ingve.wik@c2i.net>
Gesendet von: owner-warpup-list@haage-partner.com
16.07.2000 22:38
Bitte antworten an warpup-list

 
        An:     warpup-list@haage-partner.com
        Kopie: 
        Thema:  [warpup] Re: Replace 040 on the CSPPC to an 060 !

Hello Jonathan

On 15-Jul-00, you wrote:
 
>> My CVPPC came in the mail today, and now I have a beautiful DOpusWB at
>> 1600*1200 on my 21". Life is sweat:)
>                               ^^^^^ 
> Yeah, well those Cyberstorms do get pretty hot I'm told ;)

Ups:)

Well, I did work hard for three days to get it to work...

Serious:
My A3000D gets VERY hot now (604e 200Mhz, 060 50MHz, CVPPC, 4 zorro
cards ++).

Is the PSU fan enough, or should I install an extra fan?


-- 
Svein Ingve, embarrassed:)



@ENDNODE
@NODE "Mail_33" " Re: Antwort: [warpup] Re: Replace 040 on the CSPPC to an 060 ! "
From: Jonathan Hart <j.hart@ukonline.co.uk>
Date: 07-17-00 14:09:14
Subject: @{b}Re: Antwort: [warpup] Re: Replace 040 on the CSPPC to an 060 !@{ub}

Hi there Thomas

On 17-Jul-00, you wrote:

> Hello!
> 
> Same here.. :-), use an additional PSU (from a PC ...) for the Harddrives,
> and add some Fans in front and back, so you can use it as a hoovercraft or
> as a vacuum cleaner, too .. ;-)! #

You have a Walker? :)

All the best,
-- 
Jonathan Hart
--
Config: *A1200T* BPPC 603e+ *BVision* SCSI 4g *Pace56k*
Composed and sent using YAM by Marcel Beck





@ENDNODE
@NODE "Mail_34" " [warpup] Re: Replace 040 on the CSPPC to an 060 ! "
From: Fredrik Nilsson <fredrik.nilsson@mbox356.swipnet.se>
Date: 07-17-00 14:12:08
Subject: @{b}[warpup] Re: Replace 040 on the CSPPC to an 060 !@{ub}

Hi Svein

> Serious:
> My A3000D gets VERY hot now (604e 200Mhz, 060 50MHz, CVPPC, 4 zorro
> cards ++).

DO you have the A3000D original PSU ???? it's only 135W... i have 2 zorro
cards and one hd, one cd-writer + the csppc card and it's NOT enough with
the original... sometimes the cd can recognize CDs. In the manual it says
that if that happens i may be lack of power.

> Is the PSU fan enough, or should I install an extra fan?

I gues you should install some extra fans. My brother has 3 x 80x80mm fans
in his A3000Tower (home-made).

Regards
-- 
        ----------------------------------------------------------------
        - A3000D, CSPPC@233, 040@25, 2.5GBUW Fujitsu, CyberVision64/3D -
        --         76MB FAST, Vikings 2 x 20W + 25W SubWoofer         --
        ---                                                          ---
        ----     DrBrain on IRCNet (#amiga.se) -  ICQ: 44781455     ----
        ---            Writer for http://come.to/ppcrulez            ---
        --                                                            --
        -          -Hiroshima 45  -Tjernobyl 86  -Windows 95           -
        ----------------------------------------------------------------


@ENDNODE
@NODE "Mail_35" " [warpup] Re: Replace 040 on the CSPPC to an 060 ! "
From: Svein Ingve Wik <svein.ingve.wik@c2i.net>
Date: 07-17-00 19:40:24
Subject: @{b}[warpup] Re: Replace 040 on the CSPPC to an 060 !@{ub}

Hello Fredrik

On 17-Jul-00, you wrote:

> DO you have the A3000D original PSU ????

Yes, but I have two external SCSI-boxes for my SCSI devices.

> i have 2 zorro
> cards and one hd, one cd-writer + the csppc card and it's NOT enough with
> the original... 

I have 060 and one HD in my desktop, and the PSU seems to handle it.

> I gues you should install some extra fans.

But where? The A3000 desktop is very small.

> My brother has 3 x 80x80mm fans in his A3000Tower (home-made).

I guess I have to do that too, but the A3000 mainboard is huge.

What kind of tower does he use?


-- 
Regards,

Svein Ingve


@ENDNODE
@NODE "Mail_36" " Re: [warpup] Run68k yet a trouble "
From: Joseph Fenton <jlfenton@ctaz.com>
Date: 07-17-00 19:46:58
Subject: @{b}Re: [warpup] Run68k yet a trouble@{ub}

Almos Rajnai wrote:
> 
> BTW to avoid cache
> problems, "dcb.b   32,0" would be better at the end of a section, the
> beginning should be cache-aligned. (At least this seems obvious to
> me, but please correct my words.)

The Amiga loader only guarantees 8 byte alignment; the 32 bytes
at the start of the PPC data area guarantees that you will
be into the next cache line for the data variables if the
block didn't fall on a 32 byte boundary.  Same business for
the end of the data area... use another 32 byte spacer so that
any 68K data blocks laoded after the ppc data block don't get
accidentally cached by the ppc.

@ENDNODE
@NODE "Mail_37" " [warpup] Crystal Oscillator ?? "
From: Shane Ponting <createcoms@ezysurf.co.nz>
Date: 07-17-00 19:56:20
Subject: @{b}[warpup] Crystal Oscillator ??@{ub}

Hi,
I am wanting to overclock my 040 on my BlizzardPPC.
I have been unsuccessful in obtaining a suitable crystal here in New Zealand.

Would anyone on this list be able to get me one at around 60/66mhz ??

Thanks
Shane Ponting
Taranaki
New Zealand


@ENDNODE
@NODE "Mail_38" " Re: [warpup] Run68k yet a trouble "
From: Frank Wille <frank@phoenix.owl.de>
Date: 07-17-00 20:49:40
Subject: @{b}Re: [warpup] Run68k yet a trouble@{ub}

Almos Rajnai wrote:

> On 16 Jul 00, at 19:21, Frank Wille wrote:
> 
> > The 68k-part is ok, although I would place the variables you want to
> > access from the PPC-side, like _PowerPCBase, into the TOC section:
> 
> Why should I place into the .tocd section?

As I said some lines below, you can access _PowerPCBase with

    move.l  _PowerPCBase(a4),d0
for M68k, and with

    lwz     r3,_PowerPCBase(r2)
for PPC. Currently you will need

    lwz     r11,@__PowerPCBase(r2)
    lwz     r3,0(r11)
on the PPC-side, because _PowerPCBase is not part of the TOC.


> BTW to avoid cache problems,
> "dcb.b   32,0" would be better at the end of a section,

At the end of the sections you could just link with vlibwos:x.o.


> the beginning should be cache-aligned. (At least this seems
> obvious to me, but please correct my words.)

A section is not PPC cache aligned, which means 32-bytes aligned.
A section is only guaranteed to be 8-bytes aligned. When this
section is loaded somewhere into memory, besides M68k-only memory,
cache problems are possible.


> > By doing so you can access _PowerPCBase via A4 on the 68k-side and
> > directly via R2 (rtoc) on the PPC-side.
> 
> All data sections can be accessed via rtoc, because they are merged
> together. (It is working, I tested it.)

Sigh. Yes, vlink will merge everything, if you force it to do so.
But with this style your programs may never get larger than 64k. ;)


> > So when Run68k() saves CR, LR or whatever in this stack frame, it will
> > destroy your PPCArgs structure.
> 
> This caused the trouble. Finally I found out, thank to fd2libWOS...
> :) Should I initialize somehow this stack frame?

I would insert these lines at the beginning of the function:

        mflr    r0
        stw     r0,8(r1)        # save LR in caller's stack frame
        stwu    r1,-160(r1)     # new SF: 160 bytes should be enough

Note that the first 24 Bytes are the minimum reserved for the
PowerOpen stack frame, so your PPCArgs structure may not start
before 24(r1).

        addi    r11,r1,24
        stw     _d0,PP_REGS(r11)
        stw     _d1,PP_REGS+1*4(r11)
        stw     _d2,PP_REGS+2*4(r11)
        [...]

Remove stack frame and restore LR at the end of your function:

        addi    r1,r1,160
        lwz     r0,8(r1)
        mtlr    r0
        blr


> Code generated by fd2libWOS does no init at all. (?)

What? The code which my fd2libWOS generates, makes a perfect
PowerOpen stack frame.


> Local labels can be used somehow in pasm?

Sorry, but this feature is still missing. Maybe in a future
release. I have plans for pasm V2, a portable assembler for
multiple CPUs and object file formats.


> And sometimes pasm does not stop when it found an error in a
> macro.

Please send me an example source and I will try to fix it.


--
   _  Frank Wille (frank@phoenix.owl.de)
_ //  http://home.owl.de/~frank/
\X/   Phx @ #AmigaGer



@ENDNODE
@NODE "Mail_39" " Re: [warpup] Run68k yet a trouble "
From: Almos Rajnai <racs@fs2.bdtf.hu>
Date: 07-18-00 08:20:16
Subject: @{b}Re: [warpup] Run68k yet a trouble@{ub}

Hello once again!

On 17 Jul 00, at 21:49, Frank Wille wrote:

> > Why should I place into the .tocd section?

> for PPC. Currently you will need
> 
>     lwz     r11,@__PowerPCBase(r2)

That is for because _PowerPCBase located in the data segment of the 
68k, and I did not merged together -> only the address is in the TOC 
area. (It is not possible to force 68k data area to the TOC? Of 
course without merging all togteher.) But you were right, I will move 
it into the TOC.

> A section is not PPC cache aligned, which means 32-bytes aligned.

That was really a suprise to me. It is not mentioned anywhere in the 
developer docs, and may cause dangerous cache underruns. Why does 
loadseg not patched in some way then?

> Sigh. Yes, vlink will merge everything, if you force it to do so.
> But with this style your programs may never get larger than 64k. ;)

I have some experience with multiple data segments... It is a must on 
intel... ;) (I hate that dumb processor...) So, I manage the merging 
trough two-three linking passes, not all the stuff merged together.

>         mflr    r0
>         stw     r0,8(r1)        # save LR in caller's stack frame
>         stwu    r1,-160(r1)     # new SF: 160 bytes should be enough

160 bytes? 32 not enough? What is the exact value?

> What? The code which my fd2libWOS generates, makes a perfect
> PowerOpen stack frame.

Sorry then, I probably missed it.

> Sorry, but this feature is still missing. Maybe in a future
> release. I have plans for pasm V2, a portable assembler for
> multiple CPUs and object file formats.

I am keen on waiting! 

> Please send me an example source and I will try to fix it.

Ok, I will.

Thanks for your answer again, I learned a lot.

Bye:

     Almos Rajnai

+---------------------------=%%&##########&%%=-------------------------+
|    Rachy of Bi0Hazard      | PowerAmiga owner | ATO Hungarian |F0NT! |
|  e-mail: racs@fs2.bdtf.hu  |  No Risc No Fun! |     member    |Editor|
+-----ICQ:-16342960---------=%%&##########&%%=---Phone:+36 20 9891489--+

@ENDNODE
@NODE "Mail_40" " Re: [warpup] Run68k yet a trouble "
From: Frank Wille <frank@phoenix.owl.de>
Date: 07-18-00 21:18:58
Subject: @{b}Re: [warpup] Run68k yet a trouble@{ub}

Almos Rajnai wrote:

> > for PPC. Currently you will need
> > 
> >     lwz     r11,@__PowerPCBase(r2)
> 
> That is for because _PowerPCBase located in the data segment of the
> 68k, and I did not merged together -> only the address is in the TOC
> area.

Correct.


> (It is not possible to force 68k data area to the TOC? Of
> course without merging all togteher.)

It is possible. Just access _PowerPCBase directly via r2 and vlink
is forced to merge "DATA" and ".tocd" (which is normally not what
you want).


> > A section is not PPC cache aligned, which means 32-bytes aligned.
> 
> That was really a suprise to me. It is not mentioned anywhere in the
> developer docs,

Which developer docs? :)


> and may cause dangerous cache underruns. Why does
> loadseg not patched in some way then?

The startup code for C programs already implements the 32-bytes
buffer, so there is only a problem when you are doing everything
yourself in assembler.

I think Sam prefered to omit every patch which is not absolutely
necessary. There are already too many patches in most systems.


> >         stwu    r1,-160(r1)     # new SF: 160 bytes should be enough
> 
> 160 bytes? 32 not enough? What is the exact value?

24 Bytes for the stack frame and sizeof(struct PPCArgs) for your
structure. When I didn't miscount, it should be 24 + 144 = 168
bytes, so 160 was not enough - sorry.

Rounded to the next 16-bytes boundary, I would take 176 bytes here.


--
   _  Frank Wille (frank@phoenix.owl.de)
_ //  http://home.owl.de/~frank/
\X/   Phx @ #AmigaGer



@ENDNODE
@NODE "Mail_41" " Re: [warpup] Re: Replace 040 on the CSPPC to an 060 ! "
From: Ilkka Prusi <ilkpru@jytol.fi>
Date: 07-19-00 13:13:09
Subject: @{b}Re: [warpup] Re: Replace 040 on the CSPPC to an 060 !@{ub}

On 14 Jul 2000, Steffen Haeuser wrote:
> 
> I was also told recently (not sure if it is true) that the FlashROM would 
> contain a "check" which CPU is on the Board and would not operate if it is the 
> wrong one.

I recall the notes on PPC-flashupdate state that there are different
updates for BlizzPPC with 040 and 060, not sure about CSPPC though..

 Ilkka

"The Great Disasters of the Millenia:
 Hiroshima, Hindenberg, Titanic, Windows 2000"



@ENDNODE
@NODE "Mail_42" " [warpup] Re: Replace 040 on the CSPPC to an 060 ! "
From: Shane Ponting <createcoms@ezysurf.co.nz>
Date: 07-19-00 19:56:48
Subject: @{b}[warpup] Re: Replace 040 on the CSPPC to an 060 !@{ub}


> I recall the notes on PPC-flashupdate state that there are different
> updates for BlizzPPC with 040 and 060, not sure about CSPPC though..
So all you do is update the flashrom when changing to 060 ??

> Ilkka

> "The Great Disasters of the Millenia:
> Hiroshima, Hindenberg, Titanic, Windows 2000"

-- 
Shane Ponting
Taranaki
New Zealand


@ENDNODE
@NODE "Mail_43" " [warpup] ADoomWOS and ChunkyPPC lib "
From: Duncan Gow <duncan@gow2.u-net.com>
Date: 07-21-00 17:20:06
Subject: @{b}[warpup] ADoomWOS and ChunkyPPC lib@{ub}

Hi,
   I'm trying to use ADoomWOS under chunkyPPC library in a workbench
window but in the screen requester I only get 8Bit and HiRes Pal
screen modes available even though I'm using a 16bit Workbench under
CGX V4.2 pre 7 with a BVision. Is it possible to get 16bit with
ChunkyPPC if so what am I doing wrong?h
-- 
 DUNX
*Amiga1200T*PPC/603e-160/040-25/BVision*96MegFast*CDRom*ZipDrive*
    *Connected via NetConnect3*-*Email duncan@gow2.u-net.com*     
            *http://www.gow2.u-net.com*UIN:16716106*          





     
  


@ENDNODE
@NODE "Mail_44" " [warpup] Re: ADoomWOS and ChunkyPPC lib "
From: Jarmo Laakkonen <jami.laakkonen@kolumbus.fi>
Date: 07-21-00 22:35:46
Subject: @{b}[warpup] Re: ADoomWOS and ChunkyPPC lib@{ub}

Duncan wrote something like this:

>   I'm trying to use ADoomWOS under chunkyPPC library in a workbench
> window but in the screen requester I only get 8Bit and HiRes Pal
> screen modes available even though I'm using a 16bit Workbench under
> CGX V4.2 pre 7 with a BVision. Is it possible to get 16bit with
> ChunkyPPC if so what am I doing wrong?h

If you want to play in wb window you have set the env variable
ADoomWOS/wb to 1. Although there's currently some problems with the
colors (at least on my setup) but it still should be playable.

ChunkyPPC does support depths greater than 8bit, but only with programs
that need it. And as Doom is a 8bit game only 8bit modes are shown.

-- 
http://www.kolumbus.fi/jami.laakkonen/ppc/index.html
  http://www.freespeech.org/cliffbarnes/index.html
A1200 040-25MHz & PPC 603e-240MHz, 48MB RAM, BVision

"I took you to the A-House and even to the punkpalats. Those trips made you
throw up."
-- Millencolin: Chiquita chaser


@ENDNODE
@NODE "Mail_45" " [warpup] LR bugfix "
From: Mark Olsen <BIGFoot@Private.dk>
Date: 07-27-00 01:07:52
Subject: @{b}[warpup] LR bugfix@{ub}

Hello,

Where do i find subject ?

Kind regards


@ENDNODE
@NODE "Mail_46" " [warpup] LR bugfix "
From: Steffen Haeuser <magicsn@birdland.es.bawue.de>
Date: 07-27-00 19:09:39
Subject: @{b}[warpup] LR bugfix@{ub}


 owner-warpup-list@haage-partner.com wrote :

Hi!

ow> Where do i find subject ?

I think it's on Aminet...

Steffen




@ENDNODE
@NODE "Mail_47" " [warpup] Re: LR bugfix "
From: Mark Olsen <BIGFoot@Private.dk>
Date: 07-27-00 20:50:26
Subject: @{b}[warpup] Re: LR bugfix@{ub}

Hello Steffen

On 27-Jul-00, you wrote:

>> Where do i find subject ?
> 
> I think it's on Aminet...

Searching on Aminet for LR+PPC, LR+Warp, LR+PowerPC, LR+WOS and LR+bug doesn't
find it.

Regards


@ENDNODE
@NODE "Mail_48" " [warpup] Re: LR bugfix "
From: Peter Mattsson <petermat@algonet.se>
Date: 07-27-00 23:04:13
Subject: @{b}[warpup] Re: LR bugfix@{ub}

Hello Mark

On 27-Jul-00, Mark Olsen wrote:
> Searching on Aminet for LR+PPC, LR+Warp, LR+PowerPC, LR+WOS and LR+bug
> doesn't find it.

The name of the archive is CSPPC233Fix.lha. You'll find it in hard/misc.

Regards
-- 
|   Peter Mattsson    |   AMIGA Programmer   |
|--------------------------------------------|
| E-mail: petermat@algonet.se                |
|    URL: http://www.teratrade.com/HaraldTH/ |


@ENDNODE
@NODE "Mail_49" " [warpup] Re: LR bugfix "
From: Fredrik Nilsson <fredrik.nilsson@mbox356.swipnet.se>
Date: 07-28-00 00:20:02
Subject: @{b}[warpup] Re: LR bugfix@{ub}

Hi Mark

>>> Where do i find subject ?
>> 
>> I think it's on Aminet...
> 
> Searching on Aminet for LR+PPC, LR+Warp, LR+PowerPC, LR+WOS and LR+bug
> doesn't find it. 

Try search on "csppc233fix", then you will find it.

Regards /Fredrik
-- 
        ----------------------------------------------------------------
        -  A3000D, CSPPC@233, 040@25, 2.5GBUW Fujitsu, CyberVisionPPC  -
        --         76MB FAST, Vikings 2 x 20W + 25W SubWoofer         --
        ---                                                          ---
        ----     DrBrain on IRCNet (#amiga.se) -  ICQ: 44781455     ----
        ---            Writer for http://come.to/ppcrulez            ---
        --                                                            --
        -          -Hiroshima 45  -Tjernobyl 86  -Windows 95           -
        ----------------------------------------------------------------


@ENDNODE
@NODE "Mail_50" " [warpup] Re: LR bugfix "
From: Mark Olsen <BIGFoot@Private.dk>
Date: 07-28-00 00:52:04
Subject: @{b}[warpup] Re: LR bugfix@{ub}

Hello Peter

On 27-Jul-00, you wrote:

> The name of the archive is CSPPC233Fix.lha. You'll find it in hard/misc.

Thank you.

Regards


@ENDNODE
@NODE "Mail_51" " Re: [warpup] Re: LR bugfix "
From: Joseph Fenton <jlfenton@ctaz.com>
Date: 07-28-00 06:29:42
Subject: @{b}Re: [warpup] Re: LR bugfix@{ub}

Mark Olsen wrote:
> 
> Hello Steffen
> 
> On 27-Jul-00, you wrote:
> 
> >> Where do i find subject ?
> >
> > I think it's on Aminet...
> 
> Searching on Aminet for LR+PPC, LR+Warp, LR+PowerPC, LR+WOS and LR+bug doesn't
> find it.

Last time I did a search with just PPC on AmiNet, it came up.

@ENDNODE
@NODE "Mail_52" " Re: [warpup] LR bugfix "
From: Frank Wille <frank@phoenix.owl.de>
Date: 07-28-00 11:00:10
Subject: @{b}Re: [warpup] LR bugfix@{ub}

Mark Olsen wrote:

> Where do i find subject ?

aminet/hard/misc/CSPPC233Fix.lha

--
   _  Frank Wille (frank@phoenix.owl.de)
_ //  http://home.owl.de/~frank/
\X/   Phx @ #AmigaGer



@ENDNODE
@NODE "Mail_53" " Re: [warpup] Re: LR bugfix "
From: Adrian Parsons <_panthro@yahoo.com>
Date: 07-31-00 06:00:47
Subject: @{b}Re: [warpup] Re: LR bugfix@{ub}

--- Joseph Fenton <jlfenton@ctaz.com> wrote:
> Mark Olsen wrote:
> > 
> > Hello Steffen
> > 
> > On 27-Jul-00, you wrote:
> > 
> > >> Where do i find subject ?
> > >
> > > I think it's on Aminet...
> > 
> > Searching on Aminet for LR+PPC, LR+Warp,
> LR+PowerPC, LR+WOS and LR+bug doesn't
> > find it.
> 
> Last time I did a search with just PPC on AmiNet, it
> came up.



erm I'm new sorry to ask but ah whats the LR bug fix
& how do I know if I need it????

I have a PPC Bvis Os3.5 combo!!


      -Panthro

__________________________________________________
Do You Yahoo!?
Kick off your party with Yahoo! Invites.
http://invites.yahoo.com/

@ENDNODE
@NODE "Mail_54" " Re: [warpup] Re: LR bugfix "
From: Steffen Haeuser <magicsn@birdland.es.bawue.de>
Date: 07-31-00 13:00:12
Subject: @{b}Re: [warpup] Re: LR bugfix@{ub}


 owner-warpup-list@haage-partner.com wrote :

Hi!

ow> erm I'm new sorry to ask but ah whats the LR bug fix
ow> & how do I know if I need it????

ow> I have a PPC Bvis Os3.5 combo!!

It is a problem which only appears on 233 MHz machines, and appears for both 
PPC Kernels. There are bugfixes for both kernels which fix this.

Well, if you do not have any strange crashes, you probably do not have the 
problem :)

Steffen

@ENDNODE
