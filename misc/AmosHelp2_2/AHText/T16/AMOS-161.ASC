*** AMOS HELP ***          ***  Strojový kód ***           *** 161 ***

--------------------------------------------
PLOAD
CALL
AREG
DREG
--------------------------------------------
AMOS Professional je natolik výkonný, þe je pouþívání strojového kódu
málokdy potïebné, ale pïíkazy pro práci s ním byly zachovány, aby
existující programátoïi ve strojovém kódu mohli pouþívat své rutiny.

Varování: Pouþívání pïíkazû pracujících se strojovým kódem je riskantní
a osoby neznalé strojového kódu mohou pomocí têchto pïíkazû snadno
zpûsobit spadnutí systému. Proto se laikûm doporuâuje tyto pïíkazy
nepouþívat.

Pïíkazem Pload je moþné zavést strojový program do pamêðové banky.

Pïíklad: Pload "JMENO_SOUBORU",CISLO_BANKY

Jakmile je jednou program nahrán, mûþe být ukládán jako soubor .abk
normálním zpûsobem. Nahraný program musí mít standardní Amiga formát
a musí splòovat následující podmínky:
   1) kompletní pïenositelnost (relocatable code)
   2) nahrán bude jen "code chunk"
   3) program musí být zakonâen jednou instrukcí RTS.

Spuõtêní strojového programu se provede instrukcí Call:

Pïíklad: Call ADRESA [,parametry]

Adresa mûþe být absolutní umístêní nebo âíslo banky. Pïi vstupu budou
registry D0-D7 a A0-A2 zaplnêny hodnotami z polí Areg a Dreg. Parametry
nacpané do zásobníku A3 pïíkazem Call musí být vybírány v opaâném
poïadí.

Pïíkaz Areg pïedává informace do adresních registrû mikroprocesoru.

Pïíklad: A=Areg(R)
         AREG(R)=A

Areg je sada õesti pseudopromênných, které drþí kopie hodnot prvních
õesti registrû mikroprocesoru. R mûþe být 0-6 a je to âíslo registru,
který má být ovlivnên.

Pïíkaz Dreg pïedává informace do datových registrû mikroprocesoru.

Pïíklad: D=Dreg(R)
         Dreg(R)=D

Dreg je pole 8 celoâíselných promênných (integer), které drþí kopie
hodnot datových registrû mikroprocesoru. R mûþe být 0-7 a je to âíslo
registru D1 aþ D7.

