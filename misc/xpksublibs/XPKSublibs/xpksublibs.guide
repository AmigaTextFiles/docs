@database xpksublibs_guide
@index xpklibs
@node main "xpk sublibs guide"
@{b}The XPK Sublibs Guide v1.0 (c) 2019 Kenny Richardson@{ub}

A comprehensive guide to all known eXternal PacKer - XPK - sub-libraries,
commonly known as sublibs. Their author, their source (if known), the
algorithm used, and any known bugs.

  @{" Introduction     " link Introduction} - Why now? Why years after XPK was really used?
  @{" Caveats          " link Caveats} - Some caveats to keep in mind with this document.
 
  @{" The sublibs      " link xpklibs} - Or if you'd rather dive straight in.

  @{" Acknowledgements " link acknowledgements} - Thanks and sources of this data.

@endnode

@node Introduction "Introduction - Why I did this now"
@{b}Introduction@{ub}

XPK (the eXternal PacKer) is something that most, if not all Amiga users past 
and present are familiar with. I won't go into it in detail how it works here: 
there are better sources for that.

It first appeared in summer of 1992, a very different time. Amiga had shaken 
off its 'elite users only' status of the 80s and was riding its peak, and still 
led by Commodore. Amigas were owned in their tens of millions. The internet as 
it came to be did not yet exist, and software was still handed around on floppy 
disks or transferred through slow, expensive phone connections. Freely 
distributable software was called Public Domain, and was often shareware, and 
the programmers still often used their BBS handles rather than their names. 
Having an Amiga still meant access to the best consumer machine on the market. 
Oh the memories...

In 1992 technology had limitations Amiga users still chafed to work around. CPU 
power was low, hard drives were small, and still a majority of users still had 
nothing but 880 KB floppies to work with. Data compression was common enough on 
Amiga, but anyone wishing to use it had to cram more data onto those floppies 
and small hard disks had to implement it themselves or use a common packer like 
PowerPacker, Imploder, and so on. A bunch of people, such as Dirk Stöcker, 
quickly found these not ideal or supported for every situation or system, and 
wondered if they could create something modular that could use different 
compression algorithms for different situations. And so xpk was born and 
quickly proved very popular: but that's another story.

The last work by the original xpk team seems to have taken place in the late 
90s, as some updates were made when the package was released with source under 
the GNU Public License. Since then it has always been on Aminet, and perfectly 
functional. When MorphOS and AmigaOS 4 launched they provided the xpk package 
with their operating systems, with a recompiled native main library but much 
the same sublibs running under the 68k emulation provided. By the early 21st 
century, compression outside that provided by typical internet files like jpg 
and mpg was almost obsolete, so not many people actually noticed.

Things have been much different for the sub-libraries (sublibs), however. 
Though there had been a big bunch of them, and were often listed on xpk pages 
such as Dirk Stöcker's own xpk site. Even back in the 90s I couldn't find some 
xpk sublibs, which was very frustrating even if I probably didn't need them. 
Some had never made it to Aminet. Some had, and some I remembered being there 
weren't there any more I found some in old Aminet CD listings.

Yes, they had gone. Stuff disappearing from Aminet had been a shock to me. I'd 
always thought of Aminet to be the secure storage vault for all Amiga stuff.  
Had they been lost in server crashes? No. Apparently, many files have been 
removed from Aminet, and xpk sublibs are among those.

There are many potential reasons for removal. Many of the sublibs removed just 
didn't work, and perhaps the developer got bored of emails requesting fixes. 
Others like BZIP and CAST may have fallen victim to algorithm patent strikes 
that began to be a thing in the late 90s when CompuServ and UniSys kicked it 
off with GIF. Others still pre-date Aminet and were never there in the first 
place, so putting them there would necessitate having to remove them again, as 
the original author's permission was not given.

Now, to me. I wasn't alone in an avid collector of sublibs back in my Amiga 
days, and had always planned to collect them all. But I never had. Decades 
later, I was sitting on IRC watching the depressing spectacle of the Amiga's 
short-lived retro comeback dissolve into legal squabbling, when someone pointed 
out to me a site of dubious legality which seemed to offer every Amiga shared 
library.

There I found a whole bunch of xpk sublibs, including ones I'd never found when 
I was actually an Amiga user. I installed them on my WinUAE image. But their 
version strings and dates made no sense to me. They were higher versions than 
anything I had before, and many were dated all the same day: 1st October 2013. 
Who had made these and why? And why weren't their packages on Aminet?

I had always been a fan of xpk and was one of the few MorphOS users to notice 
its continued existence. In 2019, thanks to Brexit giving me a lot of time on 
my hands, I wrote xpk entry for wikipedia. It was rejected for lack of third 
party references because, of course, all those are long gone. So I set myself 
the task of at least making a table of xpksublibs, so I could submit everything 
to an Amiga site somewhere for posterity, and at least my time wouldn't be 
totally wasted. Search engine time.

And that was when I discovered the work of Cosmos and Cholok, buried for years 
almost unnoticed (well, by me anyways). Almost everything I've written here 
comes from their work, so any thanks for it must go to them.

Around 2010, a French Amiga developer called Cosmos had uploaded some 
reverse-engineered and/or recompiled xpk sublibs to Aminet, with fixes to old 
bugs and speed-ups, including some that had never been on Aminet at all. This 
kind of thing is unfortunately a big no-no with Aminet, being technically 
illegal unless supplied as patches. So they once again disappeared. Users still 
active at this time and who downloaded and installed them may have wondered why 
sublibs they had in their hard drives weren't around any more, if they had 
looked for them again later.

However, a Polish developer called Cholok continued from the work by Cosmos, 
and in December 2013 released a whole bunch of seriously improved sublibs. And 
I do mean seriously improved. Cholok took sublibs that had never worked and 
fixed them, took sublibs with long-standing bugs and fixed them. Sublibs that 
hadn't been touched since 1992 were updated to reflect xpk's newer benchmark 
and optimised for speed.

It was amazing work, but beyond his Polish forum and the code being used in an 
open-source Linux project called Ancient Format Decompressor, it wasn't well 
known. Seriously, this isn't just some hacky patching crap - the improved 
sublibs are better in every way, and supplied with assembler source. And he 
wrote in detail of how they worked and which algorithm they used, which is 
something very, very few people could discern by looking at their machine code. 
Absolute genius-level stuff.

So anyway, that explains why I did this now, and how I managed to. At best, it 
might put your mind at rest at the neglected state of xpk and be an 
entertaining read. At worst, it at least provides an epitaph for one of the 
best things about the Amiga.

Enough blather. Click @{"here" link xpklibs} to go to the sublibs.

@endnode

@node Caveats "Some caveats to this document"
@{b}But some caveats to remember:@{ub}

- The XpkInfo table comes from xQuery. XpkInfo values are not to be trusted, 
especially from PowerPC-native sublibs. Any actual comparisons I make come from 
my own testing in said WinUAE running AmigaOS3.9.

- Where possible I have used the Cholok version because these had the expected 
performance values output by XpkInfo fixed to be more accurate. Some older 
sublibs were never updated and used the old AmigaVision executable on 68030/50 
benchmark results. Some sublib developers didn't have 68060 and simply guessed, 
with variable results...

- ...and because some sublibs didn't work at all before Cosmos and/or Cholok 
fixed them - one or two not even enough to get a table! (Purists may not like 
unofficial copies, so I have included the known latest 'original' versions in 
the data table.)

- I don't mean to downplay Cosmos' work, but it's impossible for me to know 
where Cosmos' work stopped and Cholok's began. Please assume that both worked 
hard on what I call 'Cholok versions'.

- May include opinion, especially on the potential use of the libraries and how 
they compare to others. You may disagree. If you're really convinced I should 
change something, contact me and I'll consider your case.

- I do not have access AmigaOS 4 so I can't say anything about sublibs that 
only run on it, but I have mentioned them and added as much information as I 
can. Please send me some xbench test data (with TEST parameter!) and xquery 
output if you'd like them fully included.

- I'm not infallible, so some facts may be incorrect. If you spot one, drop me 
an email and I'll fix it.

- I can't upload any binaries to Aminet or send you any files. I've done my 
best to tell you where to find them on your own. If you google 
'xpk_cholok-15.12.2013' you will find the Cholok updates with documentation and 
source. It's sad that I can't put this archive somewhere they can be safe 
forever, but it's the nature of what they are. They aren't pirated (as they 
were always free), and "hacking" them decades later is a victimless crime?.

Click @{"here" link xpklibs} to go to the sublibs.

@endnode

@node xpklibs "The sublibs"

There are 69 known xpk sublibraries, all with unique identifiers. 

They are as follows:

 @{"ACCA" link ACCA}   @{"ARTM" link ARTM}   @{"BLFH" link BLFH}   @{"BLZW" link BLZW}   @{"BZIP" link BZIP}   @{"BZP2" link BZP2}   @{"CAST" link CAST}   @{"CBR0" link CBR0}   @{"CBR1" link CBR1}   @{"CRMS" link CRMS} 

 @{"CYB1" link CYBx}   @{"CYB2" link CYBx}   @{"DHUF" link DHUF}   @{"DLTA" link DLTA}   @{"DMCB" link DMCB}   @{"DMCD" link DMCD}   @{"DMCI" link DMCD}   @{"DMCU" link DMCU}   @{"DUKE" link DUKE}   @{"ELZX" link ELZX}

 @{"ENCO" link ENCO}   @{"FAST" link FAST}   @{"FBR2" link FBR2}   @{"FEAL" link FEAL}   @{"FRHT" link FRHT}   @{"FRLE" link FRLE}   @{"GZIP" link GZIP}   @{"HFMN" link HFMN}   @{"HUFF" link HUFF}   @{"IDEA" link IDEA}

 @{"ILZR" link ILZR}   @{"IMPL" link IMPL}   @{"L2XZ" link L2XZ}   @{"LHLB" link LHLB}   @{"LIN1" link LINx}   @{"LIN2" link LINx}   @{"LIN3" link LINx}   @{"LIN4" link LINx}   @{"LZ40" link LZ40}   @{"LZBS" link LZBS}   

 @{"LZCB" link LZCB}   @{"LZMA" link LZMA}   @{"LZM2" link LZM2}   @{"LZW2" link LZWx}   @{"LZW3" link LZWx}   @{"LZW4" link LZWx}   @{"LZW5" link LZWx}   @{"MASH" link MASH}   @{"NONE" link NONE}   @{"NUID" link NUID}

 @{"NUKE" link NUKE}   @{"PPMQ" link PPMQ}   @{"PWPK" link PWPK}   @{"RAKE" link RAKE}   @{"RDCN" link RDCN}   @{"RLEN" link RLEN}   @{"SASC" link SASC}   @{"SDHC" link SDHC}   @{"SHID" link SHID}   @{"SHR3" link SHR3}

 @{"SHRI" link SHRI}   @{"SHSC" link SHSC}   @{"SLZ3" link SLZ3}   @{"SLZX" link SLZX}   @{"SMPL" link SMPL}   @{"SQSH" link SQSH}   @{"TDCS" link TDCS}   @{"TLTA" link TLTA}   @{"ZENO" link ZENO}  

And an inbuilt xpk mode that has no sublib, @{"USER" link USER}.

@endnode

@node ACCA "ACCA - Andre's Code Compression"
Packer : ACCA
Name   : Andre's Code Compression V1.2
Descr. : Similar to RDCN, but more efficient
DefMode: 100    DefChunk: 63 Kb        MaxChunk: 2097151 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
ACCA  0..79  33.7%  157K/s  400K/s   16K     0K turbo
ACCA 80..100 40.0%   40K/s  400K/s  288K     0K crawling

ACCA, "Andre's Code Compression Algorithm" (by André Osterhues in January 1994) 
uses a data compression scheme first published in 1992 by Ed Ross intended for 
fast packing of high-throughput backup data and based on an admixture of tagged 
LZSS (Lempel-Ziv-Storer-Szymanski) and runlength encoding. Ross claimed that 
too much processing power or time was needed to pack for his customers using 
established methods. His method lives up to this claim and this implementation 
is a well-performing sublib that strikes a good balance between speed and 
compression and is light on system resources.  It was not the first sublib to 
use this algorithm: that would be RDCN, which is very similar.

Although compression speed is still beaten by FAST and BLZW, this sublib would 
have been a good choice for something happening in the background like 
filesystem compression if not for a critical bug. Compressed data would be 
corrupted in rare situations. This was difficult to trigger but reproducible 
with the same files. This bug greatly reduced its use historically, and it did 
not make it into the xpk user package in later years. The older RDCN was a good 
alternative as it is almost identical, if not quite as optimised.

This library was fixed by Cholok, who removed the bug that caused this 
corruption and added another packing mode that focuses on performance.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node ARTM "ARTM - Unknown"
Packer : ARTM

Unknown, and extremely obscure. It does appear to exist and people apparently 
have it on their systems would knowing, but is almost impossible to find. I 
never did, despite much long searching of old public domain software. As such, 
I can tell you nothing about it except that it is 1444 bytes in size. It isn't 
even listed in Dirk Stöcker's xpk page. Could it be a test sublib and mean 
"Always Read The Manual"? Maybe we'll never know.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node BLFH "BLFH - Blowfish encryption for xpk"
Packer : BLFH
Name   : xpkBLFH.library V 2.1 68020+
Descr. : BlowFish-algorithm using 4 different modes + packing support
DefMode: 66    DefChunk: 63 Kb        MaxChunk: 1024 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
BLFH  0..13   0.0%   80K/s   80K/s    5K     5K ECB
BLFH 14..25  30.0%   80K/s   80K/s   21K     5K ECBpack
BLFH 26..38   0.0%   80K/s   80K/s    5K     5K OFB
BLFH 39..50  30.0%   80K/s   80K/s   21K     5K OFBpack
BLFH 51..68   0.0%   80K/s   80K/s    5K     5K CFB
BLFH 69..75  30.0%   80K/s   80K/s   21K     5K CFBpack
BLFH 76..88   0.0%   80K/s   80K/s    5K     5K CBC
BLFH 89..100 30.0%   80K/s   80K/s   21K     5K CBCpack

Written by Dirk Pauli, BLFH is one of only five existing encryption-themed 
sublibs. It encrypts using the Blowfish algorithm first published in 1993 by 
Bruce Schneier and also supports a low effectiveness compression. The algorithm 
used by the compression is not documented,  but is comparable to a middle mode 
of BLZW or a Huffman and is not really useful unless a file absolutely has to 
be encrypted and compressed at the same time in one step using only one sublib. 
 Last public release was September 1998.

The mode numbers listed in XpkInfo are wrong. The correct list of modes is as 
follows:

                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
BLFH  0..13   0.0%   80K/s   80K/s    5K     5K ECB
BLFH 14..24  30.0%   80K/s   80K/s   21K     5K ECBpack
BLFH 25..38   0.0%   80K/s   80K/s    5K     5K OFB
BLFH 39..49  30.0%   80K/s   80K/s   21K     5K OFBpack
BLFH 50..63   0.0%   80K/s   80K/s    5K     5K CFB
BLFH 64..74  30.0%   80K/s   80K/s   21K     5K CFBpack
BLFH 75..88   0.0%   80K/s   80K/s    5K     5K CBC
BLFH 89..100 30.0%   80K/s   80K/s   21K     5K CBCpack

It's the slowest of the xpk encryption sublibs, even on modes with no packing. 
Modes that do pack approximately double the encryption time but only slightly 
decrease decryption speed. ECB (Electronic Code Book), CBC (Cipher Block 
Chaining), CFB (Cipher FeedBack) and OFB (Output FeedBack) are modes of the 
encryption. ECB is said to be the weakest. They all operate at roughly the same 
speed.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node BLZW "BLZW - Bryan's turbo-charged LZW"
Packer : BLZW
Name   : Bryan's turbo-charged LZW
Descr. : Fast compression and decompression, ratio much like 'compress' or 'zoo'
DefMode: 100    DefChunk: 128 Kb    MaxChunk: 2097151 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
BLZW  0..14  24.3%  100K/s  182K/s    3K     2K 9 bits
BLZW 15..28  29.3%   89K/s  199K/s    7K     4K 10 bits
BLZW 29..42  31.7%   86K/s  210K/s   15K     8K 11 bits
BLZW 43..57  32.4%   85K/s  218K/s   30K    16K 12 bits
BLZW 58..71  32.9%   87K/s  225K/s   60K    32K 13 bits
BLZW 72..85  33.1%   89K/s  231K/s  120K    64K 14 bits
BLZW 86..100 33.7%   95K/s  237K/s  240K   128K 15 bits

Written by Bryan Ford, BLZW (Bryan's turbo-charged LZW) was meant for speed 
rather than compression ratio, and uses the Lempel-Ziv-Welch algorithm from the 
UNIX Compress program limited to 9 to 15 bits for speed. It tends to be beaten 
for overall speed by packers with similar ratios like ACCA and RDCN, although 
it compresses nearly twice as fast - an important difference that sets it apart 
and kept it useful.  Last release that I am aware of was July 1997.

However, BLZW suffers a long term critical bug where it would corrupt packed 
data on certain occasions on the lower modes. This happens especially with 
larger files and is reproducible with the same files. Dirk Stöcker's xpk page 
mentions the problem, and it is still present today. All modes except the 
default (15 bits) are affected; it may as little as one chunk in a huge file, 
but that's enough to ruin it.

If not for this it would have been an excellent choice for transparent 
compression such as the XFH filesystem handler, on very low end machines. Even 
with the bug, it still seemed rather popular, as the default (mode 100) is 
reliable.

The BLZW package is gone from Aminet. This is possibly due to its corruption 
bug, or that LZW was still under patent. It can still be downloaded from Dirk 
Stöcker's xpk page at dirkstoecker.eu.

Cholok's update did not fix the bug, or even notice it unfortunately; the only 
change is correction to the XpkInfo table. If you ever use BLZW, then you must 
stick to the default mode (100) for safety.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node BZIP "BZIP - the bzip algorithm for xpk (PowerPC/Powerup)"
Packer : BZIP
Name   : BZIP (PPC) 41.2
Descr. : BZIP, a block-sorting file compressor (requires a PowerPC processor)
DefMode: 100    DefChunk: 1000 Kb    MaxChunk: 1000 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
BZIP  0..10  51.5%   72K/s  187K/s 1056K   600K  100 K
BZIP 11..20  52.5%   65K/s  173K/s 1856K  1200K  200 K
BZIP 21..30  52.9%   61K/s  173K/s 2656K  1800K  300 K
BZIP 31..40  53.2%   59K/s  168K/s 3456K  2400K  400 K
BZIP 41..50  53.6%   55K/s  161K/s 4256K  3000K  500 K
BZIP 51..60  54.8%   54K/s  164K/s 5056K  3600K  600 K
BZIP 61..70  57.6%   51K/s  166K/s 5856K  4200K  700 K
BZIP 71..80  61.0%   49K/s  164K/s 6656K  4800K  800 K
BZIP 81..90  64.3%   46K/s  166K/s 7456K  5400K  900 K
BZIP 91..100 66.3%   43K/s  168K/s 8256K  6000K 1000 K

BZIP, the first PowerPC-native sublib, is lost. Its Aminet package was removed 
(for suspected patent issues, see below) but it did appear to function well. It 
appeared to have to used an external BZIP.elf file, possibly a limitation of 
PowerUP; this may have been removed this issue in later versions. It was by 
André Osterhues and last known release was August 1997. Unfortunately, all this 
is now very difficult to confirm as the package is now permanently gone.

It did work on PowerUP, WarpOS with PowerUP emulation and MorphOS, and is a 
functional sublib. At the time of writing, it will not work reliably enough in 
WinUAE with PPC support to test. AmigaOS 4 did not support PowerUP so it can be 
assumed that it did not work there either.

However the xpkInfo table looks fair, and it does look like the author had made 
the attempt at extrapolating the speed down to the standard 68060 xpk benchmark 
level. It compresses very well, and its packing and unpacking are relatively 
fast. It uses lots of RAM, but that's generally no problem for PPC-capable 
systems. It uses Burrows-Wheeler block sorting followed by compression, but it 
is not clear whether it uses the bzp2 method (which is Huffman) or the bzip 
arithmetic coding. If it uses the bzip method as the name implies it would 
explain why it disappeared, as bzip was discontinued due to a software patent 
claim and replaced with bzp2.

Block sorting is not ideal for xpk, as it's a technique that tends to work best 
with a lot of data at once, rather than in xpk's (usually) smaller chunks. To 
offset this, BZIP chunk size is fixed and much bigger than that of other 
sublibs, which negates many of the efficiency advantages of using xpk but yet 
may still be far from optimal block sorting. The large chunk size also 
potentially helps to reduce context switches, which are a severe performance 
drag on mixed 68k/PowerPC systems.

It gives among the best compression ratios of any sublib and its speed is good 
for this kind of ratio. It compares well to BZP2 and may be slightly better and 
may have given along the highest ratios of xpk sublibs on most data, but I can 
no longer confirm any of this.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node BZP2 "BZIP2 - the bzp2 algorithm for xpk (Optional: PowerPC/WarpOS)"
Packer : BZP2
Name   : bzip2 (68020) V1.7
Descr. : Block-sorting/huffman algorithm - high ratio, but requires lots of 
memory
DefMode: 40    DefChunk: 878 Kb    MaxChunk: 878 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
BZP2  0..19  79.5%  107K/s  330K/s 1171K   488K 100K -1
BZP2 20..29  80.2%  111K/s  326K/s 1953K   878K 200K -2
BZP2 30..39  80.4%  109K/s  324K/s 2734K  1269K 300K -3
BZP2 40..49  80.7%  106K/s  323K/s 3515K  1660K 400K -4
BZP2 50..59  80.8%  104K/s  320K/s 4296K  2050K 500K -5
BZP2 60..69  80.8%  102K/s  319K/s 5078K  2441K 600K -6
BZP2 70..79  80.9%  103K/s  316K/s 5957K  2832K 700K -7
BZP2 80..89  80.9%  103K/s  313K/s 6640K  3222K 800K -8
BZP2 90..100 80.7%  103K/s  310K/s 7421K  3613K 900K -9

BZP2 is Oliver Roberts' successful attempt to leverage the bzp2 algorithm as an 
xpk sublibrary, released late  - last update was March 2005 - probably why it 
never received the kind of attention others did. It uses Burrows-Wheeler block 
sorting followed by a Huffman algorithm, just as bzp2 does. It was released 
with as versions optimised for multiple 68k CPUs and even as a WarpOS 
PPC-native version.

Block sorting is not ideal for xpk, as it's a technique that tends to work best 
with a lot of data at once, rather than in xpk's 90s-style smaller chunks. To 
offset this, BZP2 chunk size is much bigger than that of other sublibs, which 
negates many of the efficiency advantages of using xpk and yet may still be far 
from optimal for the algorithm. The xpkInfo table is very... optimistic (by 
which I mean, it's miles off), and it is not as fast as implied. More notably, 
the 'test' compression ratio is just a bit better than that of SHRI (so would 
be around 53%) rather than 80% or so. It would probably be even better with any 
data where block sorting gave an advantage.

Despite this, it gives among the best compression ratios of any sublib and its 
speed is relatively good for this kind of ratio (although it's again slower 
than SHRI), and is certainly not unusable for real 68k users - providing they 
have a lot of RAM.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node CAST "CAST - CAST128 encryption for xpk"
Packer : CAST
Name   : xpkCAST.library V 1.0 68020+
Descr. : CAST128-algorithm using 4 different modes
DefMode: 66    DefChunk: 63 Kb        MaxChunk: 1024 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
CAST  0..25   0.0%  105K/s  105K/s    0K     0K ECB
CAST 26..50   0.0%  105K/s  105K/s    0K     0K OFB
CAST 51..75   0.0%  105K/s  105K/s    0K     0K CFB
CAST 76..100  0.0%  105K/s  105K/s    0K     0K CBC

CAST is one of five known encryption sublibs, but despite having the same 
author as BLFH for some unknown reason did not make it to the xpk_crypt package 
on Aminet. It uses CAST-128 encryption, named after designers Carlisle Adams 
and Stafford Tavares. It was developed by Dirk Pauli and the last known release 
was in July 1997.

Unfortunately, the author never placed it on Aminet, just a link to his 
personal website where it could be downloaded; no xpk encryption sublibs were 
allowed on Aminet then due to encryption laws around the world at the time. 
While this was later changed and encryption libraries uploaded to Aminet, CAST 
was never uploaded as a package or as part of a package, even xpk_crypt. When 
his website disappeared, the package became unreachable. 

As it is no longer available on web archives either, this sublib can be 
considered permanently lost - though it may still exist on Amiga software 
compilations such as magazine coverdisks (but not Aminet CDs). One way to get 
it is via Archive.org, on older versions of the Dirk Stöcker xpk page. The link 
to the library was removed from that page.

It is quite functional and stable and is around the same speed as IDEA. It 
doesn't compress any data.

Did it have critical security flaws in its implementation? Was there a patent 
issue with CAST-128? Or did someone just forget to upload it to Aminet? The 
answer may be lost to time.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node CBR0 "CBR0 - Cmp Byterun 0 Packer"
Packer : CBR0
Name   : Cmp ByteRun0 Packer V1.2
Descr. : Fast and simple RLE compression
DefMode: 100    DefChunk: 32 Kb        MaxChunk: 2097151 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
CBR0  0..100  4.8%  372K/s 1150K/s    0K     0K normal

One of the oldest sublibs, if not the oldest, last updated by its author, one 
"Bilbo the First of Hypenosis", CBR0 dates back to August 1992. It uses 
runlength encoding like that used by IFF-ILBM and Windows BMP/RLE pictures, and 
which gains very poor ratios on most data but is extremely fast.

Runlength encoding is almost useless on anything but pictures or animations 
that have much empty space. Xpk has very fast sublibs like FAST or HFMN that 
would also suit low end machines, which makes runlength of questionable benefit 
at the best of times. Add to that, implementing runlength directly in a program 
is relatively easy, and doesn't really need the overhead of xpk. So while CBR0 
continued to be shipped with the xpk package (which also contained FRLE and 
RLEN), their usefulness was questionable.

Among xpk runlength compressors it appears to be the simplest and fastest. It 
was updated by Cholok to optimise compression and speed still further. With 
Cholok's reworking of the three xpk-packaged runlength encoders, they are now 
all very similar in speed and ratio.

Click @{"here" link xpklibs} to return to the index.
@endnode

@node CBR1 "CBR1 - Cmp Byterun 1 Packer (Doesn't exist!)"
Packer : CBR1

A mysterious CBR1 sublib has sometimes been said to exist, and was mentioned on 
Dirk Stöcker's xpk page, where he said it was byte identical to CBR0. From 
this, and the fact that it has never appeared anywhere, and that runlength 
encoding can really only be optimised so far, I have come to the conclusion 
that it never really existed beyond except perhaps a test library by the author.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node CRM2 "CRM2 - the XPK interface for CrunchMania's CrM.library"
Packer : CRM2
Name   : XPK-Interface for CrM.library
Descr. : Quite fast compression and decompression, ratio like LhA or better
DefMode: 100    DefChunk: 128 Kb    MaxChunk: 2097151 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
CRM2  0..100 50.0%    5K/s  200K/s  309K     0K -LZH-

CRM2 came with the CrunchMania packer in October 1993, and was written by 
Thomas Schwarz. It was the first sublib to use an external library, in this 
case the CrM.library called by the CrunchMania program. CrM (and hence this 
sublib) uses a fairly common LZSS algorithm - and perhaps Huffman as well - 
though the single mode available is optimised for compression ratio. The sublib 
comes bundled with the CrunchMania package, which is still on Aminet.

Although packing speed is fairly low and unpacking speed is middling, CRM2 does 
give very high ratios comparable to the other xpk sublibs. It's actually a good 
archive packer for 1993-level machines; some other sublibs might give better 
ratios but they'll also pack more slowly.

But CrM.library itself is a problem. It has bugs and installs possibly unwanted 
patches on the system when loaded (which also prevent it being flushed). It 
does however not hit hardware directly as it works identically on MorphOS as it 
does on AmigaOS. Dirk Stöcker's xpk page mentions that it crashes on 060 CPUs, 
but I have been unable to confirm and it runs just fine under WinUAE with a 
68060 CPU set. Perhaps the 68060.library (which catches unsupported 
instructions) improved since then.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node CRMS "CRMS - CrunchMania sample mode"
Packer : CRMS
Name   : SubLib using CrM Sample-Mode
Descr. : Quite fast compression and decompression, ratio like LhA or better
DefMode: 100     DefChunk: 128 Kb    MaxChunk: 2097151 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
CRMS  0..100 50.0%    5K/s  200K/s  309K     0K LZH-S

CRMS also came with the  CrunchMania packer in October 1993, and was written by 
Thomas Schwarz and also uses the CrM.library. It uses the same compression but 
'for samples'; the CrM documentation says it uses a method compatible to delta 
encoding.

It doesn't matter. This sublib is badly broken. It corrupts its own input 
buffer and destroys data. It is unknown whether this is is a bug in the sublib 
or crm.library, but its critical bug has been known since 1993 and was never 
fixed.

This sublib should not be used under any circumstances. Just put it away where 
your system can't find it.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node CYBx "CYB1 and CYB2 - the xpkCybPrefs USER-like implementation"
Packer : CYB1
Name   : Crunch?Yes...Better!
Descr. : The totally adaptive Xpk SubLib!!! (c) 1996 A.Nasr (The Cyborg/NGC)
DefMode: 100    DefChunk: 32 Kb     MaxChunk: 512 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
CYB1  0..100 50.0%   30K/s  600K/s    0K     0K *;-)

Packer : CYB2
Name   : The lowlevel-xpkCYB
Descr. : The other xpkCYB lib, (c) 1996 A.Nasr (The Cyborg)
DefMode: 100    DefChunk: 32 Kb     MaxChunk: 512 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
CYB2  0..100 50.0%   30K/s  600K/s    0K     0K *;-)

The CYBx sublibs were part of xpkCybPrefs, an early experiment to try to 
automate the process of selecting different sublibs depending on what data was 
encountered, or even trying multiple ones on data and picking the best - much 
like the USER setting. Both were by Alexis Nasr, CYB1 in April 1996, and CYB2 
in July 1996. In the last release, the author himself warned that both sublibs 
were "bugged to the BONE" and recommended they were never used.

Both operated differently. CYB1 worked just like USER, in that any file 
processed with 'CYB1' was instead processed with whatever was set in the 
xpCybPrefs preferences program.  It came out a couple of months before USER was 
implemented in xpk and so quickly deprecated. CYB2 was more low-level, and 
instead replaced the new xpk USER mode with its own with a patch. 
Interestingly, xpkCybPrefs supported 'multipacking', where a file could be 
packed with multiple sublibs and the highest ratio chosen.

All-in-all though the experiment, though fascinating, was not continued. The 
bugs were never fixed, and neither sublib should ever be used or they will 
cause crashes. If you want to keep them, move them where to the system can't 
find them.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node DHUF "DHUF - Dynamic Huffman encoding (well, supposted to be)"
Packer : DHUF
Name   : Dynamic Huffman V 0.58
Descr. : Dynamic huffman crunch algorithm, cache optimized byte decrunch 
algorithm
DefMode: 50    DefChunk: 63 Kb    MaxChunk: 63 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
DHUF  0..100 24.1%   88K/s  138K/s    0K     0K normal

DHUF is very old (August 1992, by Marc Zimmerman) and seems to have been 
immediately replaced by HUFF in the main xpk package. Despite this it appeared 
quite commonly bundled with programs that used xpk (such as xms, the xpk-based 
DiskMasher equivalent). It was supposed to have used a dynamic Huffman 
algorithm optimised for fast unpacking.

I say 'supposed to' because it doesn't work. It's harmless enough, but the data 
passes straight through it and isn't packed at all, much like NONE. It also has 
a password mode, but it appears to accept any password to decrunch no matter 
what you set. 

Older or newer versions do not seem to exist to test if they have the same 
problem. You can still find it bundled with xpk-using programs like XMS 
(lsdxms12 on Aminet). File it away as a collector's item and just don't bother 
with it.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node DLTA "DLTA - Delta encoding"
Packer : DLTA
Name   : Delta Encryptor V0.3
Descr. : DELTA-Encryption Routines © 1992 Stephan Fuhrmann
DefMode: 100    DefChunk: 64 Kb    MaxChunk: 64 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
DLTA  0..100  0.0%  531K/s  743K/s    0K     0K bytemode

A very early library dating all the way back back to 1992 by Stephan Fuhrmann 
(no specific date other than year is given in the sublib), DLTA is part of the 
xpk package where it has remained unchanged for decades. It does not compress 
data but applies delta encoding. The resultant file is bigger than the original.

That would seem to make no sense, but applying delta encoding first to 8-bit 
sound files and files which contained them, such as music modules, quickly 
proved to result in far better compression ratios when then packed with a real 
compressor, sometimes almost doubling the ratio. In the earliest days, 
sometimes users double packed files, which is not optimal as it also doubles 
headers and makes the files incompatible with most programs that support xpk. 
In later days, delta preprocessing was added to other sublibs like SQSH or SMPL.

Module packing was a big thing in the early to mid 90s. Hard drives were still 
relatively small - less than 200 MB were common - and music modules were among 
the biggest files most Amiga users had. Being able to fit an extra third more 
on their drive thanks to compression was worth the effort, but they were 
resistant to compression from typical packers. Delta pre-encoding was a very 
useful workaround although it did not always help, depending on the sample.

Despite what the XpkInfo table says, this sublib does not encrypt data. Delta
encoding is not encryption.

Cholok removed a useless password mode that did nothing, and was a simple bug.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node DMCB "DMCB - Dynamic Markov Compression"
Packer : DMCB
Name   : Dynamic Markov Compression V0.8
Descr. : Arithmetic coding using dynamic Markovmodelling. Slow but efficient.
DefMode: 100    DefChunk: 160 Kb    MaxChunk: 160 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
DMCB  0..100 44.5%    7K/s    7K/s    2K     2K normal

DMCB uses a dynamic Markov algorithm much like PPMQ. It was written by André 
Osterhues and last release was February 1996. It is on Aminet, and is described 
as shareware (also very unusual for an xpk sublib). The version strings are 
confusing: the xpkInfo table displays it as v0.8, xbench as v1.0. This is 
probably a bug in the sublib. It requires an FPU (or a 68040 or 68060 with 
built-in FPU), and was the first to do so, and probably the last.

As far as packers go however, it's very mediocre. Both packing and unpacking 
are very slow (although not as slow as PPMQ), but the resultant ratio is 
generally less than much, much faster packers like NUKE or RAKE. It was 
supposed by some to be better on some kinds of data than other packer, such as 
sound samples, but was still too slow to be of any real use.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node DMCD "DMCD and DMCI - lost Dynamic Markov xpk sublibs"
Packer : DMCD
Packer : DMCI

DMCD and DMCI are both by André Osterhues, compiled in March and July of 1996 
respectively. Little is known about them, as they are not on Aminet and the 
original source is unknown. It is assumed that both were based on dynamic 
Markov arithmetic coding like DMCB and DMCU by the same author. It is assumed, 
but not proven, that they did not work. They can be considered lost.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node DMCU "DMCU - Dynamic Markov Coding Ultra (PowerPC/PowerUP)"
Packer : DMCU
Name   : Dynamic Markov Coding Ultra
Descr. : Arithmetic coding using Markov modelling
DefMode: 100    DefChunk: 320 Kb    MaxChunk: 320 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
DMCU  0..10  39.7%  200K/s  190K/s   64K    64K 64 K
DMCU 11..20  40.8%  190K/s  180K/s   96K    96K 96 K
DMCU 21..30  41.4%  185K/s  175K/s  128K   128K 128 K
DMCU 31..40  41.7%  180K/s  170K/s  192K   192K 192 K
DMCU 41..50  42.7%  170K/s  165K/s  320K   320K 320 K
DMCU 51..60  43.8%  170K/s  155K/s  512K   512K 512 K
DMCU 61..70  45.8%  150K/s  145K/s 1024K  1024K 1024 K
DMCU 71..80  47.9%  145K/s  140K/s 2048K  2048K 2048 K
DMCU 81..90  49.3%  145K/s  140K/s 4096K  4096K 4096 K
DMCU 91..100 51.6%  140K/s  140K/s 8192K  8192K 8192 K

Dynamic Markov Coding Ultra, DMCU, appears to be a port of André Osterhues' 
Dynamic Markov code (such as DMCB) to PowerPC/PowerUP by the same author, 
although it has far more modes.  Last known version is dated April 1998. The 
source is unknown; it was most probably on Aminet and has been subsequently 
removed, and so this sublib can be considered lost.

Unfortunately it did not work anyway, whether on PowerUP, or PowerUp emulated 
by WarpOS, on MorphOS, nor on WinUAE. As such nothing much can be said about 
it. 

Click @{"here" link xpklibs} to return to the index.

@endnode

@node DUKE "DUKE - NUKE with a delta preprocessor"
Packer : DUKE
Name   : Duke V1.8
Descr. : NUKE with a delta preprocessor
DefMode: 100    DefChunk: 29 Kb    MaxChunk: 29 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
DUKE  0..100 32.3%   39K/s  350K/s  221K     0K normal

DUKE is NUKE with a delta encoder applied before compression, which often gives 
better compression ratios on 8-bit sound samples and music modules, but worse 
on most anything else. It was written by Christian von Roques and last updated 
July 1997.  It is now part of the xpk package.

Even with delta compression, NUKE isn't a particularly good choice to go 
packing music modules with given its low compression ratios on such data, 
although it could have been useful for a combination of large files and low 
power systems where SQSH was simply too slow and SMPL simply not good enough.

Cholok made some minor tweaks to speed and memory use with his update.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node ELZX "ELZX - an XPK sublib that uses the LZX command externally"
Packer : ELZX
Name   : External LZX  
Descr. : very good compression library      middle speed   
DefMode: 80    DefChunk: 512 Kb    MaxChunk: 512 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
ELZX  0..20   1.0%   34K/s  150K/s    0K     0K none
ELZX 21..40  44.0%   33K/s  150K/s    0K     0K poor
ELZX 41..60  46.0%   32K/s  150K/s    0K     0K good
ELZX 61..80  48.0%   31K/s  150K/s    0K     0K better
ELZX 81..100 50.0%   30K/s  150K/s    0K     0K best

Without a doubt, LZX was and still is the most powerful true archiver on the 
Amiga. Based on a customised LZ77 variant, it was commercial only and 
eventually went on to form the basis of the compression used in Windows cabinet 
files. Fast at packing and unpacking and also giving unmatched compression at 
the time, it was a firm favourite of those who really needed to get as much 
into as little space as possible.

In September 1997, Piotr Kasprzyk attempted to harness this power as an xpk 
sublibrary, ELZX (External LZX). To do so, he used a unique design where the 
LZX command was called externally to do the work. While this at first seems not 
much different to using an external library like CRM2, PWPK or LHLB does, it 
was far more difficult to get right.

Firstly, it seemed only to work with one specific version of LZX, although 
there were builds for both commercial and demo versions of the command. The 
sublib would simply crash if it couldn't get this. It also created a temporary 
file on disk or in ramdisk for each chunk, which wasn't ideal. Finally, each 
chunk would presumably get an LZX header, as being treated as a mini LZX 
archive. I say presumably, as I never got it to work. You probably won't either.

All in all, an interesting idea which didn't quite turn out. Don't use it, or 
it will crash. One for collectors only.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node ENCO "ENCO - totally unsafe encryption"
Packer : ENCO
Name   : Encoder
Descr. : Totally unsafe encryption
DefMode: 50    DefChunk: 48 Kb    MaxChunk: 488 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
ENCO  0..100  4.5%  393K/s  393K/s    0K     0K normal

ENCO was intended more as an easy programming example than an actual useful 
sublib, and does a simple bit shift to obscure the data. It comes with the xpk 
crypt package and was last updated by its author Urban Dominik Müller (yes, the 
Aminet founder) in April 1997. It provides no compression, regardless of what 
the XpkInfo table may imply. As one might expect, as it does little to the data 
it is very fast.

Given that the xpk format is so obscure and that it would take someone who knew 
programming very well to decrypt such files, it is actually functional as an 
encryption sublib and unsurprisingly the fastest of its kind. If you had 
anything worth encrypting however? best to use proper encryption.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node FAST "FAST - fast packing with FAST alias WOOP or LZRW++"
Packer : FAST
Name   : FAST V1.2 alias WOOP or LZRW++
Descr. : LZ77-family, windowsize: 4095, no quotecount, 2 streams
DefMode: 100    DefChunk: 64 Kb     MaxChunk: 2097151 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
FAST  0..79  34.3%  145K/s  740K/s   64K     0K speedy
FAST 80..100 39.3%   55K/s  740K/s  272K     0K crawling

FAST is... fast. Not originally bundled with the xpk package, it is now part of 
it due to it being yet another sublib that proved one of the best. It is based 
upon a LZRW-A variant that uses a relatively small 12 bits per window. (LZRW 
means Lempel-Ziv Ross Williams, a family of packers meant for speed; not 
LZ-Welch.)

And indeed this sublib is meant for pure speed, yet not at the cost of too much 
compression (like HFMN, for instance). It has two modes, one meant for maximum 
speed alone, one for better compression and high speed. It was developed by 
Christian von Roques and its last official update was fairly late: September 
1998.

Whenever I try to arrange xBench results in ways that try to rank them for 
weight against whether I want the best compression speed, decompression speed, 
or a combination of both of those with ratio, FAST tends to end up at or near 
the top. It's roughly equivalent to ACCA or RDCN in packing and ratio but is 
possibly the fastest sublib at unpacking, with the exception of the byterun and 
Huffman encoders. By no means a heavyweight cruncher, but perhaps an even 
better all-rounder than RAKE for those who are only interested in speed. Ratio 
was always fairly low however, so its space-increasing benefits may have been 
minor.

Cholok tweaked the 'speedy' mode to have slightly better compression but at the 
cost of a bit of speed. If you don't like this you can go back to the 1.0 
version; both are perfectly reliable and compatible.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node FBR2 "FBR2 - FastBytesRunner byterun compressor"
Packer : FBR2
Name   : FastBytesRunner V4.0
Descr. : Similar to ByteRun from IFF
DefMode: 90    DefChunk: 32 Kb     MaxChunk: 2097151 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
FBR2  0..33   3.6%  290K/s 1150K/s    0K     0K LongByte
FBR2 34..67   4.4%  290K/s  950K/s    0K     0K WordByte
FBR2 68..90   4.8%  290K/s 1150K/s    0K     0K ByteByte
FBR2 91..100  4.9%  100K/s 1050K/s    0K     0K AutoSize

FBR2 came with the CyberYAFA package and was written by Niels Fröhling in April 
1997. It is another byterun encoding sublib, if a little more configurable than 
the four that already existed when it was written, as befits its intended use 
as fast compression in an animation fileformat. It is a little more thorough in 
terms of compression than the other byterun sublibs but also slower. 

The CyberYAFA package on Aminet was overwritten by an update which did not 
contain any of the xpk sublibs, so they are considered lost, and only exist in 
old Aminet CD or Amiga software compilations.

Cholok completely rewrote the packer, removed requirements for a 68020 CPU, and 
activated the AutoSize mode which was mentioned but not implemented in the 
original. This mode actually packs each chunk three times with each of the 
other modes and picks one that gave best compression.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node FEAL "FEAL - the Fast Encryption Algorithm (FEAL-N) for XPK"
Packer : FEAL
Name   : Fast Encryption ALgorithm
Descr. : FEAL-N with CBC1. Password protects data with selectable safety.
DefMode: 16    DefChunk: 32 Kb     MaxChunk: 1048576 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
FEAL  0..4    0.0%  238K/s  244K/s    0K     0K fastest
FEAL  5..8    0.0%  171K/s  174K/s    0K     0K fast
FEAL  9..16   0.0%  109K/s  109K/s    0K     0K safe
FEAL 17..32   0.0%   63K/s   63K/s    0K     0K safer
FEAL 33..100  0.0%   34K/s   34K/s    0K     0K safest

One of five known encryption libs, FEAL (Fast Encryption ALgorithm) uses the 
FEAL-N CBC1 algorithm, an advancement from one originally designed in 1987 by 
Akihiro Shimizu and Shoji Miyaguchi. Historically it was not considered fully 
secure by cryptanalysts. The xpk sublib was last updated by its author 
Christian von Roques in April 1997 and is part of the xpk_crypt package.

FEAL was meant as a fast encryption alternative to IDEA and BLFH. It is indeed 
very fast at both encrypting and decrypting, and with the exception of its 
'safest' mode it is faster than every other encryption sublib barring ENCO. It 
offers no compression.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node FRHT "FRHT - an obscure packer similar to RAKE" 
Packer : FRHT
Name   : FRHT 68020 Version 1.0
Descr. :   Very good compression/decompression
DefMode: 100    DefChunk: 63 Kb     MaxChunk: 63 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
FRHT  0..25  44.9%  101K/s  611K/s  255K     0K DIV 8
FRHT 26..50  45.2%   94K/s  611K/s  255K     0K DIV 4
FRHT 51..75  45.5%   84K/s  617K/s  255K     0K DIV 2
FRHT 76..100 46.0%   72K/s  617K/s  255K     0K Static

FRHT is one of those sublibs that appeared on lists of xpk sublibs (such as 
Dirk Stöcker's xpk page, where he mentions only that it crashes on 68000), but 
without any link. It wasn't on Aminet, never was bundled with xpk apps, and 
nobody knew where the hell it was. As such, it frustrated many xpk collectors.  
It was released in September 1994 by Sebastiam (or Sebastian?) Mulenke. Cholok 
did not improve FHRT but mentioned it it on some forum posts: it apparently 
uses LZSS and is optimised for speed, and comparable to NUKE or RAKE.

Its original source is still unknown. However it was one library being passed 
around by users of the EAB forum without any documentation and so I was able to 
get a copy to test, though I still know almost nothing about it. It is unknown 
whether it was 020 only or had multiple versions. Even the name of is unknown 
reasoning, and given the compression text about 'FRHTing', could even be a 
crude joke. The author's name did not appear again in all of Amiga history. 
Indeed, he seems to have dropped off the face of the planet.

Despite its horrifying obscurity and the singular debut of its author, it's 
surprisingly a pretty good sublib even if there's no real reason to use it... 
assuming you can even find it.

Cholok did not update this sublib but made the comment that its decompression 
is compatible with RAKE, despite being from a completely different author, 
adding to its eternal mystery.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node FRLE "FRLE - Fast Run Length Encoder"
Packer : FRLE
Name   : Fast Run Length Encoder V1.2
Descr. : Optimized RLE for 68000
DefMode: 100    DefChunk: 32 Kb    MaxChunk: 2097151 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
FRLE  0..100  4.8%  370K/s 1150K/s    0K     0K normal

FRLE (Fast Run Length Encoder) was one of three very similar sublibs based on 
runlength encoding that were bundled with the xpk package  early on and have 
remained with it since. This sublib has remained unchanged since its last 
update in January 1993. It was written by Jorma Oksanen.

While byterun packers are all very much of a muchness - all very fast and all 
very ineffective on most files - FRLE was slightly more optimised than its 
bedmates CBR0 and RLEN for packing ratio and unpack speed.

Cholok corrected some non-critical bugs.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node GZIP "GZIP - the gzip algorithm implented for XPK"
Packer : GZIP
Name   : GZIP Version 1.2
Descr. : LZ77 class packer with hashing and dynamic Huffman coding
DefMode: 65    DefChunk: 256 Kb    MaxChunk: 16384 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
GZIP  0..9    0.0% 1607K/s 4575K/s    0K     0K store
GZIP 10..19  46.8%  269K/s 1451K/s    0K     0K laziest
GZIP 20..29  47.3%  245K/s 1451K/s    0K     0K lazier
GZIP 30..39  47.4%  198K/s 1451K/s    0K     0K lazy
GZIP 40..49  48.6%  175K/s 1487K/s    0K     0K calm
GZIP 50..59  49.3%  137K/s 1525K/s    0K     0K average
GZIP 60..69  49.6%   98K/s 1525K/s    0K     0K willing
GZIP 70..79  49.7%   86K/s 1525K/s    0K     0K greedy
GZIP 80..89  49.7%   62K/s 1525K/s    0K     0K greedier
GZIP 90..100 49.7%   52K/s 1525K/s    0K     0K greediest

GZIP had a few revisions and a slightly confusing history. Its initial version 
(1.0) was by Antonio Schifano, and was released in August 1995, which is on 
Aminet.  Aminet also had a version for WarpOS available, by Achim Stegemann in 
July 2000, as a direct port of a 1.1 version that isn't on Aminet. In August 
2003 it was updated to 1.2 by Gunther Nikl, and linked to much more modern zlib 
(1.1.4 compared to the old 0.93) and was optimised, but is no longer for 
PowerPC. I take this last version as the standard one, both because it is more 
recent, and because it is the most compatible version in every sense.

It never seemed to garner much attention, but is a very good library: it has 
good pack speed, excellent unpack speed, and achieves good ratios. It does 
however use large chunk sizes so may be heavy on memory use and not quite as 
flexible as old xpk sublibs for lighter compression tasks. Like BZP2, the 
XpkInfo table is inaccurate: ratio is fine, but the speed is highly 
exaggerated. Quite possibly the values for the WarpOS v1.1 version were left in 
v1.2 and describe a 166 MHz 603e rather than a 68060/50.

It uses the same algorithm as contemporary gzip, a particularly well tested and 
optimised LZ77 with dynamic Huffman.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node HFMN "HFMN - fast dynamic Huffman"
Packer : HFMN
Name   : Huffman 020+ V1.4
Descr. : Fast Dynamic Huffman Statistic Compression
DefMode: 100    DefChunk: 63 Kb     MaxChunk: 63 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
HFMN  0..100 24.7%  157K/s  307K/s    6K     4K dynamic

HFMN was distributed with the xpk package from early on, and yet was last 
updated quite late (April 1997). Its author was Martin Hauner. It uses a 
dynamic Huffman algorithm.

Huffman has low ratios when used on its own, apparently. This implementation 
has very good pack and unpack speeds. For speed it is only exceeded by byterun 
packers; and still beats the lower modes of ACCA, FAST and BLZW, however it 
gives a much poorer ratio.

Because of this low compression ratio, it never saw much use. (If you could 
only spare the CPU power to make a file at best a quarter smaller, then it 
begged the question whether it was necessary to compress it at all.) It is 
however a well optimised Huffman, for whatever that counts.

Cholok optimised memory usage, fixed potential crashes in the 020 version, 
removed self-modifying code that slowed it down considerably on JIT-emulated 
systems, and made it slightly safer (slowing it down slightly).

Click @{"here" link xpklibs} to return to the index.

@endnode

@node HUFF "HUFF - Dynamic Huffman"
Packer : HUFF
Name   : Huffman
Descr. : Dynamic huffman crunch algorithm, cache optimized byte decrunch 
algorithm
DefMode: 50    DefChunk: 63 Kb     MaxChunk: 63 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
HUFF  0..100 24.1%   88K/s  138K/s   28K    69K normal

HUFF was distributed with xpk, and was updated quite late (April 1997). Its 
original author was Marc Zimmerman. It uses only a dynamic Huffman algorithm 
for compression.

It is not noteworthy beyond it support for password locking and encryption (of 
unknown but probably simple type, as it makes very little difference to speed). 
It's slower than HFMN in every way and gains a ratio slightly less. Anyone who 
wanted a very light packer, lighter than FAST, would be better off with HFMN.

It supports passwords, though encryption is very simple and there was a 
security bug in that any chunk that could not compressed was also left 
un-encrypted.

Cholok optimised it, replaced the encoder with a better one and fixed the 
non-encrypted block error. However, this version causes memory corruption when 
passwords are used, and it is probably better to go back to v0.64. This bug is 
triggered by testing many xpk sublibs at once with a password set; although 
some other sublib appears to be the culprit when it then throws hits or 
corrupts its buffers, this behaviour does not happen when the Cholok HUFF is 
not one of the sublibs tested.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node IDEA "IDEA - the International Data Encryption Algorithm for XPK"
Packer : IDEA
Name   : ABPs IDEA for XPK
Descr. : The International Data Encryption Algorithm, XPK Implementation
DefMode: 76    DefChunk: 32 Kb     MaxChunk: 512 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
IDEA  0..25   0.1%   90K/s   90K/s    0K     0K ECB
IDEA 26..50   0.1%   87K/s   87K/s    0K     0K CFB 1-25
IDEA 51..75   0.1%   84K/s   84K/s    0K     0K OFB 1-25
IDEA 76..100  0.1%   84K/s   84K/s    0K     0K CBC 1-25

IDEA is one of the oldest xpk sublibs and goes back to its earliest days. It 
was last updated on July 1997 by André Beck (who may or may not be the original 
author, ABP). It was part of earlier xpk distributions but later moved to the 
xpk_crypt package and off Aminet because of various encryption laws around the 
world. It is back on Aminet where it has now been for many years. It is based 
on the International Data Encryption Algorithm designed by James Massey and 
Xuejia Lai in 1991, and which operates on 64-bit blocks using a 128-bit key. 
The method was historically considered very secure but was later surpassed 
internationally by faster methods.

It is a middle-of-the-road encryption sublib, faster than BLFH and (in theory) 
more secure than FEAL. It offers no compression, although two other sublibs 
(NUID and SHID) combine it directly with other packers.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node ILZR "ILZR - Incremental LZ-Renau"
Packer : ILZR
Name   : Incremental LZ-Renau V1.5
Descr. : A very fast low memory compression, fast hash version of LZSS
DefMode: 100    DefChunk: 16 Kb    MaxChunk: 16 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
ILZR  0..100 38.5%   28K/s  260K/s   96K     0K fast

ILZR was written by José Renau Ardevol in February 1994, and released to 
Aminet, where it remains at v1.0 and was never updated. It is based on an 
incremental LZ-Renau algorithm. It was never really used as it corrupted memory 
and threw Enforcer hits. That's how it would remain for the next 19 and a half 
years.

It was rescued by Cholok, who removed the critical bugs and made it run on all 
68k CPUs. Cholok says this particular LZ-R implementation is similar to common 
LZSS; it has an index of 14 bits, but is not tagged for speed, making it very 
like FAST but not as, uhm, fast. Its compression speed is low for its ratio. It 
is interesting in that it is the only sublib to use this particular method, but 
is ultimately outperformed by the others.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node IMPL "IMPL - turbo Imploder"
Packer : IMPL
Name   : Turbo Imploder V1.1
Descr. : A well-known compressor with dynamic compression modes
DefMode: 80    DefChunk: 192 Kb    MaxChunk: 8191 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
IMPL  0..9   34.8%   22K/s  240K/s  257K     0K mode 0
IMPL 10..18  37.6%   20K/s  221K/s  258K     0K mode 1
IMPL 19..27  39.9%   19K/s  209K/s  260K     0K mode 2
IMPL 28..36  41.4%   16K/s  209K/s  264K     0K mode 3
IMPL 37..45  42.6%   16K/s  205K/s  270K     0K mode 4
IMPL 46..54  43.4%   14K/s  202K/s  282K     0K mode 5
IMPL 55..63  43.9%   13K/s  202K/s  298K     0K mode 6
IMPL 64..72  44.3%   11K/s  196K/s  330K     0K mode 7
IMPL 73..81  44.7%    8K/s  196K/s  418K     0K mode 8
IMPL 82..90  44.9%    7K/s  192K/s  548K     0K mode 9
IMPL 91..99  44.9%    5K/s  189K/s  786K     0K mode 10

IMPL has been with the xpk package from its beginning. Based on an LZSS with 
static Huffman algorithm from the Imploder program, its last update was in 
November 1992 (Peter Struijk) and it remained unchanged in the xpk package 
since then. Although there exists an imploder.library, this sublib does not use 
it.

It is a very middle-of-the-road compressor, and outdated even by its day. It is 
not bad in any way but beaten by other common sublibs that came with xpk.  Its 
best ratio is around that of NUKE (or less), pack speed is quite slow, it uses 
quite a lot of RAM, and unpack speed, while its best feature, is average. As a 
result, it was rarely used even though it was always around.

Cholok changed the packing modes to those that match Imploder and slightly 
optimised parts, and removed the very slow non-turbo mode. However it is still 
solidly sub-average.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node L2XZ "L2XZ - LZMA for xpk via lzma.library (PowerPC/AmigaOS4)"
Packer : L2XZ
Name   : LZMA2 ZX
Descr. : Lempel-Ziv-Markov (LZMA) 2 compressor with delta and PPC filters

L2XZ is an AmigaOS4 PowerPC native sublib released by Chris Young in September 
2014. It is based on LZMA2, which is an updated version of LZMA 
(Lempel-Ziv-Markov). LZMA2 is used in the compression programs xz and 7zip. It 
uses an external library, the lzma.library, which is native to AmigaOS 4. The 
sublib also optionally provides from four delta pre-processing algorithms, and 
is aimed at being an all round heavy compressor.

I cannot supply an XpkInfo table or test myself because I do not have access to 
AmigaOS 4. While the author supplied some benchmarks, he did not supply those 
of the Canterbury Corpus.

Modes are odd on this one. 80-99 are treated as reserved (the compression 
parameters for these are undefined). The first digit of the mode is the amount 
of compression, from 0-7.  Extra filters are used depending on the last digit 
of the mode: 0 - no filters; 1 - delta with distance 1; 2 - delta with distance 
2; 3 - delta with distance 3; 4 - delta with distance 4; 9 - PowerPC (intended 
to pack PowerPC-native executables found on AmigaOS4). Mode 100 is the same as 
mode 70, but with 'extreme' set. This gives more compression but slower.

As expected it appears to give good ratios, higher than any other tested 
sublibs and probably comparable to other LZMA sublibs like LZM2 and LZMA. 
Compression speed is around the same and decompression is fast when compared to 
BZP2 (although it is not clear which build of that is used and how it performs 
on AmigaOS4). 

The only other thing of note, from the author, that it is very slow on X1000 
hardware possibly because its PA6T CPU must trap and emulate unsupported 
instructions used by it or the lzma.library.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node LHLB "LHLB - xpk interface to the lh.library"
Packer : LHLB
Name   : preprocessor for lh.library
Descr. : Fast and good compression usable for all data
DefMode: 100    DefChunk: 32 Kb    MaxChunk: 32 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
LHLB  0..100  4.5%  140K/s 1043K/s   75K     4K normal

LHLB uses the lh.library, which itself uses an LZ-Huffman algorithm same as 
(but not compatible with) the LhA archiver, specifically its -lh1- mode. It was 
released by Gunther Nikl in his update of the xpkGZIP package and 1.1 is on 
Aminet. The source of the version I have, 1.2 (December 2010) is a Cosmos 
update rather than a Cholok one. Despite this, they both use the same 
lh.library, which was never updated, so there may be no actual difference, and 
both are stable. The xpkInfo gets the ratio wrong, as it produces a test ratio 
closer to 48%.

The lh.library was developed by Holger P. Krekel and Olaf Barthel and was old 
even when xpk appeared, dating back to January 1991. Despite the age, it's not 
that the sublib isn't good: it has decent compression and decompression speeds 
and a good ratio, it's just that other heavy packers like SHRI exceed it, and 
even RAKE comes close despite being much faster overall.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node LINx "LIN1, LIN2, LIN3, LIN4 - the LINO packers"
Packer : LIN1
Name   : Lino1 V1.1
Descr. : Ratio similar to FAST with faster packing
DefMode: 100    DefChunk: 32 Kb    MaxChunk: 2097151 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
LIN1  0..33  38.3%  135K/s  260K/s    8K     0K minimal
LIN1 34..66  39.2%  138K/s  253K/s   32K     0K normal
LIN1 67..100 40.1%  113K/s  256K/s   33K     0K maximal

Packer : LIN2
Name   : Lino2 V1.1
Descr. : Better version of Lino1
DefMode: 100    DefChunk: 32 Kb    MaxChunk: 2097151 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
LIN2  0..33  40.9%   80K/s  179K/s   18K     0K minimal
LIN2 34..66  41.3%   88K/s  179K/s   34K     0K normal
LIN2 67..100 41.5%   94K/s  179K/s   66K     0K maximal

Packer : LIN3
Name   : Lino3 V1.1
Descr. : Improved version of LIN1, better packing (like PP)
DefMode: 100    DefChunk: 32 Kb    MaxChunk: 2097151 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
LIN3  0..33  42.0%   52K/s  270K/s   52K     0K minimal
LIN3 34..66  44.1%   47K/s  263K/s   76K     0K normal
LIN3 67..100 44.4%   43K/s  264K/s   76K     0K maximal

Packer : LIN4
Name   : Lino4 V1.1
Descr. : Improved version of Lino2, best packing
DefMode: 100    DefChunk: 32 Kb    MaxChunk: 2097151 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
LIN4  0..33  45.0%   31K/s  176K/s   97K     0K minimal
LIN4 34..66  45.6%   29K/s  178K/s   97K     0K normal
LIN4 67..100 45.8%   26K/s  179K/s   97K     0K maximal

The LINx sublibs (LIN1, LIN2, LIN3 and LIN4) came bundled with the LINO package 
on Aminet. LINO was an LZ77-based packer, released in 1994 or 1995 by Gerhard 
Tünkler, and the sublibs came from the same author and used the same code. 
However, that package has disappeared from Aminet for unknown reasons, and 
these sublibs can be considered lost.

This comes from my own memory as it can now not be confirmed: the original 
sublibs simply did not work. If copied to where they needed to be, they were 
not detected and loaded; perhaps they needed an external library that was not 
supplied. Cholok fixed them however, and made them operational again. They are 
interesting, even if they arrived fixed far too late to make a difference. 
Indeed, fixed they are excellent, and LIN1 and LIN3/LIN4 in particular could 
easily replace even highly optimised packers like FAST and RAKE respectively!

LIN1 is like the turbo mode in FAST, but gives a better ratio. LIN2 seems the 
weakest of the stable; it is a little slower at packing and almost as fast at 
unpacking, but only gives a slightly improved ratio over the previous.

LIN3 packs more slowly (but is still very fast) but unpacks as fast as LIN1, 
and gives ratios almost as good as RAKE - in fact, it's almost equivalent. LIN4 
is the slowest at packing of them (but still fast among xpk sublibs!) but also 
decompresses fast and has slightly better ratios than LIN3. 

All four sublibs are also capable of password locking the packed file, though 
they do not not use encryption: setting a password makes almost no difference 
to the packing or unpacking speed. I have checked the packed files and 
confirmed that the data is identical to that without a password, but xpk simply 
doesn't allow them to be unpacked unless the correct password is given. This 
could be circumvented by replacing the headers on the chunks, so cannot be 
considered safe.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node LZBS "LZBS - fast LZ packing for bitstreams"
Packer : LZBS
Name   : BSI Bitstream Packer V2.1
Descr. : LZSS family with 2-13 bits window
DefMode: 100    DefChunk: 320 Kb    MaxChunk: 2097151 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
LZBS  0..1    4.9%   33K/s   54K/s  256K     0K 2 bits
LZBS  2..10   8.5%   33K/s   53K/s  256K     0K 3 bits
LZBS 11..20   9.8%   33K/s   53K/s  256K     0K 4 bits
LZBS 21..30  13.9%   34K/s   53K/s  256K     0K 5 bits
LZBS 31..40  18.8%   35K/s   54K/s  256K     0K 6 bits
LZBS 41..50  23.5%   36K/s   56K/s  256K     0K 7 bits
LZBS 51..60  26.8%   36K/s   58K/s  257K     0K 8 bits
LZBS 61..70  29.4%   36K/s   60K/s  258K     0K 9 bits
LZBS 71..80  31.4%   35K/s   62K/s  260K     0K 10 bits
LZBS 81..90  32.8%   33K/s   64K/s  264K     0K 11 bits
LZBS 91..98  33.5%   30K/s   65K/s  272K     0K 12 bits
LZBS 99..100 33.6%   26K/s   67K/s  288K     0K 13 bits

LZBS is one of the sublibs supplied with the now-lost CyberYAFA original 
package by Gerhard Tünkler (August 1997) and can be considered permanently 
lost. Its original incarnation was broken and it corrupted the output data. 
Once again, Cholok fixed it. It is based on the LZSS algorithm with 2-13 bits 
window for raw speed.

It is obviously aimed at very high throughput packing, and performs much better 
than its xpkInfo table implies. However, each mode is easily out-performed by 
other packers: the lower ones by byterun, the middle ones by HFMN and the 
higher ones by FAST, ACCA, or RAKE.

Cholok removed a critical error leading to data corruption and optimised the 
sublib.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node LZCB "LZCB - LZ77 by Charles Bloom"
Packer : LZCB
Name   : Charles Bloom's LZ77, v1.0
Descr. : Very high compression Lempel-Ziv algorithm, contact: 
cbloom@mail.utexas.edu
DefMode: 50    DefChunk: 976562 Kb    MaxChunk: 976562 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
LZCB  0..10  53.5%   10K/s   17K/s    0K     0K fast
LZCB 11..90  54.0%    8K/s   17K/s    0K     0K normal
LZCB 91..100 54.5%    6K/s   17K/s    0K     0K slow

LZCB (LZ Charles Bloom) is a sublib published by Charles Bloom in September 
1995. It appeared to be be based on LZ77, and makes the claim of being a slow 
but high ratio packer.

In testing (WinUAE), it seems to pack slower than SHRI but unpack much more 
slowly than most other packers. Ratio is a little less than SHRI.

That would make it average on its own, but unfortunately this sublib doesn't 
work. It corrupts the output file and destroys the data. It may be that for 
this reason it was removed from Aminet (if indeed it was ever there) and can be 
considered lost. If you can find it, don't attempt to use it.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node LZMA "LZMA - LZMA for xpk (PowerPC/AmigaOS4)"
Packer : LZMA
Name   : LZMA
Descr. : Lempel-Ziv-Markov, improved LZ77 compression algorith, backed by a 
range coder

LZMA was the first known AmigaOS4 PPC-native xpk sublibrary. It is based on the 
powerful LZMA algorithm (LZMA SDK 4.43) that forms the basis of the xz and 7zip 
compression programs. No author or date is given either in the version string 
or in the package (which is on Aminet), but it was uploaded on April 2007.

I cannot supply an XpkInfo table because I do not have access to AmigaOS 4. 
However the packager supplied some useful benchmarks that suggest some data: it 
has 7 modes, and gives a ratio of 75.9% to 82.8% on the Canterbury Corpus files 
that have been traditionally used as the xpk benchmark, placing it in the top 
tier of high ratio compressors. Packing by mode varies from faster than BZP2 to 
over twice as slow (although it is uncertain which compile of BZP2 is being 
used and how well it performs under AmigaOS4). Unpacking is fast, shown to be 
faster than MASH; again this is subjective.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node LZM2 "LZM2 - LZMA2 for XPK (PowerPC/MorphOS)"
Packer : LZM2

An xpk sublib that comes with MorphOS,  LZM2 is probably based on the very 
powerful LZMA2 algorithm that forms the basis of the xz and 7zip compression 
programs. It was compiled on April 2010 by Harry Sintonen, though the author's 
name is not shown in the version string. Sigh.

Unfortunately it doesn't provide an XpkInfo table when queried (which is a 
serious bug for an xpk sublib!) and I never used it when I had MorphOS given my 
total lack of need for compression, so I can't say much about it, other than it 
produces very high ratios (top tier of xpk sublibs) and is relatively fast. It 
is stable, despite the lack of an XpkInfo table.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node LZ40 "LZ40 - LZ77 packer for XPK using lz4.library (PowerPC/AmigaOS4)"
Packer : LZ40
Name   : LZ4
Descr. : LZ77 based packer with very fast compression/decompression

LZ40 is an AmigaOS 4 xpk sublib by Chris Young, uploaded on October 2014. It 
uses an external library, the lz4.library, which itself uses a LZ77 algorithm.

I cannot supply an XpkInfo table because I do not have access to AmigaOS 4. 
While the author supplied some benchmarks, he did not supply those of the 
Canterbury Corpus, but it seems to give good ratios while being very fast. As 
expected it has less ratio but is faster than the other common AmigaOS sublib, 
LZMA.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node LZWx "LZW2, LZW3, LZW4, LZW5: CyberYAFA LZ-based packers"
Packer : LZW2
Name   : LZ-Welsh (not Welch) V2.3
Descr. : LZSS with big window (64 KB), slow packing and fast decrunching
DefMode: 100    DefChunk: 320 Kb    MaxChunk: 2097151 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
LZW2  0..100 32.3%   32K/s  556K/s  320K     0K cremation

Packer : LZW3
Name   : LZ-Welsh (not Welch) 020+ V3.3
Descr. : LZW2 compatible, better compressing
DefMode: 100    DefChunk: 320 Kb    MaxChunk: 2097151 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
LZW3  0..100 33.3%   22K/s  600K/s  512K     0K cremation

Packer : LZW4
Name   : LZ-Welsh (not Welch) 020+ V4.3
Descr. : LZW3 like, better compression
DefMode: 50    DefChunk: 320 Kb    MaxChunk: 2097151 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
LZW4  0..25  32.4%   18K/s  560K/s  512K     0K cremation
LZW4 26..50  34.7%    8K/s  560K/s  512K     0K ashes
LZW4 51..75  35.3%    6K/s  560K/s  512K     0K grave
LZW4 76..100 35.5%    4K/s  560K/s  512K     0K oblivion

Packer : LZW5
Name   : LZ-Welsh (not Welch) 020+ V5.3
Descr. : Very Similar to TDCS
DefMode: 50    DefChunk: 320 Kb    MaxChunk: 2097151 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
LZW5  0..33  39.5%   18K/s  545K/s  512K     0K cremation
LZW5 34..67  40.8%    8K/s  545K/s  512K     0K ashes
LZW5 68..100 41.2%    6K/s  545K/s  512K     0K oblivion

The LZWx family of sublibs - LZW2, LZW3, LZW4 and LZW5 - were supplied with the 
CyberYAFA package, and this version of the package is now lost from Aminet so 
they can also be considered permanently lost.  They are by Niels Fröhling, 
written between May and September 1997, apparently sequentially. 

They claim to use the LZ-Welsh algorithm, as opposed to the LZ-Welch which is 
LZW. There's no such thing as LZ-Welsh, so the author was probably trying to 
avoid triggering a patent claim over the LZ-Welch method, but he wasn't using 
that anyway as they actually seem to use tagged LZSS instead! Hmph.

All of them except LZW2 were broken and corrupted data, but were all fixed by 
Cholok, who also investigated what methods they truly used.

LZW2 and LZW3 are apparently the same packer and can unpack each other (at 
least, outside the confines of xpk which doesn't allow this normally). LZW2 
packs faster but LZW3 gets a better ratio. They both pack fast and unpack very 
fast, but their ratio is around what FAST would give. LZW4 is very similar, but 
reverses the order of bits. It packs slower, but doesn't achieve much more in 
the way of ratio.

LZW5 compresses better than the others, and is about as fast as LZW4. It's 
still nothing spectacular, however. It's similar to TDCS, but worse.

All of them are outperformed by other sublibs and don't really justify the work 
that was obviously put into them to fix them. That's probably a reason why they 
disappeared from Aminet.

Apart from completely fixing these libraries, Cholok removed their need for 
AmigaOS 3 and made LZW2 compatible with 68000. The changes are too much to 
mention, so let's just say he heavily optimised them as well.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node MASH "MASH - the Mashiner"
Packer : MASH
Name   : Mashiner 020+ V2.0
Descr. : WindowSize: 32KB, 2 mixed streams
DefMode: 100    DefChunk: 64 Kb    MaxChunk: 64 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
MASH  0..100 47.3%    7K/s  120K/s  256K     0K  -->

MASH (by Zdenek Kabelac) is another of those rare sublibs that was not bundled 
with xpk at the beginning, but became an indispensable part of it. It can be 
found in the xpk package, or on its own, on Aminet. No date is given on the 
version string but the package gives it as March 1995. It is based on a very 
efficient implementation of the LZSS algorithm with 32 KB window.

Packing speed is low-to-average but unpacking is on the faster side, and ratio 
is good taking both into account. This puts it somewhere between a heavy but 
slow compressor like SHRI and an all-rounder like RAKE.

Cholok removed some non-critical bugs and removed the non-turbo mode, which was 
not very useful.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node NONE "NONE - a dummy library that does no compression"
Packer : NONE
Name   : NoPacker
Descr. : A dummy library that does no compression
DefMode: 100    DefChunk: 32 Kb    MaxChunk: 32 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
NONE  0..100  0.0% 1450K/s 1450K/s    0K     0K normal

As you would imagine from its name, NONE did nothing. It just passed data 
unchanged from source to the new xpk container. It was originally meant as a 
programming example, but when xpk added the USER mode, it could be used as a 
'compression skip' mode for files that were already compressed. Last version 
was released in July 1998 by Dirk Stöcker. It is bunded with the xpk package.

Surprisingly it was also updated by Cholok, although only its XpkInfo query 
table - the 1450K/s you see there. This has an important purpose: it shows the 
theoretical maximum speed of any xpk library using the proper test benchmark 
system and files, so if you see one that claims faster, then it is either wrong 
or basing itself on a non-compatible system and/or files.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node NUID "NUID - combines NUKE and IDEA"
Packer : NUID
Name   : NUKE & IDEA
Descr. : Combines 2 packers: compressor NUKE and encryptor IDEA
DefMode: 100    DefChunk: 29 Kb    MaxChunk: 29 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
NUID  0..100 45.0%   36K/s  630K/s    0K     0K normal

NUID, released by Zdenek Moravcik (also known as D.N.A.) in July 1996, solves a 
problem users were having with having to double-pass files they wanted to both 
encrypt and compress. This sublib does both at once. It has its own package on 
Aminet.

It's not actually clear which IDEA mode it uses; NUKE may have just one mode, 
but IDEA has several. It most probably just uses the default mode of IDEA, 
which isn't ideal.

Stability of this sublib has been disputed but any instability unproven. Dirk 
Stöcker's xpk page says the lib crashes on 68000 and makes illegal FreeMem 
calls. I have not been able to reproduce this. As it doesn't actually do much 
except call NUKE and IDEA, it's possible he tested 020 versions of these on a 
68000. In any case the reader should test it, and if it causes problems file it 
away - although it's very likely they will have no need of such things these 
days.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node NUKE "NUKE - a popular and efficient LZSS-based packer"
Packer : NUKE
Name   : Nuke V1.8
Descr. : A relatively efficient packer that unpacks very quickly
DefMode: 50    DefChunk: 29 Kb    MaxChunk: 29 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
NUKE  0..100 45.4%   29K/s  447K/s  192K     0K normal

Easily the most popular of the xpk sublibs, particularly in early days, NUKE 
(by Christian von Roques) is a very optimised LZSS compressor that features 
good packing ratio, decent packing speed, and very fast unpacking. It is an 
excellent jack-of-all-trades that can unpack as quickly as something like ACCA 
while getting much better ratios, yet its packing times were still bearable 
even on a stock Amiga 500. The last released was June 1997, and it has always 
been associated with the xpk package and still bundled with it.

Later it was overshadowed by RAKE, which exceeds it in every way, yet never 
quite became as popular.

Cholok updated the XpkInfo table to reflect the more modern standard (which had 
never been updated, given the library began so early) and very lightly 
optimised it.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node PPMQ "PPMQ - Arith-Coding Markov Modeller"
Packer : PPMQ
Name   : Charles Bloom's PPMQ, v1.0
Descr. : Arith-Coding Markov-Modeller, contact: cbloom@mail.utexas.edu
DefMode: 50    DefChunk: 48 Kb    MaxChunk: 97 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
PPMQ  0..100 60.0%    3K/s    3K/s    0K     0K PPMQ

PPMQ is another sublib apparently based on Markov arithmetic coding, although 
its name infers that it uses a Prediction by Partial Matching model, a 
statistical modeller with isn't the same. Huh. Anyway, it was last updated by 
its author Charles Bloom in September 1995 (but possibly later; see below). It 
was once on Aminet, but is not now, for unknown reasons.  It should be 
considered lost, though the v1.0 sublib alone can still be found in a demo 
archive called Frozen Pack#02 by Whelpz, Gravity 3 Party Edition (Release date: 
16.09.98) on Scene.org.

This is an odd one. The v1.0 version (September 1995) works without issue, but 
later versions (such as v1.3 May 2011) do not appear to work and simply crash 
each time no matter what CPU it is run on. xBench reports v1.0 as v0.2, which 
is a bug in the sublib.

The old working version is extremely slow at packing and even slower at 
unpacking, perhaps the slowest sublib of all apart from SHSC. Its packing ratio 
is extremely high though, higher than SHRI and comparable to, perhaps better 
than, BZP2. It's beaten by modern LZMA packers, but was the strongest 
compressor available in 1995 - if you could wait for it.

I'm going to assume that the broken versions were attempts to improve its speed 
that didn't work out. Later Cholok apparently spent a lot of time trying to fix 
these versions this sublib, but gave up on it after a long fight.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node PWPK "PWPK - PowerPacker.library interface for XPK"
Packer : PWPK
Name   : PowerPacker 1.2
Descr. : Based on powerpacker.library
DefMode: 100    DefChunk: 64 Kb    MaxChunk: 8191 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
PWPK  0..20  39.7%   18K/s  210K/s  196K     0K Fast
PWPK 21..40  41.5%   17K/s  208K/s  200K     0K Mediocre
PWPK 41..60  42.8%   14K/s  210K/s  208K     0K Good
PWPK 61..80  43.8%   11K/s  210K/s  224K     0K Very Good
PWPK 81..100 44.2%    9K/s  211K/s  256K     0K Best

PWPK uses powerpacker.library for compression. PowerPacker apparently belongs 
to the LZSS family of algorithms and is proprietary. As compression goes, 
PowerPacker is distinctly average, despite its huge popularity in the heyday of 
the Amiga. The sublib is no different. It is beaten for ratio by mid-range 
packers like RAKE and NUKE and packs and unpacks less quickly.

The sublib was released in August 1995 by Michael Barsoon, and can be found on 
Aminet. Notably, it only worked with the 'original' v36 of the 
powerpacker.library, and not with later reverse-engineered 'system friendly' 
versions of v37 and above: it simply won't open with these. The v36 itself is 
problematic because it directly accesses hardware and installs unwanted 
patches, and it crashes on MorphOS; presumably it would also crash AmigaOS4 for 
the same reason (unconfirmed).

This sublib holds the distinction of being the only known compression-focused 
sublib that truly provides some encryption on its own as an option by supplying 
a password. (This excludes sublibs like NUID or SHID that rely on other 
sublibs, or HUFF which technically also encrypts but the encryption is broken.) 
This alone may have made it useful.

Using PWPK's encryption slightly increases packing time and very slightly 
increases unpacking time. The encryption method is proprietary to PowerPacker 
but is relatively light as there are tools to crack PowerPacker encrypted 
files. Files can be packed or packed and encrypted, but they cannot be just 
encrypted.

Cholok updated the library substantially, removing a potential crash error, 
removing modes that were too slow, and, most importantly, removing the reliance 
on actually having powerpacker.library. The Cholok version does not use this 
library at all and now works on MorphOS.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node RAKE "RAKE - a fast and efficient all-rounder LZSS-based packer"
Packer : RAKE
Name   : Rake 020+ V1.8
Descr. : Fast & good compression/decompression
DefMode: 100    DefChunk: 63 Kb        MaxChunk: 63 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
RAKE  0..25  44.8%   83K/s  491K/s  256K     0K DIV 8
RAKE 26..50  45.1%   78K/s  495K/s  256K     0K DIV 4
RAKE 51..75  45.4%   70K/s  495K/s  256K     0K DIV 2
RAKE 76..100 45.8%   62K/s  495K/s  256K     0K Full

One of the best all-rounder sublibs, RAKE (by Karsten Dageförde) is an 
extremely well optimised LZSS static-Huffman packer last updated August 1995. 
It was, for a long time at least, the fastest sublib among those that also 
provided good ratios. It can be found on Aminet, both in its own package and 
with the main xpk package.

It occupied the same niche as NUKE, yet had better packing times, better 
ratios, and even faster decompression, and quickly became an integral part of 
the xpk package. However, it never quite reached the popularity of NUKE despite 
being better in every way except memory use.

Cholok called this packer virtually faultless, but his update deleted the 
non-turbo mode, which was uselessly slow.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node RDCN "RDCN - Ross Data Compression"
Packer : RDCN
Name   : Ross Data Compression V2.4
Descr. : Very fast, but yet efficient packer
DefMode: 100    DefChunk: 63 Kb        MaxChunk: 2097151 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
RDCN  0..79  32.9%  131K/s  480K/s   16K     0K speedy
RDCN 80..100 39.8%   39K/s  495K/s  288K     0K crawling

RDCN - Ross Data Compression (by Niklas Sjoeberg in what is assumed to be 1993 
by the archive - the file version has no date) uses a mixed tagged 
LZSS/runlength data compression algorithm first published in 1992 by Ed Ross 
intended for fast packing of high-throughput backup data. It is very similar to 
ACCA and predates it, although ACCA gives better ratio and is slightly faster. 
It never had ACCA's critical data corruption bugs so was always safe to use 
(although there were apparently broken 3.x versions floating around that were 
not safe to use. I never encountered these. Aminet holds version 2.2).

Cholok removed a table reset error, optimised slightly and added a new 
compression mode. His version of RDCN is now almost identical to ACCA in speed 
and ratio, when using similar modes.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node RLEN "RLEN - Run length packer"
Packer : RLEN
Name   : Run Length Packer V1.5
Descr. : Fast and simple RLE compression
DefMode: 100    DefChunk: 32 Kb        MaxChunk: 2097151 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
RLEN  0..100  4.8%  372K/s 1150K/s    0K     0K normal

RLEN is the third of three very similar runlength sublibs bundled with the xpk 
package. It was last updated in April 1997 by Urban Dominik Müller. It was 
intended as a programming example that was still functional as a packer.

It's a little less effective at packing than CBR0 as it has a maximum run 
length of 127 bytes, not the 128 bytes used by almost every other runlength 
implementation. However the end tag accelerates decoding very slightly.

It was optimised and the XpkInfo table updated by Cholok.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node SASC "SASC - ASC from HA archiver, with delta preprocessor"
Packer : SASC
Name   : ASC with delta preprocessor
Descr. : compressor using sliding window dictionary followed by arithmetic coder
DefMode: 0     DefChunk: 32 Kb    MaxChunk: 1024 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
SASC  0..33  39.7%    6K/s   10K/s    0K     0K ASC-norm
SASC 34..66  39.6%    6K/s   10K/s    0K     0K ASC-dlta
SASC 67..100 39.5%    3K/s   10K/s    0K     0K ASC-best

SASC is one of two sublibs that make up the xha package, which is currently on 
Aminet. Both are aimed at sound samples, optionally applying a delta 
pre-encoding. Both use code taken from the HA archiver by Harri Hirvola. 
Notably, HA uses an arithmetic Markov coder but compresses extremely well. The 
ASC mode, which is used here, its default method using sliding window dictionary
followed by arithmetic coder and 'Offers quite good compression on wide variety 
of filetypes'.

A sophisticated delta preprocessor is featured in this sublib. In the 
'ASC-best' mode delta routines test the data to determine the best type of 
delta to use: 8-bit, 16-bit, or none. This does require a long time as every 
chunk must be processed three times and the best chosen. 

Packing ratio of general data is generally very good, far better than that 
shown in its XpkInfo table, and really only matched by heavyweights like SHRI 
and GZIP. Where the delta preprocessing is successful, it can be assumed to 
have an extremely high ratio compared to other packers. However both packing 
and unpacking are very slow, much slower than even other very high ratio 
packers.

It was written by Peter Kunath and released in July 1999. As intended for an 
archiver, it is probably too slow for most users to use for anything but long 
term archival, except those with emulated machines. Slow compression is common 
enough alone, but slow decompression as well cannot be forgiven so easily. 

A PowerPC native version is shipped with MorphOS, which doesn't really help 
speed-wise as MorphOS' 68k emulation is almost as fast anyway.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node SDHC "SDHC - Sample Delta Huffman Compressor"
Packer : SDHC
Name   : Sample Delta Huffman Compressor
Descr. : Coder for audio data
DefMode: 50    DefChunk: 128 Kb    MaxChunk: 1023 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
SDHC  0..7    0.0% 1150K/s 1300K/s    0K     0K   B1
SDHC  8..15   0.0%  700K/s  800K/s    0K     0K   B2
SDHC 16..23   0.0% 1700K/s 1800K/s    0K     0K   W1
SDHC 24..31   0.0% 1050K/s 1200K/s    0K     0K   W2
SDHC 32..39   0.0% 1700K/s 1800K/s    0K     0K  SW1
SDHC 40..47   0.0% 1050K/s 1200K/s    0K     0K  SW2
SDHC 48..55  37.0%   15K/s  200K/s  256K   128K P B1
SDHC 56..63  28.9%   15K/s  200K/s  256K   128K P B2
SDHC 64..71  29.7%   15K/s  200K/s  256K   128K P W1
SDHC 72..79  20.4%   15K/s  200K/s  256K   128K P W2
SDHC 80..87  27.8%   15K/s  200K/s  256K   128K PSW1
SDHC 88..100 16.1%   15K/s  200K/s  256K   128K PSW2

SDHC is designed for samples. It sometimes gets mixed up with the 
similar-sounding xha sublibs SASC and SHSC, especially as it also applies a 
delta processing. But no - it was written by Gerd Wieczorek and has its own 
package on Aminet. It applies delta encoding and Huffman, much like SMPL. It 
can also be used as a direct replacement for DLTA. Its last release was in 
March 1998.

Unlike SMPL, it also has different delta algorithms for both 8-bit and 16-bit 
samples. The key to the XpkInfo table is as follows: B=byte (for 8-bit 
samples), W=word (for 16-bit), SW=stereo word (for 16-bit stereo). The 2 
denotes double delta-encoding, which sometimes slightly improves compression 
but obviously slows packing somewhat. Only the modes marked P actually 
compress,  with a Huffman algorithm.

It appears to be better than SMPL and most mid-range packers for samples, but 
is beaten by SQSH for ratio. It's hard to tell. Delta compression of samples on 
xpk was always a 'try and see' process, and often several packers have to be 
tested on a sample file with and without delta to see which gives the best 
compression. Packing and unpacking are both average but rather slow for the 
kind of compression it gets (on ordinary data at least).

Click @{"here" link xpklibs} to return to the index.

@endnode

@node SHID "SHID - combines SHRI and IDEA"
Packer : SHID
Name   : SHRINK & IDEA
Descr. : Combines 2 packers: compressor SHRI and encryptor IDEA (both must be 
available)
DefMode: 100    DefChunk: 31 Kb        MaxChunk: 31 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
SHID  0..14  47.0%    5K/s    7K/s    0K     0K worst
SHID 15..28  48.0%    5K/s    7K/s    0K     0K bad
SHID 29..42  49.0%    5K/s    7K/s    0K     0K average
SHID 43..56  50.0%    5K/s    7K/s    0K     0K normal
SHID 57..70  51.0%    5K/s    7K/s    0K     0K good
SHID 71..84  51.0%    5K/s    7K/s    0K     0K better
SHID 85..100 52.0%    5K/s    7K/s    0K     0K best

SHID, like NUID, was released by Zdenek Moravcik in July 1996, solves a problem 
users were having with having to double-pass files they wanted to both encrypt 
and compress. It has its own package on Aminet.

While it allows the mode for SHRI to be selected, once again it seems to use 
the default mode of IDEA.

Like NUID, stability of this sublib has been disputed but any instability 
unproven. Dirk Stöcker's xpk page says the lib crashes on 68000 and makes 
illegal FreeMem calls. I have not been able to reproduce this. As it doesn't 
actually do much except call SHRI and IDEA, it's possible he tested 020 
versions of these. In any case the reader should test it, and if it causes 
problems, then file it away - although it's very likely they will have no need 
of such things these days.

@endnode

@node SHR3 "SHR3 - Shrink 3.0, based on SHRI"
Packer : SHR3
Name   : Shrink 020+ V3.0
Descr. : Shrink slow compressor with excellent compression rate
DefMode: 100    DefChunk: 31 Kb        MaxChunk: 2097151 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
SHR3  0..14  48.2%   10K/s   20K/s   39K    65K worst
SHR3 15..28  49.4%   10K/s   20K/s   42K    65K bad
SHR3 29..42  50.4%   10K/s   21K/s   48K    65K average
SHR3 43..56  51.1%    9K/s   22K/s   60K    65K normal
SHR3 57..70  51.6%    9K/s   23K/s   84K    65K good
SHR3 71..84  51.9%    8K/s   24K/s  132K    65K better
SHR3 85..100 52.4%    7K/s   24K/s  228K    65K best

SHR3 was intended as the successor to SHRI and uses an improved version of the 
same algorithm, though not backwards compatible. It performs better than SHRI 
(especially unpacking) in terms of speed, but gets around the same ratio.

It is not clear whether Cholok is actually the author of SHR3, but left 
Matthias Meixner's name in the credit as author of the original Shrink 
algorithm. If it is not Cholok's, then the source package is unknown, and it as 
it does not appear to be on Aminet, can be considered permanently lost.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node SHRI "SHRI - Shrink, a popular slow but thorough packer"
Packer : SHRI
Name   : Shrink 020+ V2.6
Descr. : Shrink slow compressor with excellent compression rate
DefMode: 100    DefChunk: 31 Kb        MaxChunk: 2097151 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
SHRI  0..14  48.1%    9K/s   14K/s   39K    65K worst
SHRI 15..28  49.4%    9K/s   15K/s   42K    65K bad
SHRI 29..42  50.4%    9K/s   16K/s   48K    65K average
SHRI 43..56  51.1%    9K/s   16K/s   60K    65K normal
SHRI 57..70  51.6%    8K/s   17K/s   84K    65K good
SHRI 71..84  51.9%    7K/s   18K/s  132K    65K better
SHRI 85..100 52.4%    7K/s   18K/s  228K    65K best

One of the oldest sublibs and part of the xpk package from the earliest days, 
SHRI was considered for a long time as the obligatory 'is slower than 
everything else but compresses better than everything else' sublib, meant for 
archiving and for data you really needed to get as small as possible. The 
author was Matthias Meixner and the last update was in January 1996. It is 
based on LZSS with a 64KB dictionary and arithmetic compression.

Time has been kind, and it still compares well against other packers for ratio, 
but it is no longer the strongest compression available to xpk nor the slowest. 
Packing speed on a basic 68000 or 68020EC/14 always seemed excessive back in 
the 90s but it is actually fairly good compared to other high ratio packers. 
Unpack speed is okay also, but of course it is nothing like faster packers like 
NUKE and RAKE.

Cholok removed an unpacking error with larger block sizes (>32 KB), optimised 
speed by around 20%, and created an optimised 020 version. Cholok may or may not 
have continued improvement of the method with SHR3.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node SHSC "SHSC - HSC from HA archive, with delta preprocessor"
Packer : SHSC
Name   : HSC with delta preprocessor
Descr. : compressor based on finite context model and arithmetic coder
DefMode: 0     DefChunk: 32 Kb    MaxChunk: 1024 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
SHSC  0..33  38.7%    2K/s    2K/s    0K     0K HSC-norm
SHSC 34..66  38.6%    2K/s    2K/s    0K     0K HSC-dlta
SHSC 67..100 38.5%    1K/s    2K/s    0K     0K HSC-best

SHSC is the second of two sublibs that make up the xha package which is 
currently on Aminet. Both are aimed at sound samples, optionally applying a 
delta pre-encoding. Both use code taken from the HA archiver by Harri Hirvola. 
Notably, HA uses an arithmetic Markov coder but compresses extremely well. The 
HSC mode is based on a finite context model and arithmetic coder, 'Quite slow 
for binary data, but offers very good compression especially for longer text 
files.'

A sophisticated delta preprocessor is featured in this sublib. In the 
'HSC-best' mode delta routines test the data to determine the best type of 
delta to use: 8-bit, 16-bit, or none. This does require a long time as every 
chunk must be processed three times. Like SASC, compression ratio is even 
better than shown in the XpkInfo table, and it may get the highest compression 
ratios of any xpk sublibrary known with even ordinary data. With samples, it is 
almost certainly the best. The penalty is that it is extremely slow in both 
compression and decompression.

It was written by Peter Kunath and released in July 1999. It is by far the 
slowest of all xpk sublibs known, and too slow for anything but archival use, 
even for users of extremely fast emulated machines. A PowerPC-native version is 
shipped with MorphOS.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node SLZ3 "SLZ3 - Simple and Fast LZZSS from FastLZ"
Packer : SLZ3
Name   : Simple & Fast LZSS V1.3
Descr. : Based upon a workshop of Adisak Pochanayon (®)
DefMode: 100    DefChunk: 64 Kb     MaxChunk: 2097151 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
SLZ3  0..100 39.2%   54K/s  646K/s  272K     0K fastLZ

The source of SLZ3 is unknown, and so can be considered a lost xpk sublib. Its 
pedigree is confusing; the original author is Miguel Fides, dated April 1997, 
but the Cholok-updated library credits Niels Fröhling: perhaps he made a 
mistake and believed it was associated with the LZWx sublibs because of a 
similar name? Or did this author take it over? Unknown.

It is based upon a FastLZ algorithm from the SLZSPD package on Aminet (by 
Adisak Pochanayon), which is itself modelled on LZRW-1, much like FAST. There 
is more confusion abound, as the original v1.0 takes a very long time to pack 
while the fixed v1.3 is much faster, almost like a different library. Yet both 
are based upon Adisak Pochanayon's method. This most probably can be explained 
a bug in the original.

Anyway, let us assess the most up to data version. It is obviously aimed at 
very high throughput packing like FAST; it has good packing speed and extremely 
good unpacking speed, and a decent ratio. It's good.

Cholok updated the XpkInfo table, optimised slightly and removed the 
requirement for 68020 CPU.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node SLZX "SLZX - External LZX for samples"
Packer : SLZX
Name   : LZX with delta
Descr. : External LZX compression for samples and mods     
DefMode: 80    DefChunk: 512 Kb        MaxChunk: 512 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
SLZX  0..20   1.0%   34K/s  150K/s    0K     0K none
SLZX 21..40  44.0%   33K/s  150K/s    0K     0K poor
SLZX 41..60  46.0%   32K/s  150K/s    0K     0K good
SLZX 61..80  48.0%   31K/s  150K/s    0K     0K better
SLZX 81..100 50.0%   30K/s  150K/s    0K     0K best

In September 1997, Piotr Kasprzyk attempted to harness the power of Amiga 
archiver LZX as an xpk sublibrary, ELZX (External LZX). To do so, he used a 
unique design where the LZX command was called externally to do the work. This 
is the sample version, SLZX, and applies a delta encoding before crunch.

Like ELZX, the sublib would simply crash if it couldn't get the exact version 
of LZX it wanted. It also created a temporary file on disk or in ramdisk for 
each chunk, which wasn't ideal. Finally, each chunk would presumably get an LZX 
header, as being treated as a mini LZX archive. I say presumably, as I never 
got it to work. You probably won't either.

All in all, an interesting idea which didn't quite turn out. One for collectors 
only.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node SMPL "SMPL - Sample Huffman"
Packer : SMPL
Name   : Sample Huffman V1.2
Descr. : Dynamic Huffman Compression with delta precoding
DefMode: 100    DefChunk: 63 Kb        MaxChunk: 63 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
SMPL  0..100  8.8%   98K/s  199K/s   12K     4K dynamic

SMPL was the first sublib to apply both delta encoding compression in one 
library. Written by Jorma Oksanen in November 1993, it applies delta 
pre-encoding, then a dynamic Huffman. It can be found on Aminet, both on its 
own package and as part of the xpk package.

It is meant for samples, but doesn't always apply good compression. Even at 
best, compression can only be as good as dynamic Huffman alone - see HFMN or 
HUFF for the kind of low ratios that gives.

Cholok only updated the xpkInfo table for the later official benchmark and made 
some minor optimisations.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node SQSH "SQSH - Squash, LZ77 with delta for samples"
Packer : SQSH
Name   : Squash 020+ V1.2
Descr. : LZ based cruncher, special algorithms for 8 bit sound data, fast 
decrunching
DefMode: 100    DefChunk: 32 Kb        MaxChunk: 32 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
SQSH  0..100 42.4%   15K/s  233K/s  136K     0K normal

SQSH was a very popular packer written by John Hendrikx in March 1994. The v1.1 
archive is on Aminet, but it is also part of the main xpk package. It uses a 
delta pre-encoder, then an LZSS algorithm.

This sublib was meant for compressing 8-bit samples and music modules. DLTA 
already existed, but users had to pack their files twice over. SMPL also 
existed, but it used only a Huffman encoding that resulted in comparatively 
little gain.

This one is difficult to rate. It has a slightly sub-average ratio when used on 
ordinary data. It packs slowly, slower even than SHRI, and its decompression 
speed is middling too. However it may still be the best to use with its target 
data as it's only up against the lighter DUKE, the even slower SHSC and SASC, 
and the rudimentary SMPL. Later on the more powerful packers may have given 
better results with sound samples even without delta pre-encoding, but by that 
time hard drives really were much bigger, users didn't have to pack music mods 
any more and the point was moot.

SQSH has a non-operational password mode. Any password will unlock any file 
packed with a password set. This is a bug, seemingly carried over from DLTA.

Cholok made only minor improvements and added a CPU check to the 68020+ version 
so it doesn't crash on 68000 but simply refuses to load. The password bug was 
also removed.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node TDCS "TDCS - The Doom that Came to Sarnath"
Packer : TDCS
Name   : LZSS family 020+ V1.5
Descr. : LZSS with big window (64 KB), slow packing and fast decrunching
DefMode: 50    DefChunk: 320 Kb    MaxChunk: 2097151 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
TDCS  0..33  39.7%   18K/s  560K/s  512K     0K cremation
TDCS 34..67  41.1%    8K/s  560K/s  512K     0K ashes
TDCS 68..100 41.5%    6K/s  560K/s  512K     0K oblivion

Named after a short story by H. P. Lovecraft called The Doom that Came to 
Sarnath (well, why not - everyone's bored of names starting with LZ), TDCS 
appears to be based on the LZW5 sublib. It is by the same author, Niels 
Fröhling, but was not part of the CyberYAFA pack. It may have had its own 
package on Aminet; if so it has been removed, so either way it can be 
considered lost.

As far as decompression goes, it is one of the fastest sublibs there is. It 
appears to unpack at almost the same speed as the runlength packers, which is 
phenomenal. It's a slow packer, and gets ratios around the mid-range.
This is perfect for the animation data it was originally written for.

Cholok made significant changes, optimising and reducing memory usage, and 
removing the need for AmigaOS 3. It also checks that it has a 020+ CPU and if 
not refuses to load rather than crash.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node TLTA "TLTA - an obscure and unknown sublib"
Packer: TLTA

Another extremely obscure sublib. I know almost nothing about TLTA, except it 
was by Stephan Fuhrmann and is maybe v0.1. According to Dirk Stöcker's xpk page 
it is 916 bytes in size, which is extremely small and just a bit bigger than 
NONE which does, well, nothing. Its source, how could it was, or date of 
release are all unknown. Given its very small size it may not do anything at 
all.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node USER "USER - an internal, preferences setable mode"
Packer : USER
Name   : User
Descr. : preferences setable packing and encrypting.
DefMode: 100    DefChunk: 32 Kb    MaxChunk: 32 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
USER  0..100 50.0%   50K/s  500K/s    0K     0K user

USER was not a sublib, it was a mode called much like a sublib would be called. 
I've left it in for completeness, but you will never find xpkUSER.library. It 
was an interface to the xpk preferences program, which would allow the user to 
set which xpk sublib would be called to pack different files.

This mode was added to xpkmaster.library v4.0 and above, which only work on 
AmigaOS 2 and higher. To use xpk on AmigaOS 1.3, you must go back to the v3.12 
of the main library (which is still supplied in of the modern xpk package).

Click @{"here" link xpklibs} to return to the index.

@endnode

@node ZENO "ZENO - an obscure LZW sublib"
Packer : ZENO
Name   : ZENO V1.2
Descr. : LZW 12-14 bit
DefMode: 100    DefChunk: 32 Kb MaxChunk: 2097151 Kb
                      Pack  Unpack  Pack Unpack
Name   Mode  Ratio   Speed   Speed   Mem    Mem Description
ZENO  0..33  30.1%   70K/s  155K/s   30K    12K 12 bit
ZENO 34..66  32.9%   74K/s  155K/s   50K    24K 13 bit
ZENO 67..100 33.4%   81K/s  155K/s   90K    48K 14 bit

ZENO is a very obscure packer with unknown source or original date. It was 
released by Gerhard Tünkler, the same author as the LINx sublibs, but does not 
seem to have been in the LINO package. It does not seem to have ever been on 
Aminet. Dirk Stöcker's xpk page mentions that it is v1.0, crashes on 68000, and 
causes Enforcer hits (accesses memory not allocated to it, hence potentially 
causing memory corruption).

Despite this lack of knowledge, it was also one of the sublibs Cholok updated. 
From Cholok we now know that it is based on LZW from the Compress program, and 
is similar to BLZW but limited to 12 to 14 bits for speed. It is much slower 
than BLZW however. It may have been disappeared due to the LZW patent.

The reason for the name is unknown. It could be a reference to one of several 
philosophers from antiquity, or to the Zeno Paradox or the mathematical proof 
that now bears its name. Or might just sound cool. We'll never know.

Cholok fixed a critical error that caused loss of data, but it appears the 
Enforcer hits are still there, so it is best never to use this sublib.

Click @{"here" link xpklibs} to return to the index.

@endnode

@node Acknowledgements "Acknowledgements - whose work I have to thank for this"
@{b}Acknowledgements@{ub}

This work is dedicated to amateur Amiga developers past and present who put 
their spare time, sweat and tears into producing free software to build the 
great Amiga platform we grew up with. Without them, we'd just have been owners 
of another games computer that was thrown away when a better one came along, 
rather than that one infected us such a love that we could still be writing 
about it and reading about it 30 years later.

I'd also like to acknowledge these invaluable sources and assistances:

Dirk Stöcker, for not only xpk, but his invaluable xpk page and for keeping it 
on the internet so very, very long. Seriously man, I'm writing this in summer 
2019 and I first read his page on Netscape Navigator running on Windows 3.11 in 
my first year at uni. Think about that.

The WinUAE and MorphOS teams, for making it possible for me to run my old Amiga 
stuff and recapture a little of the magic after my FrankenAmiga finally had to 
be retired in 2004. Oh, and I suppose the AmigaOS4 team too (just not the 
owners): sad, but inevitable, how that all ended up though...

AmigaZeux and everyone in it, past and present, for keeping the Amiga 
interesting in the declining years. And for being an audience for all my 
whining on tedious crap nobody cares about.

My parents, for keeping all my old stuff in their attic, waiting for the 
day-that-will-never-come when I reclaim it, fix it all and set it back up again 
and will never again need WinUAE. And for well, you know, just being my parents.

Foul, for his site that started this all in the first place.

Cosmos, for starting the work to rejuvenate old xpk sublibraries, and with it 
re-sparking interest in them.

Cholok, for completing the work and being a genius, and a genius who also 
documents his work and leaves source. Without which I would just have been 
mainly clueless about the sublibs.

Aminet maintainers past and present so Amiga history can be preserved, like 
Urban Dominic Müller for starting it, and Christian Gutjahr for somehow finding 
the time and motivation to keep it going, despite the heavy burdens and the 
unavoidable cynicism that the later Amiga world forced on us old-timers.

LibreOffice, for being there for this document when my Microsoft Office 
registration from a previous employer finally timed out, even if I had to 
battle you every step of the way.

..and...

Harry Sintonen, for producing the only xpk sublib in almost three decades that 
didn't have an xpkInfo table. Thanks Piru. At least you didn't put your name on 
it, but we know, we know...
@endnode
