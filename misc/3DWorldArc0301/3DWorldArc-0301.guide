@database mails
@node main
                          3D World Mailing List Archive

                                   March 2001

             Compiled by Paul Qureshi (paul.qureshi@btinternet.com)

For more information on the 3D World Mailing List please read the FAQ. It is available at various sites:

Aminet: docs/misc/3DWorldFAQ.lha
http://mc68k.btinternet.com/faq/
The 3D World ML, monthly post

@{"WOS/W3D prefs                                                      " link 08460.001} DJNick <djnick@ptt.yu>
@{"Re: Re: voodoo5 support                                            " link 08462.002} Robert Konrad <rkon@gmx.de>
@{"Re: Re: voodoo5 support                                            " link 08461.001} Hans-Joerg Frieden <Hans-JoergF@hyperion-software.de>
@{"Re: Re: voodoo5 support                                            " link 08462.001} Gerrit-kjeld Dusseljee <dussel@cybercomm.nl>
@{"OT: Speed and cybppc.device... eg. anyone are faster that me?      " link 08464.001} Pavel Narozny <troda@cbnet.cz>
@{"Re: StormMesa and StormC4 ??                                       " link 08465.014} Glenn Hisdal <ghisdal@c2i.net>
@{"Re: Speed and cybppc.device... eg. anyone are faster that me?      " link 08465.013} Jan-Erik Karlsson <trg@privat.utfors.se>
@{"Re: Speed and cybppc.device... eg. anyone are faster that me?      " link 08465.012} Nicolas DET <outcast@wanadoo.fr>
@{"Re: Speed and cybppc.device... eg. anyone are faster that me?      " link 08465.011} Mark Olsen <BIGFoot@Private.dk>
@{"Re: StormMesa and StormC4 ??                                       " link 08465.010} Jan-Erik Karlsson <trg@privat.utfors.se>
@{"Re: Re: Speed and cybppc.device... eg. anyone are faster that me?  " link 08466.001} Hans-Joerg Frieden <Hans-JoergF@hyperion-software.de>
@{"Re: Speed and cybppc.device... eg. anyone are faster that me?      " link 08465.009} DJNick <djnick@ptt.yu>
@{"Re: Speed and cybppc.device... eg. anyone are faster that me?      " link 08465.008} Nicolas DET <outcast@wanadoo.fr>
@{"StormMesa and StormC4 ??                                           " link 08465.007} Glenn Hisdal <ghisdal@c2i.net>
@{"Re: Re: Speed and cybppc.device... eg. anyone are faster that me?  " link 08465.005} Hans-Joerg Frieden <Hans-JoergF@hyperion-software.de>
@{"Re: Re: Speed and cybppc.device... eg. anyone are faster that me?  " link 08465.004} Hans-Joerg Frieden <Hans-JoergF@hyperion-software.de>
@{"OT: Speed and cybppc.device... eg. anyone are faster that me?      " link 08465.003} Pavel Narozny <troda@cbnet.cz>
@{"OT: Speed and cybppc.device... eg. anyone are faster that me?      " link 08465.002} Pavel Narozny <troda@cbnet.cz>
@{"OT: Speed and cybppc.device... eg. anyone are faster that me?      " link 08465.001} Pavel Narozny <troda@cbnet.cz>
@{"Re: Speed and cybppc.device... eg. anyone are faster that me?      " link 08464.005} Jan-Erik Karlsson <trg@privat.utfors.se>
@{"Re: Re: Speed and cybppc.device... eg. anyone are faster that me?  " link 08464.004} Hans-Joerg Frieden <Hans-JoergF@hyperion-software.de>
@{"Re: voodoo5 support                                                " link 08464.003} Jan-Erik Karlsson <trg@privat.utfors.se>
@{"Re: Speed and cybppc.device... eg. anyone are faster that me?      " link 08464.002} Shane Ponting <createcoms@ezysurf.co.nz>
@{"Re: StormMesa and StormC4 ??                                       " link 08466.008} Glenn Hisdal <ghisdal@c2i.net>
@{"Re: Speed and cybppc.device... eg. anyone are faster that me?      " link 08466.007} Pavel Narozny <troda@cbnet.cz>
@{"Re: Re: Speed and cybppc.device... eg. anyone are faster that me?  " link 08466.006} Thomas Frieden <ThomasF@hyperion-software.de>
@{"Re: Re: Speed and cybppc.device... eg. anyone are faster that me?  " link 08466.005} Hans-Joerg Frieden <Hans-JoergF@hyperion-software.de>
@{"Re: Re: Speed and cybppc.device... eg. anyone are faster that me?  " link 08466.004} Hans-Joerg Frieden <Hans-JoergF@hyperion-software.de>
@{"Re: Speed and cybppc.device... eg. anyone are faster that me?      " link 08466.003} Pavel Narozny <troda@cbnet.cz>
@{"Re: Speed and cybppc.device... eg. anyone are faster that me?      " link 08466.002} Pavel Narozny <troda@cbnet.cz>
@{"Re: StormMesa and StormC4 ??                                       " link 08465.017} Glenn Hisdal <ghisdal@c2i.net>
@{"Re: Re: StormMesa and StormC4 ??                                   " link 08465.016} Hans-Joerg Frieden <Hans-JoergF@hyperion-software.de>
@{"Re: Re: Speed and cybppc.device... eg. anyone are faster that me?  " link 08465.015} Hans-Joerg Frieden <Hans-JoergF@hyperion-software.de>
@{"Re: Speed and cybppc.device... eg. anyone are faster that me?      " link 08465.006} Shane Ponting <createcoms@ezysurf.co.nz>
@{"Re: Loading speed of 3D agmes using little endian data's           " link 08467.003} Thomas Frieden <ThomasF@hyperion-software.de>
@{"Re: Loading speed of 3D agmes using little endian data's           " link 08467.002} Hans-Joerg Frieden <Hans-JoergF@hyperion-software.de>
@{"Loading speed of 3D agmes using little endian data's               " link 08467.001} Pavel Narozny <troda@cbnet.cz>
@{"Re: Speed and cybppc.device... eg. anyone are faster that me?      " link 08466.010} Shane Ponting <createcoms@ezysurf.co.nz>
@{"offtopiX                                                           " link 08466.009} DJNick <djnick@ptt.yu>
@{"Re: Loading speed of 3D agmes using little endian data's           " link 08468.005} Henrik Munther <psycho@mail.org>
@{"Re: Assembly question (Mesa link lib)                              " link 08468.004} Daniel Bindel <d_bindel@gmx.net>
@{"Re: Re: Loading speed of 3D agmes using little endian data's       " link 08468.003} Hans-Joerg Frieden <Hans-JoergF@hyperion-software.de>
@{"Re: Re: Loading speed of 3D agmes using little endian data's       " link 08468.002} Thomas Frieden <ThomasF@hyperion-software.de>
@{"Re: Loading speed of 3D agmes using little endian data's           " link 08468.001} Daniel Bindel <d_bindel@gmx.net>
@{"Assembly question (Mesa link lib)                                  " link 08467.007} Glenn Hisdal <ghisdal@c2i.net>
@{"Re: Re: Loading speed of 3D agmes using little endian data's       " link 08467.006} Thomas Frieden <ThomasF@hyperion-software.de>
@{"Re: Re: Loading speed of 3D agmes using little endian data's       " link 08467.005} Hans-Joerg Frieden <Hans-JoergF@hyperion-software.de>
@{"Re: Loading speed of 3D agmes using little endian data's           " link 08467.004} Daniel Bindel <d_bindel@gmx.net>
@{"Re: Assembly question (Mesa link lib)                              " link 08468.007} Glenn Hisdal <ghisdal@c2i.net>
@{"Re: Re: Loading speed of 3D agmes using little endian data's       " link 08468.006} Hans-Joerg Frieden <Hans-JoergF@hyperion-software.de>
@{"Re: OT: booting from CSPPC/BlizzPPC CDROM boot support?            " link 08470.002} Hans-Joerg Frieden <Hans-JoergF@hyperion-software.de>
@{"OT: booting from CSPPC/BlizzPPC CDROM boot support?                " link 08470.001} Pavel Narozny <troda@cbnet.cz>
@{"G400 specs                                                         " link 08472.002} igitt123@uni-paderborn.de
@{"Re: Re: Speed and cybppc.device... eg. anyone are faster           " link 08472.001} Alan Buxey <almb@mssl.ucl.ac.uk>
@{"Re: OT: booting from CSPPC/BlizzPPC CDROM boot support?            " link 08473.006} Alan Buxey <almb@mssl.ucl.ac.uk>
@{"Re: Loading speed of 3D agmes using little endian data's           " link 08473.005} Alan Buxey <almb@mssl.ucl.ac.uk>
@{"Re: Loading speed of 3D agmes using little endian data's           " link 08473.004} Alan Buxey <almb@mssl.ucl.ac.uk>
@{"Re: Re: Speed and cybppc.device... eg. anyone are faster           " link 08473.003} Alan Buxey <almb@mssl.ucl.ac.uk>
@{"Re: Re: Speed and cybppc.device... eg. anyone are faster           " link 08473.002} Alan Buxey <almb@mssl.ucl.ac.uk>
@{"Re: G400 specs                                                     " link 08473.001} Hans-Joerg Frieden <Hans-JoergF@hyperion-software.de>
@endnode
@node 08460.001
Subject: WOS/W3D prefs
From: DJNick <djnick@ptt.yu>
Date: Thu, 01 Mar 2001 03:20:00 +0100

Hello,

My Amiga works sometimes [in 80% cases] PERFECTLY stabile but
SOMEtimes it leads to freezing / crash by showing mcp's "mem-protection" errors].
I think solution might be in CyberGFX,

I use CyberGraphX prefs V4.2 [25. 2. 00.] and there only:

ALERTEMU, HIRESCRSR and USESEMAPHORES are checked to ON.

Do I need to check MORE and make mu system work better / faster or so? In Tooltypes part
these options are checked: SCROLLMASK, BITMAPCACHE and BOOTLOGO [while: advancedlook,
blackborder, dragging, multimediamem and useroxxler are
UNavailable for use].

Do I miss something?

On the other hand, i have WOSprefs too [V1.2 from 2. 10. 1999.], and there I
have following stuff en[dis]abled:

WarpOS: Force and NoPatch are checked, gfx addr is set to 'e0000000'm
debug and terminator to '0', and seginfo to 100.

StormMESA: FORCE_D B, FORCE_IR and STATS are checked.

GLUT: FORCE_DB set to ON.

Warp3D: CyberGFX = KEEPLOCK and FORBID set to ON;
VIRGE = all unchecked and PERMEDIA2 = nothing checked.

Is it correct?

And at the end: here are my settings for MagicMenu [prefs V2.30]

I use StickyMouseButton for both menus with Multicolour 3D look and centre boxes set to
ON.

Type: mouse pointer position dependant with DENT separator style;
Mark submenus, Highlight disabled menu items and cast drop shadows are ENABLED.
[there is also "Verify patches" and "Fix patches" option, but they are disabled. Is it
ok?]

Kind regards
-- 
<tsb>d.j.nick [d-tronic] / icq: 13794052
<tsb>URLs: http://www.djnick.com & http://www.d-tronic.com
<tsb>amiga1260T ppc 603e/166mhz; b-vision & 160mb ram; prelude1200;
<tsb>17" DTK; zip100; 56K US-Robotic; hplj6l & mustek 600 CU


@endnode
@node 08462.002
Subject: Re: Re: voodoo5 support
From: Robert Konrad <rkon@gmx.de>
Date: Fri, 2 Mar 2001 22:16:26 +0100

>> licenced to a 3th party for high end (probaly very high end)
>machines.
>> Maybe i can find the details again in one of my PC-mags.
>
>It will probably be unaffordably expensive. I mean, for the same
>price you 
>will probably be able to get, say, a Radeon...

Allmost three Radeons (with 32 Megs DDR RAM).

AFAIK 3DFX wanted to produce the four chip version themselves,
another firm, which was bought by 3DFX a few years ago wanted to do
an eight chip card (I think for Arcade machines).

-- 
Regards
Robert


@endnode
@node 08461.001
Subject: Re: Re: voodoo5 support
From: Hans-Joerg Frieden <Hans-JoergF@hyperion-software.de>
Date: Fri, 2 Mar 2001 12:27:22 +0100

On Friday 02 March 2001 10:49, you wrote:

> I think it's released (or will be? ;never been a 3dfx fan), it was/is

I wasn't, either. The Voodoo 3 has a lot of severe restrictions on 3D 
rendering (like no 24 bit support, only 256x256 textures), but the open 
nature of the documentation made this the prime target.

> licenced to a 3th party for high end (probaly very high end) machines.
> Maybe i can find the details again in one of my PC-mags.

It will probably be unaffordably expensive. I mean, for the same price you 
will probably be able to get, say, a Radeon...

Best regards,
-- 
Hans-Joerg Frieden
Senior Software Engineer, Hyperion Entertainment
Mail: Hans-JoergF@hyperion-software.de
Web: http://www.hyperion-software.de

@endnode
@node 08462.001
Subject: Re: Re: voodoo5 support
From: Gerrit-kjeld Dusseljee <dussel@cybercomm.nl>
Date: Fri, 02 Mar 2001 10:49:28 +0100



Hans-Joerg Frieden wrote:

> On Wednesday 28 February 2001 21:45, you wrote:
> 
>> same calls this the voodoo5 6500 and some the voodoo6
>> (was not released publicaly that I know of) simply more of everything
> 
> 
> Oh, so this is the 5er with the four chips on it? Would have been too 
> expensive probably...

I think it's released (or will be? ;never been a 3dfx fan), it was/is 
licenced to a 3th party for high end (probaly very high end) machines.
Maybe i can find the details again in one of my PC-mags.

> 
>> well checked with my superiors the hardware stuff is a no-no the
>> compression stuff is open-source so should be available anyway. :-(
> 
> 
> Yes, I think the compression stuff was published as a GL extension by 3DFX in 
> the past...
> 
> Best regards,



@endnode
@node 08464.001
Subject: OT: Speed and cybppc.device... eg. anyone are faster that me?
From: Pavel Narozny <troda@cbnet.cz>
Date: Sun, 04 Mar 2001 19:12:52 +0100

Dear friends!

I always like WesternDigital drives. I hate Seagates. So, i was very
sad, that WD stop making scsi drives, when i want bought one nice
9G UW scsi for my CSPPC...

So, i'm forced to use Seagate. I selected 9.2G Cheetah ST39204LW,
what have 10000 RPM. The 15k RPM i don't get, because i'm affraid about
noise, what they generating. I already own 10k RPM UW scsi WD Vanage
disk, and it's nothing quiet... =:-7

I'm surprised how short have the drive list of Primary defect's (about
3x shorter that half-sized WD Vantage!) and even more i'm suprised, when
i maked it work. Bloody hell, that speed i really don't expected!

*I got a little bit more that 30MB/sec!!!!!!!!*

(while CPU is unused :)))

Is that a normal speed, what anyone can get with CSPPC, or is the Cheetah
really as fast, as they says? I can't believe what i see...
I can't believe that i was able to split 680MB mpegs into few minutes (!)...
I'm really shocked.

Anyone get more speed that i'm get?
I asking, because i never hear that anyone get 30+ MB/sec ever...!
(machine/platform independent)

cybppc.device RULEEEEZ!!!!



...unfortunately, flash settings is NOT enought, i need to add this line
into my S-S to get the more speed that sucking poor 12MB/sec:

:System/SCSI_control Unit 0 Wide Period 40 Offset 15

...into the flash i can setup only Period 20 as most... :(

Why this happens anyway? Anyone have any clue?

...and anyone with faster, 15k RPM Cheetah drive and possibly
overclocked 060?  ...that guy SURE can reach notably more speed!!!


P.S. ATM, my Amiga4k is COMPLETELY NOT overclocked. But watch out...

See ya!
...and don't believe anyone, who says that Amiga is slow... That is nonsens.


Pavel Narozny, Troda of PEGAS, troda@cbnet.cz

"Intel inside, idiot outside."


@endnode
@node 08465.014
Subject: Re: StormMesa and StormC4 ??
From: Glenn Hisdal <ghisdal@c2i.net>
Date: Mon, 05 Mar 2001 23:23:22 +0100

Hello Jan-Erik

On 05-Mar-2001, you wrote:

>> Hi,
>> 
>> Does anyone know if it's possible to make programs that use StormMesa
>> with StormC4 (GCC compiler) ?
>> 
>> I can't find a linker library to use with it...

> well since stormmesa is shared libraries you might not need a link
> library, the documentation states that stormc4 comes with all that's
> needed to program with
> stormMesa.

StormC4 comes with all the header files needed, but the link library is
missing.
I sent a mail to StormC support, and they replied that they didn't finish
the support for StormMesa. So, I was hoping someone here had made a working link library for it...

It would probably be possible to use the shared libraries directly, but then
the code wouldn't be 100% portable.
My program is written entirely in OpenGL/GLUT/GLUI, and compiles on any
platform with a working OpenGL/GLUT implementation without any code changes.

Until now, I have been using GCC for WarpOS, but it would be nice to be able
to use StormC4 as I then get to use a debugger...
The code needed to use the shared libraries is taken care of in the link
library, so the program doesn't need any Amiga specific code.


-- 
Glenn Hisdal



@endnode
@node 08465.013
Subject: Re: Speed and cybppc.device... eg. anyone are faster that me?
From: Jan-Erik Karlsson <trg@privat.utfors.se>
Date: Mon, 05 Mar 2001 22:52:15 +0100

Hello, Hans-Joerg

On 05-Mar-01, you wrote:

HF > On Monday 05 March 2001 19:45, you wrote:
HF > 
HF >> Well doesn't having higher transfer rate load 3D PPC apps faster
HF >> ?(Just trying to make it relevant ;-) )
HF > 
HF > Not really :-)
HF > 
HF > The problem is that these high transfer rates are only maintained if
HF > you are reading large chunks of data. This is not usually the case, and
HF > if you are reading small chunks, the access time becomes more
HF > important.
HF > 
HF > However, all of these are completely moot points on the Amiga. The
HF > context switching between the 3D PPC app that needs the data and the
HF > dos.library that provides the data kills all performance. On Shogo, we
HF > had 1:50 minutes load time for level one, and on Linux 20 seconds, with
HF > the same code, only that there was a measly IDE disk in the Linux box
HF > and a Quantum Atlas in my Amiga...
HF > 
HF > Isn't the world a crazy place?

on the amiga isn't it more important to have more cpu-time free (so too
speak) instead of
ultra high transfer speeds.
meaning on the Windowz what's the use of having 30MB/s transfer's if the
entire computer is locked up during the transfer

and... how do you lot get such high transfer rates, I get 2MB/s (with
SCSI-Bench) and a CPU-load of 3% (which is the input task, RSCP sets the
CPU free time as 99,9%)
(I haven't meddled with any configuration to get as high transfers as
possible)

With kind regards,
Jan-Erik Karlsson
-- 
Email: trg@privat.utfors.se
UIN (ICQ): 54667153
-- 
Falsehood has an infinity of combinations, but truth has only one mode of
being.
-- Jean Jacques Rousseau


@endnode
@node 08465.012
Subject: Re: Speed and cybppc.device... eg. anyone are faster that me?
From: Nicolas DET <outcast@wanadoo.fr>
Date: Mon, 05 Mar 2001 22:39:55 +0100

Salut Hans-Joerg

Le 05-mars-01, Hans-Joerg Frieden a =E9crit:

> On Monday 05 March 2001 20:29, you wrote:
>=20
>> MorphOS rulez, no more context switch !
>=20
> Only if you are using a PPC native file system/device. If your controll=
er=20
> happens to be 68k, the context switch is still there, only emulated.

No context switch as the 68k is a PPC task.

SFS is native PPC (however I don't know how to active it)
blizzppc.device is PPC native, but I am not sure.

I am wrong ?

Regards
--=20
Nicolas DET

@endnode
@node 08465.011
Subject: Re: Speed and cybppc.device... eg. anyone are faster that me?
From: Mark Olsen <BIGFoot@Private.dk>
Date: Mon, 05 Mar 2001 21:33:41 +0100

Hello Hans-Joerg

On 05-Mar-01, you wrote:

>> MorphOS rulez, no more context switch !
> 
> Only if you are using a PPC native file system/device. If your controller 
> happens to be 68k, the context switch is still there, only emulated.

But much faster. Waaay faster.

Regards


@endnode
@node 08465.010
Subject: Re: StormMesa and StormC4 ??
From: Jan-Erik Karlsson <trg@privat.utfors.se>
Date: Mon, 05 Mar 2001 21:25:40 +0100

Hello, Glenn

On 05-Mar-01, you wrote:

GH > Hi,
GH > 
GH > Does anyone know if it's possible to make programs that use StormMesa
GH > with StormC4 (GCC compiler) ?
GH > 
GH > I can't find a linker library to use with it...

well since stormmesa is shared libraries you might not need a link library,
the documentation states that stormc4 comes with all that's needed to
program with
stormMesa.

With kind regards,
Jan-Erik Karlsson
-- 
Email: trg@privat.utfors.se
UIN (ICQ): 54667153
-- 
That's the sound of the men, workin' on the tagline...


@endnode
@node 08466.001
Subject: Re: Re: Speed and cybppc.device... eg. anyone are faster that me?
From: Hans-Joerg Frieden <Hans-JoergF@hyperion-software.de>
Date: Mon, 5 Mar 2001 21:16:14 +0100

On Monday 05 March 2001 20:29, you wrote:

> MorphOS rulez, no more context switch !

Only if you are using a PPC native file system/device. If your controller 
happens to be 68k, the context switch is still there, only emulated.

Regards,
-- 
Hans-Joerg Frieden
Software Developer, Hyperion Entertainment
Mail: Hans-JoergF@hyperion-software.de
Web: http://www.hyperion-software.de

@endnode
@node 08465.009
Subject: Re: Speed and cybppc.device... eg. anyone are faster that me?
From: DJNick <djnick@ptt.yu>
Date: Mon, 05 Mar 2001 20:41:07 +0100

Hello Pavel

On 04-Mar-01, Pavel Narozny wrote:
> Dear friends!
> I'm surprised how short have the drive list of Primary defect's (about
> 3x shorter that half-sized WD Vantage!) and even more i'm suprised, when
> i maked it work. Bloody hell, that speed i really don't expected!
> 
> *I got a little bit more that 30MB/sec!!!!!!!!*

Geez :) Lucky you!!

I have a question: how fast / slow will work this disk on my amiga1200T, if I'd connect
it using PCMCIA SurfSquirrel [which allows me to use SCSI disk] and 90-way degree cable
[so I can fit it in my tower]?

> Is that a normal speed, what anyone can get with CSPPC, or is the Cheetah
> really as fast, as they says? I can't believe what i see...
> I can't believe that i was able to split 680MB mpegs into few minutes (!)...
> I'm really shocked.

Me too :) My A1200T with 060 can get ~1,7MB/sec [according to SysInfo]...

Regards
-- 
<tsb>d.j.nick [d-tronic] / icq: 13794052
<tsb>URLs: http://www.djnick.com & http://www.d-tronic.com
<tsb>amiga1260T ppc 603e/166mhz; b-vision & 160mb ram; prelude1200;
<tsb>17" DTK; zip100; 56K US-Robotic; hplj6l & mustek 600 CU


@endnode
@node 08465.008
Subject: Re: Speed and cybppc.device... eg. anyone are faster that me?
From: Nicolas DET <outcast@wanadoo.fr>
Date: Mon, 05 Mar 2001 20:29:02 +0100

Salut Hans-Joerg

Le 05-mars-01, Hans-Joerg Frieden a =E9crit:


> However, all of these are completely moot points on the Amiga. The cont=
ext
> switching between the 3D PPC app that needs the data and the dos.librar=
y
> that provides the data kills all performance. On Shogo, we had 1:50 min=
utes
> load time for level one, and on Linux 20 seconds, with the same code,

MorphOS rulez, no more context switch !

Regards
--=20
Nicolas DET

@endnode
@node 08465.007
Subject: StormMesa and StormC4 ??
From: Glenn Hisdal <ghisdal@c2i.net>
Date: Mon, 05 Mar 2001 20:04:21 +0100

Hi,

Does anyone know if it's possible to make programs that use StormMesa with
StormC4 (GCC compiler) ?

I can't find a linker library to use with it...


--
Glenn Hisdal




@endnode
@node 08465.005
Subject: Re: Re: Speed and cybppc.device... eg. anyone are faster that me?
From: Hans-Joerg Frieden <Hans-JoergF@hyperion-software.de>
Date: Mon, 5 Mar 2001 19:17:42 +0100

On Monday 05 March 2001 15:31, you wrote:
>
> which program are you lot using to test the transfer speeds
> is it the old diskspeed ?

I use RSCP.

Regards,
-- 
Hans-Joerg Frieden
Software Developer, Hyperion Entertainment
Mail: Hans-JoergF@hyperion-software.de
Web: http://www.hyperion-software.de

@endnode
@node 08465.004
Subject: Re: Re: Speed and cybppc.device... eg. anyone are faster that me?
From: Hans-Joerg Frieden <Hans-JoergF@hyperion-software.de>
Date: Mon, 5 Mar 2001 19:17:10 +0100

On Monday 05 March 2001 19:45, you wrote:

> Well doesn't having higher transfer rate load 3D PPC apps faster ?(Just
> trying to make it relevant ;-) )

Not really :-)

The problem is that these high transfer rates are only maintained if you are 
reading large chunks of data. This is not usually the case, and if you are 
reading small chunks, the access time becomes more important.

However, all of these are completely moot points on the Amiga. The context 
switching between the 3D PPC app that needs the data and the dos.library that 
provides the data kills all performance. On Shogo, we had 1:50 minutes load 
time for level one, and on Linux 20 seconds, with the same code, only that 
there was a measly IDE disk in the Linux box and a Quantum Atlas in my 
Amiga... 

Isn't the world a crazy place?

Regards,
-- 
Hans-Joerg Frieden
Software Developer, Hyperion Entertainment
Mail: Hans-JoergF@hyperion-software.de
Web: http://www.hyperion-software.de

@endnode
@node 08465.003
Subject: OT: Speed and cybppc.device... eg. anyone are faster that me?
From: Pavel Narozny <troda@cbnet.cz>
Date: Mon, 05 Mar 2001 18:42:13 +0100

...
>> My BlizzPPC gives me 9mb/sec on my 7200RPM 4.3g Quantum Atlas II Drive.
>> You are lucky to have SCSI-3 !!!

> I get 28.5 MB/s with a Quantum Atlas 9G... 

Heheh, 30.17 MB/sec and i still know, how to make it even
faster (reselection)...  I'm proud to be faster :)))

> But that is OT...
> Hans-Joerg Frieden

Yes, and i'm very sorry, but i stop that soon... I just wanted to find
anyone, who getting at least close speed out of this CSPPC cybppc.device.

Because i want to know, Hans, if you also have to enable the 'faster speed'
with the UnitControl (that is orginaly the tool named, i renamed it to
scsi control) ... ?

Yes?

...do you have enabled reselection?

All other into fastest values, like me?

..thx for info...

See ya!

Pavel Narozny, Troda of PEGAS, troda@cbnet.cz

"Intel inside, idiot outside."


@endnode
@node 08465.002
Subject: OT: Speed and cybppc.device... eg. anyone are faster that me?
From: Pavel Narozny <troda@cbnet.cz>
Date: Mon, 05 Mar 2001 18:37:38 +0100

...
>> *I got a little bit more that 30MB/sec!!!!!!!!*

> My BlizzPPC gives me 9mb/sec on my 7200RPM 4.3g Quantum Atlas II Drive.
> You are lucky to have SCSI-3 !!!
> Shane Ponting

Well, it's mainly Utra WIDE scsi, what means double the bus width AND
also double the clock... ;))))

Results is notably faster copy performace. It leave me breathless, when
i seen it first time...


Anyway, 9MB/sec are too poor. I getting 9.98MB/sec with my UW scsi
WD Vantage 4.5G drive - atached by a reduction on my Blizz1260 scsi kit.
The older 2G WD UW scsi Enterprise drive (my only one 7200 RPM drive)
doing still well, 9.96MB/sec. :))))

10MB/sec is a limit for fast scsi II.

...try change the 040 to 060. You MUST get so so close to 10MB/sec.

Anyway, the point of speed of Cheetah is, that it have 10k RPM, 4MB (!)
cache (optionaly 16MB!!!) and 5.2mS (!!!!!) average acess time...

F*cking good, eh? :))))

...more into this tread please privately, as we drifted (and it's i'm who
are quity for that, yet...) far from the 3D World topic...
Hmmm, we can go back when we talking about how fast H2 starting or something
like that, but i must buy or at least DL the demo of it first...
Shame on me.

See ya!

Pavel Narozny, Troda of PEGAS, troda@cbnet.cz

"Intel inside, idiot outside."


@endnode
@node 08465.001
Subject: OT: Speed and cybppc.device... eg. anyone are faster that me?
From: Pavel Narozny <troda@cbnet.cz>
Date: Mon, 05 Mar 2001 18:29:23 +0100

> Hello, Hans-Joerg

[Pavel getting 30.17MB/sec :)]

>>> My BlizzPPC gives me 9mb/sec on my 7200RPM 4.3g Quantum Atlas II
>>> Drive. You are lucky to have SCSI-3 !!!

>> I get 28.5 MB/s with a Quantum Atlas 9G... 
>> But that is OT...

> which program are you lot using to test the transfer speeds
> is it the old diskspeed ?
> Jan-Erik Karlsson

It don't difer. The same results i get from SysInfo 3.24 (on PAL screen!),
DiskSpeed, SCSISpeed (there the results are a bit faster, but that is too
direct device banging (W/O PFS3 filesystem), so i don't count then...)
or - IMO best but showing slowest (IMO much more reliable) results

- a RawSpeed tester v1.10 by Russel Miranda. (Aminet)

It show you also how much CPU time are eated. Into my case less that 5% ;)))
...try with IDE and see, that IDE eat 100% of cpu time...
IDE definitively sucks big time.

See ya!

Pavel Narozny, Troda of PEGAS, troda@cbnet.cz

"Intel inside, idiot outside."


@endnode
@node 08464.005
Subject: Re: Speed and cybppc.device... eg. anyone are faster that me?
From: Jan-Erik Karlsson <trg@privat.utfors.se>
Date: Mon, 05 Mar 2001 15:31:01 +0100

Hello, Hans-Joerg

On 05-Mar-01, you wrote:

HF > On Monday 05 March 2001 04:39, you wrote:
HF > 
HF >> My BlizzPPC gives me 9mb/sec on my 7200RPM 4.3g Quantum Atlas II
HF >> Drive. You are lucky to have SCSI-3 !!!
HF > 
HF > I get 28.5 MB/s with a Quantum Atlas 9G... 
HF > 
HF > But that is OT...

which program are you lot using to test the transfer speeds
is it the old diskspeed ?

With kind regards,
Jan-Erik Karlsson
-- 
Email: trg@privat.utfors.se
UIN (ICQ): 54667153
-- 
Don't vote, it only encourages them.


@endnode
@node 08464.004
Subject: Re: Re: Speed and cybppc.device... eg. anyone are faster that me?
From: Hans-Joerg Frieden <Hans-JoergF@hyperion-software.de>
Date: Mon, 5 Mar 2001 12:37:59 +0100

On Monday 05 March 2001 04:39, you wrote:

> My BlizzPPC gives me 9mb/sec on my 7200RPM 4.3g Quantum Atlas II Drive.
> You are lucky to have SCSI-3 !!!

I get 28.5 MB/s with a Quantum Atlas 9G... 

But that is OT...

Regards,
-- 
Hans-Joerg Frieden
Software Developer, Hyperion Entertainment
Mail: Hans-JoergF@hyperion-software.de
Web: http://www.hyperion-software.de

@endnode
@node 08464.003
Subject: Re: voodoo5 support
From: Jan-Erik Karlsson <trg@privat.utfors.se>
Date: Mon, 05 Mar 2001 11:38:50 +0100

Hello, Gerrit-kjeld

On 02-Mar-01, you wrote:

GD > 
GD > 
GD > Hans-Joerg Frieden wrote:
GD > 
GD >> On Wednesday 28 February 2001 21:45, you wrote:
GD >> 
GD >>> same calls this the voodoo5 6500 and some the voodoo6
GD >>> (was not released publicaly that I know of) simply more of everything
GD >> 
GD >> 
GD >> Oh, so this is the 5er with the four chips on it? Would have been too 
GD >> expensive probably...

not quite the 4 chip'er is 6000

GD > I think it's released (or will be? ;never been a 3dfx fan), it was/is 
GD > licenced to a 3th party for high end (probaly very high end) machines.
GD > Maybe i can find the details again in one of my PC-mags.

the voodoo5 6000-6500 never got released by 3dfx.

actually the voodoo3 is currently under production by some other company
(don't remember their name now evil somthing) and apparently they are
considering producing voodoo4/5 too

3dfx was also working on two new chips
the VS200 and the mosaic chipsets

With kind regards,
Jan-Erik Karlsson
-- 
Email: trg@privat.utfors.se
UIN (ICQ): 54667153
-- 
It's a damned long, boggy, dirty, dangerous way.
-- Oliver Goldsmith


@endnode
@node 08464.002
Subject: Re: Speed and cybppc.device... eg. anyone are faster that me?
From: Shane Ponting <createcoms@ezysurf.co.nz>
Date: Mon, 05 Mar 2001 15:39:12 +1200

> *I got a little bit more that 30MB/sec!!!!!!!!*
My BlizzPPC gives me 9mb/sec on my 7200RPM 4.3g Quantum Atlas II Drive.
You are lucky to have SCSI-3 !!!
-- 
Shane Ponting
Taranaki
New Zealand

Setup:
A1200:BlizzardPPC:603p@270/68040@33
                                192mb of 60ns RAM
                                Fast SCSI-II Controller
                                8mb BVision GFX Card 


@endnode
@node 08466.008
Subject: Re: StormMesa and StormC4 ??
From: Glenn Hisdal <ghisdal@c2i.net>
Date: Tue, 06 Mar 2001 22:13:03 +0100

Hello Hans-Joerg

On 06-Mar-2001, you wrote:


[StormMesa link library for StormC4]

> You might want to try the egcs-warpup link library that should be included
> in the StormMesa archive... I've written that for the gcc-warpup, but it
> should *theoretically* work, too... I haven't tried it though. You will
> need to recompile it...

Hi,

I have managed to compile the library after some modifications to the
source, but I haven't actually got it working yet.
It now complains about glppcBase, gluppcBase and glutppcBase (in the link
library) being undefined when I try to use it...

If anyone wants to have a look at it (please :-) ), the sources can be found at 
http://home.c2i.net/ghisdal/

I don't have much knowledge about assembly programming, so I have most
likely done things I'm not supposed to do.


--
Glenn Hisdal



@endnode
@node 08466.007
Subject: Re: Speed and cybppc.device... eg. anyone are faster that me?
From: Pavel Narozny <troda@cbnet.cz>
Date: Tue, 06 Mar 2001 21:03:24 +0100

Hia, d.j.nick!

>> I'm surprised how short have the drive list of Primary defect's (about
>> 3x shorter that half-sized WD Vantage!) and even more i'm suprised, when
>> i maked it work. Bloody hell, that speed i really don't expected!
>> *I got a little bit more that 30MB/sec!!!!!!!!*

> Geez :) Lucky you!!

Not so. I still don't managed to work-out the cable, and if i can't
make working the RESELECTION, i'm going to exchange the drive, as missing
RESELECTION is very bad thing and actually show-things down a bit (!)...

> I have a question: how fast / slow will work this disk on my amiga1200T,
> if I'd connect it using PCMCIA SurfSquirrel [which allows me to use
> SCSI disk] and 90-way degree cable [so I can fit it in my tower]?

Hmmm, i'm not a wizzard (i never seen that thing) but we can estimintate
that. First at all, the connection don't matter to speed.
Second, the Squirrel is fast scsi II like the BLizzard scsi kit? Then
10MB/sec is the maximum, while the PCMCIA itself is (IMO) restricted to
something bellow 2MB/sec, i fear.

If you lack of the scsi on BlizzPPC, then go for the Elbox FastATA.
You have to live with IDE, what is not the best solution, but as long,
as you don't need doing things while you loading (eg, no depacking,
no mpeg play, no avi/qt play...), you can hapilly live with that.

I prefer reaching 112fps for 320x240 24bit Cinepak mov (Blumchen
Bicicle race klip)  ;DDDDD
...and i can resize it ot fullscreen W/O performace drop :)))

...necesary (with the audio scale also) for blowing ming of the pC
'friends' who think that Amiga is any 8bit computer or what :)))

>> Is that a normal speed, what anyone can get with CSPPC, or is the
>> Cheetah really as fast, as they says? I can't believe what i see...
>> I can't believe that i was able to split 680MB mpegs into few
>> minutes (!)... I'm really shocked.

> Me too :) My A1200T with 060 can get ~1,7MB/sec
> [according to SysInfo]...

IDE on standard A1200 controler? Weird. I can get so close to 2.9MB/sec
with reasonable fast drives. No matter of filesystem, hoewer, PFS3 have
some nice things...

Or you using into the cable the Zip drive? Then the problem is determined.
On FastATA you have two channels, so you can afford slow-down the one by
the Zip, yet.

...that is just a another reason, why i disabled the IDE into my machines.
Four devices is NOT enought and these interferences betwen then aren't be
acceptable for me.

Anyway, on the Blizz scsi kit i getting 9.98MB/sec. Still very good.
I hear about persons, who having CSPPC and suckign at around 6MB/sec,
just because of poorly configured machine...

I made a small recommending mail for these... yet.  :(


See ya!

Pavel Narozny, Troda of PEGAS, troda@cbnet.cz

"Intel inside, idiot outside."


@endnode
@node 08466.006
Subject: Re: Re: Speed and cybppc.device... eg. anyone are faster that me?
From: Thomas Frieden <ThomasF@hyperion-software.de>
Date: Tue, 6 Mar 2001 20:29:40 +0100

Hi,

On Tuesday 06 March 2001 17:46, you wrote:
> Christian Sauer thinked about using a Mac version of the descent PIG/HOG
> files, since they are already big-endians and then the loading speed it
> brutaly faster. I still have on my drive the latest beta, what might
> (it's a beta, remember :) supporting that and then the loading speed will
> be fast-enought. I hope.

Thanks for mentioning Descent. You just showed all the others here on the 
list how old this discussion is. I told you some time ago (during the 
development of Descent) that there is no point in correcting the endian, as 
it will not have any impact at all. As always, you wouldn't listen, but drag 
on with the subject endlessly. It just shows that you will never learn, and 
are never able to accept the knowledge of another one that's based on 
experience, you prefer to drag on with your constant uninformed bickering.

> I only really WONDERING, why no-one, unlike on the Mac's, develop a simple
> conversion tool for converting these wad files to big-endian and depacking
> the packed things inside for the speed reason.

You said multiple times you are not a coder. So how do you judge ?
You know that there is a PPC instruction that can fetch words or longwords 
from memory reversing the endian, do you ? I use exactly these instructions 
in Shogo. It's a simple load operation one way or the other. So reading 
little or big endian from memory has next to no impact.

And you read my brother's answer: 90 milliseconds for the loading operation, 
0.7 for the endian correction. In this case (sound effects), the endian 
corection has to be done to have the data ready for AHI. With normal data, 
you just load the word from memory with automatic endian correction. And it's 
only a 0.007 percent impact on the whole speed. So tell me why anybody should 
even *bother* to write a tool for that. 
Now I would need perhaps 10 minutes to write a tool that will swap every 
longword in a file. Consider that 999 people are using my loader, each one of 
them using it 10000 times. So the whole time spend for correcting the endian 
will not even accumulate to 10 minutes. 

Apart from that, it's not even possible to write such a tool.

> Then we can get the pC loading performace. Or Mac loading performace, as
> the Mac users doing that normaly and for a GOOD reasons.
>

> Anyone, who can use C language and try write that (simple) tool?

That won't work.   <- Big endian
thaTnow w t' .rk   <- Little endian

You see, your 'simple' tool would do exactly this to strings: Mangle them to 
bits. You can't just swap every longword, you have to interpret the data.

What did we learn from this ? You are again making uninformed noise. Please 
think before posting. Thanks a lot.

Regards,
-- 
 Thomas Frieden
 ThomasF@hyperion-software.de
 http://www.hyperion-software.com

@endnode
@node 08466.005
Subject: Re: Re: Speed and cybppc.device... eg. anyone are faster that me?
From: Hans-Joerg Frieden <Hans-JoergF@hyperion-software.de>
Date: Tue, 6 Mar 2001 20:06:33 +0100

On Tuesday 06 March 2001 17:46, you wrote:
> Well, that's really crazy... :(
> Don't you, Hans, see any way, how to speed-up the loading at least twice?
> What if the loading code are completely 68k one, huh?
> ...and the PPC are anabled only for the render, whel all are loaded...?

I said "we had", not "we have"... Not that past tense...

It is generally not that simple to separate loading code from the rest of the 
program, and in the case of Shogo, its impossible because they share global 
variables...

> Anyway, the disapointing loading speed happening even here. Into various
> games, like Doom, Descent, Hexen, Heretic... the 'wad' files containing
> packed and little endian data, what have to be converted 'on the fly',
> while pC mostly only use it as they are, coz sure help's performace like
> a miracle...

The PAK/WAD/HOG/PIG files have a different problem. The endian isn't the 
problem, you could for example load the complete file into memory and swap 
in-place - the PPC has instructions for reading data in the little-endian. 
The problem with those files is that they are big. That makes FFS really slow 
on seek operations.

As an example, loading a WAV sample in Shogo needs 90 milliseconds. That's 
for loading approximately 50 K of data. Afterwards, the data is swapped in 
the sound buffer (samples a 16 bit signed little-endian). This takes 0.7 
milliseconds...

Notice the difference?

Bottom line is the endianness is unimportant.

> I only really WONDERING, why no-one, unlike on the Mac's, develop a simple
> conversion tool for converting these wad files to big-endian and depacking
> the packed things inside for the speed reason.

A "simple conversion tool" will need to be aware of the file format. You 
cannot just swap each longword in a file, it needs to be specifically 
file-format dependent. Otherwise you will make a string like
"map1" into "1pam", which isn't really quite the same.

> Then we can get the pC loading performace. Or Mac loading performace, as
> the Mac users doing that normaly and for a GOOD reasons.

No. We need a new file system. Not even a PPC native FS will be the complete 
solution. FFS is botched when it comes to reading large files... A seek in a 
200MB REZ file takes almost four seconds...

Plus, Linux uses free memory as a cache. You cannot do that on the current 
FFS (Except with hacks). Linux file systems also use anticipated read-aheads, 
which isn't available on FFS either.

But again, this is OT.

Regards,
-- 
Hans-Joerg Frieden
Software Developer, Hyperion Entertainment
Mail: Hans-JoergF@hyperion-software.de
Web: http://www.hyperion-software.de

@endnode
@node 08466.004
Subject: Re: Re: Speed and cybppc.device... eg. anyone are faster that me?
From: Hans-Joerg Frieden <Hans-JoergF@hyperion-software.de>
Date: Tue, 6 Mar 2001 19:53:34 +0100

On Tuesday 06 March 2001 18:27, you wrote:

> Excourse me, but having a PPC native filing system AND a PPC native task,
> where anyone see a context switch?

There needs to be a ppc-native device, i.e. scsi.device or similar. I don't 
think there is a ppc-native version of the Elbox Flyer scsi.device, or is it?

But as I already said, this is OT.

Regards,
-- 
Hans-Joerg Frieden
Software Developer, Hyperion Entertainment
Mail: Hans-JoergF@hyperion-software.de
Web: http://www.hyperion-software.de

@endnode
@node 08466.003
Subject: Re: Speed and cybppc.device... eg. anyone are faster that me?
From: Pavel Narozny <troda@cbnet.cz>
Date: Tue, 06 Mar 2001 18:27:34 +0100

...
[MorphOs and loading speed]

>> No context switch as the 68k is a PPC task.

> That doesn't matter, the mechanism is there, the code that gets executed is 
> the same. The context switch is emulated, of course this is a lot faster than 
> doing a native switch.
> Hans-Joerg Frieden

Excourse me, but having a PPC native filing system AND a PPC native task,
where anyone see a context switch?

...ofcourse, if any lame program abusing the code, what has to be emulated,
then that is NOT a MorphOs fault. It's only a benefit, if MorphOs even allow
this - ofcourse with brutal performace drop.


Anyway, as i understand the layout of the CSPPC (and BlizzPPC too) board(s),
(and Ralph Schmidt confirmed me that anyway ;)
the PPC have a priority of acessing every resources. I'm going to say, that
the PPC reaching notably FASTER results with not only CVPPC videoram acess,
but also with the scsi acessing, altrought there must be done some hacking,
as the controler assume that cacheline is always 16bytes, what is true for
040/060, but definitively NOT true for a 604e...

See ya!

Pavel Narozny, Troda of PEGAS, troda@cbnet.cz

"Intel inside, idiot outside."


@endnode
@node 08466.002
Subject: Re: Speed and cybppc.device... eg. anyone are faster that me?
From: Pavel Narozny <troda@cbnet.cz>
Date: Tue, 06 Mar 2001 17:46:03 +0100

...
>> Well doesn't having higher transfer rate load 3D PPC apps faster?
>> (Just trying to make it relevant ;-) )

> Not really :-)

Gosh... :(

> The problem is that these high transfer rates are only maintained if you
> are reading large chunks of data. This is not usually the case, and if
> you are reading small chunks, the access time becomes more important.

True... and also...

> However, all of these are completely moot points on the Amiga. The context
> switching between the 3D PPC app that needs the data and the dos.library
> that provides the data kills all performance. On Shogo, we had 1:50 minutes
> load time for level one, and on Linux 20 seconds,

Bloody hell!!! =8-O

> with the same code, only that there was a measly IDE disk in the Linux
> box and a Quantum Atlas in my Amiga...  Isn't the world a crazy place?
> Hans-Joerg Frieden

Well, that's really crazy... :(
Don't you, Hans, see any way, how to speed-up the loading at least twice?
What if the loading code are completely 68k one, huh?
...and the PPC are anabled only for the render, whel all are loaded...?


Anyway, the disapointing loading speed happening even here. Into various
games, like Doom, Descent, Hexen, Heretic... the 'wad' files containing
packed and little endian data, what have to be converted 'on the fly',
while pC mostly only use it as they are, coz sure help's performace like
a miracle...

Christian Sauer thinked about using a Mac version of the descent PIG/HOG
files, since they are already big-endians and then the loading speed it
brutaly faster. I still have on my drive the latest beta, what might
(it's a beta, remember :) supporting that and then the loading speed will
be fast-enought. I hope.

I only really WONDERING, why no-one, unlike on the Mac's, develop a simple
conversion tool for converting these wad files to big-endian and depacking
the packed things inside for the speed reason.

Then we can get the pC loading performace. Or Mac loading performace, as
the Mac users doing that normaly and for a GOOD reasons.


Anyone, who can use C language and try write that (simple) tool?

See ya!

Pavel Narozny, Troda of PEGAS, troda@cbnet.cz

"Intel inside, idiot outside."


@endnode
@node 08465.017
Subject: Re: StormMesa and StormC4 ??
From: Glenn Hisdal <ghisdal@c2i.net>
Date: Tue, 06 Mar 2001 12:06:46 +0100

Hello Hans-Joerg

On 06-Mar-2001, you wrote:

>> I sent a mail to StormC support, and they replied that they didn't finish
>> the support for StormMesa. So, I was hoping someone here had made a
>> working link library for it...

> You might want to try the egcs-warpup link library that should be included
> in the StormMesa archive... I've written that for the gcc-warpup, but it
> should *theoretically* work, too... I haven't tried it though. You will
> need to recompile it...

Looking at it right now...
It won't compile though. Having trouble with the assembley code.

--
Glenn



@endnode
@node 08465.016
Subject: Re: Re: StormMesa and StormC4 ??
From: Hans-Joerg Frieden <Hans-JoergF@hyperion-software.de>
Date: Tue, 6 Mar 2001 01:35:13 +0100

On Monday 05 March 2001 23:23, you wrote:

> I sent a mail to StormC support, and they replied that they didn't finish
> the support for StormMesa. So, I was hoping someone here had made a working
> link library for it...

You might want to try the egcs-warpup link library that should be included in 
the StormMesa archive... I've written that for the gcc-warpup, but it should 
*theoretically* work, too... I haven't tried it though. You will need to 
recompile it...

Regards,
-- 
Hans-Joerg Frieden
Software Developer, Hyperion Entertainment
Mail: Hans-JoergF@hyperion-software.de
Web: http://www.hyperion-software.de

@endnode
@node 08465.015
Subject: Re: Re: Speed and cybppc.device... eg. anyone are faster that me?
From: Hans-Joerg Frieden <Hans-JoergF@hyperion-software.de>
Date: Tue, 6 Mar 2001 01:33:39 +0100

On Monday 05 March 2001 22:39, you wrote:

> No context switch as the 68k is a PPC task.

That doesn't matter, the mechanism is there, the code that gets executed is 
the same. The context switch is emulated, of course this is a lot faster than 
doing a native switch.

Regards,
-- 
Hans-Joerg Frieden
Software Developer, Hyperion Entertainment
Mail: Hans-JoergF@hyperion-software.de
Web: http://www.hyperion-software.de

@endnode
@node 08465.006
Subject: Re: Speed and cybppc.device... eg. anyone are faster that me?
From: Shane Ponting <createcoms@ezysurf.co.nz>
Date: Tue, 06 Mar 2001 06:45:24 +1200


> I get 28.5 MB/s with a Quantum Atlas 9G... 
!!!!!!
> But that is OT...
Well doesn't having higher transfer rate load 3D PPC apps faster ?(Just trying to make it relevant ;-) )  
> Regards,
-- 
Shane Ponting
Taranaki
New Zealand

Setup:
A1200:BlizzardPPC:603p@270/68040@33
                                192mb of 60ns RAM
                                Fast SCSI-II Controller
                                8mb BVision GFX Card 


@endnode
@node 08467.003
Subject: Re: Loading speed of 3D agmes using little endian data's
From: Thomas Frieden <ThomasF@hyperion-software.de>
Date: Wed, 7 Mar 2001 20:45:04 +0100

Hi,

On Wednesday 07 March 2001 18:03, you wrote:
> > Thanks for mentioning Descent. You just showed all the others here on the
> > list how old this discussion is.
>
> Well, it's older, but a good example.

It is a bad example. See below.

> > As always, you wouldn't listen, but drag on with the subject endlessly.
>
> I listen, you don't. I writen 'Christian Sauer thinked about using a Mac
> ver' ...so, Christian did a 68k port of the Descent. On 68k this HAVE a
> sense. Since it lack of the cool ppc coversion, what is almost as fast, as
> normal data reading, yet.

There's an instruction called 'swap' on the 68k. What do you think this is 
for ? As always, you are uninformed but claim to have knowledge. Sorry if 
that sounds arrogant, but remember who you are talking to. I'm the 
programmer, *not* you, as you kept saying.

> Heheh, look, dude, for my experience, even on very fast scsi drives the
> loading speed drop notably. One of the reason is the little endian (I
> QUOTING Christian now!) and another is, that Christian find, that he can
> optimize the mapper even more, when he swap the first and last color into
> the textures... This (remap textures, 2D objects... ) ofcourse cause
> speed-drop.

Well, if you would have *listened* to what Christian said, you would have 
learned that this had *nothing* to do with the endian. This just goes to show 
taht you are uninformed but keep claiming to have knowledge. *HE JUST SWAPPED 
COLOR 0 AND COLOR 255 IN THE PALLETTE OF THE TEXTURES*, Got that ?

> >> I only really WONDERING, why no-one, unlike on the Mac's, develop a
> >> simple conversion tool for converting these wad files to big-endian and
> >> depacking the packed things inside for the speed reason.
> >
> > You said multiple times you are not a coder. So how do you judge ?
>
> I don't judging, i wondering. Look up, pretty please ;)))

No, you are not wondering. That would involve trying to find the truth. 
You're not interested in the truth, you are always trying to be right. That's 
something completely different.

> > I use exactly these instructions in Shogo. It's a simple load operation
> > one way or the other. So reading little or big endian from memory has
> > next to no impact.
>
> Nearly. True for fast PPC's, a little problem for 68k and a BIG problem
> when you use 68k and IDE drive, what EAT CPU time - and you hav to use the
> cpu time for the conversion AND (what about a listen that i mentioned also

Nonsense. See above. This has nothing to do with IDE, SCSI, or whatever. 
Don't try to deviate from the subject.

> depacking, as some of the Doom/Descent (IIRC), or Quake files into the big
> data pack's are PACKED and i recommending then depack it...)

The reason you unpack large data files is that seek operations on FFS take up 
to 4 seconds per operation. This is a fact that one can proove. And the fact 
that little to big endian has no impact at all has been prooved by me as 
well. Still, as usual, you will not listen.

> > And you read my brother's answer: 90 milliseconds for the loading
> > operation, 0.7 for the endian correction.
>
> I readed it, always, you can bet on that.
>
> > In this case (sound effects), the endian corection has to be done to have
> > the data ready for AHI.
>
> Gosh, AHI is a so slow thing to be used into games/demos! What about use
> the (about 20x faster (!)) mixing code, what done Joseph Fenton for the
> Doom? ...i have the doom.sound.library source and Joseph sure agree if you
> want to use then ... hmmm? ...it's 100% 68k asm code, VERY fast, it need
> only few percent (Joseph says 2 or five, i don't remember) of CPU time to
> mix eight channels on 020/14Mhz (!), so i suppose this this CAN be
> fast-enought to don't cause perfomrace drop)

We have PPC mixing functions and only use AHI to output the sound. For your 
information, our sound mixing functions take 3 milliseconds to mix 0.1 
seconds worth of 16 streams of 16 bit sound at 22050 KHz. The context switch 
to bring the stuff to AHI takes 5 milliseconds. But you are again deviating 
from the point.

> > With normal data, you just load the word from memory with automatic
> > endian correction. And it's only a 0.007 percent impact on the whole
> > speed. So tell me why anybody should even *bother* to write a tool for
> > that. Now I would need perhaps 10 minutes to write a tool that will swap
> > every longword in a file. Consider that 999 people are using my loader,
> > each one of them using it 10000 times. So the whole time spend for
> > correcting the endian will not even accumulate to 10 minutes.
>
> Speed always matter ;)

Again, you don't listen. Read the above paragraph once more (I've quoted it 
for your convenience). 

Yes, speed does matter. And 0.007 percent is nothing. Not even you could 
measure it. Heck, we're talking microseconds here. You know, there are one 
million microseconds in a second. So a microsecond is not much, isn't it ?

> > Apart from that, it's not even possible to write such a tool.
>
> Is, but it have some limitations. First at all, the 'wad' files have a
> table of their content, so this must be changed, when there are some of the
> pieces (what are packed) depacked now. That means that the tool can't be so
> so universal.

It would be necessary to know about the data itself. But as I said, it's not 
needed, as *THE ENDIAN CORRECTION DOESN'T TAKE ANY TIME AT ALL*. Do you 
really know how much 0.007 percent is ? Obviously not.

> >> Then we can get the pC loading performace. Or Mac loading performace, as
> >> the Mac users doing that normaly and for a GOOD reasons.
> >> Anyone, who can use C language and try write that (simple) tool?
> >
> > That won't work.   <- Big endian
> > thaTnow w t' .rk   <- Little endian
>
> I get it, don't worry. But they show, that it can work. This is ofcourse
> not as simple, as long's conversion.

No, you don't. You never do.

> > What did we learn from this ? You are again making uninformed noise.
> > Please think before posting. Thanks a lot.
> > Thomas Frieden
>
> You underestiminated me again, Thomas.
> Into some cases that is you, anyway, who should read, what i write.

I listen to all you say, but you don't listen to me. How many times should I 
repeat things until you get them into your head. You are not able to admit 
when you're wrong, even when I can show you your nonsens in numbers. But no, 
you continue to think to have the right answers. You don't know anything 
about the topic, yet you continue to talk about it. 

> But that don't matter so much. The question is still there - how to reach
> the pC loading/starting speed?

To repeat it slowly and loud enough for you: WE NEED PPC NATIVE STUFF ALL THE 
WAY DOWN TO THE HARDWARE. We need a ppc native file system, PPC native DOS, 
and a PPC native scsi driver. *THEN* can PC loading speed be reached. And in 
the process of rewriting everything PPC native, we also need a new file 
system. 

> ...i just tried to give some answers and i added also suggestion how this
> can be possible to do. Or at least i believe with that strongly :)))
>
> That is again so bad?

No, normally, it's a good idea. But I won't tell a cook how to make the meals 
better. And I'm sure as hell won't tell the cook that he needs more salt when 
she firmly believes it will spoil the food.

This is exactly what you do. And not only that. You kept writing me mails 
about these subjects (endian correction, left Amiga key, engine bugs and all 
that nonsens), and I told you my thinking. But you wouldn't listen. You never 
do. You take me for a fool.

A good advice, Pavel: Grow up! Accept that some people have better knowledge 
in some parts as yourself. I can do that, you should do that as well. And we 
are talking completely in *my* field here.

Regards,
-- 
 Thomas Frieden
 ThomasF@hyperion-software.de
 http://www.hyperion-software.com

@endnode
@node 08467.002
Subject: Re: Loading speed of 3D agmes using little endian data's
From: Hans-Joerg Frieden <Hans-JoergF@hyperion-software.de>
Date: Wed, 7 Mar 2001 20:34:55 +0100

On Wednesday 07 March 2001 18:03, you wrote:

> I listen, you don't. I writen 'Christian Sauer thinked about using a Mac
> ver' ...so, Christian did a 68k port of the Descent. On 68k this HAVE a
> sense. Since it lack of the cool ppc coversion, what is almost as fast, as
> normal data reading, yet.

You misquote him. I remember talking to him on one occasion. He said that he 
wanted to use the Mac files because of the data field alignment, and because 
he could then load them with one go. 

Anyway, we where talking about PPC. Forget 68k, that is a relict of the past 
that has reached the end of the line. And don't go telling me how good the 
68k CPU is, I know that, only it cannot keep up with the PPC or about any 
crappy Pentium CPU.

> That's not correct. I listening and learning.

Now *that* would be news...

Loading: 90 ms. Swapping: 0.7 ms. Still you claim that an unswapped version 
will be so many times faster? Why *don't* you start listening?

> Heheh, look, dude, for my experience, even on very fast scsi drives the
> loading speed drop notably. One of the reason is the little endian (I

Wrong. Why can't you backup your claims with a little bit of facts? 

> QUOTING Christian now!) and another is, that Christian find, that he can
> optimize the mapper even more, when he swap the first and last color into
> the textures... This (remap textures, 2D objects... ) ofcourse cause
> speed-drop.

It wasn't nescessary. The last colour was used as a chroma key. The mac 
version used color 0, the PC version color 255. Its easier and a bit faster 
to check for nonzero. That's the magic, nothing else.

> Nearly. True for fast PPC's, a little problem for 68k and a BIG problem
> when you use 68k and IDE drive, what EAT CPU time - and you hav to use the
> cpu time for the conversion AND (what about a listen that i mentioned also
> depacking, as some of the Doom/Descent (IIRC), or Quake files into the big
> data pack's are PACKED and i recommending then depack it...)

Yes, it eats CPU time. It still does not matter at all, but what use is it in 
telling you - you don't listen anyway.

Again, can you back up your claims by facts? No.

The problem with the PAK files I already pointed out - its the size of the 
file, nothing else. Of course, you also ignore this.

> Gosh, AHI is a so slow thing to be used into games/demos! What about use
> the (about 20x faster (!)) mixing code, what done Joseph Fenton for the
> Doom? ...i have the doom.sound.library source and Joseph sure agree if you
> want to use then ... hmmm? ...it's 100% 68k asm code, VERY fast, it need
> only few percent (Joseph says 2 or five, i don't remember) of CPU time to
> mix eight channels on 020/14Mhz (!), so i suppose this this CAN be
> fast-enought to don't cause perfomrace drop)

What the hell are we supposed to do with 100% 68k assembler code on a PPC 
program? We have our own PPC mixing code that takes about 2 milliseconds per 
fragment, that's fast enough, dynamically adjusts to the number of channels 
used, and has no upper limit. Yeah, its PPC, but then, Shogo is too...

Oh, BTW, the context switch will take longer than that. But you probably know 
that.

> Speed always matter ;)

Only if the effort is justified. Think commercial, time is money.

> Is, but it have some limitations. First at all, the 'wad' files have a
> table of their content, so this must be changed, when there are some of the
> pieces (what are packed) depacked now. That means that the tool can't be so
> so universal.

WAD files is WAD files. Shogo uses REZ files - completely different layout. 
Descent uses HOG and PIG - completely different layout. Freespace uses .VP 
files - completely different layout.

Sure it can be done, *if* you know the layout of the files. You probably know 
the layout of REZ files, VP files, HOG files, PIG files, PAK files, PK3 
files...?

> I get it, don't worry. But they show, that it can work. This is ofcourse
> not as simple, as long's conversion.

Please re-read what I said. It requires knowledge of the file format.

> Exactly. ;)  I know that. But it will be so cool to get finaly a reasonable
> loading speed, to the world are less crazy place, don't you are think so?

Again, you are optimizing the wrong thing. You just don't get it. Look above 
and read the example again.

> ...i just tried to give some answers and i added also suggestion how this
> can be possible to do. Or at least i believe with that strongly :)))

Belief is good when you believe in your country, believe in god, or whatever. 
Just believing that the endianness is the problem is ignorance.

> That is again so bad?

The bad thing is that you don't listen. You never listen. You don't have a 
clue yet go about trying to teach everyone that knows better. I remember when 
you tried to teach Klaus Burkert about Hardware on this very list. Just cut 
the crap and shut up for once.

Regards,
-- 
Hans-Joerg Frieden
Software Developer, Hyperion Entertainment
Mail: Hans-JoergF@hyperion-software.de
Web: http://www.hyperion-software.de

@endnode
@node 08467.001
Subject: Loading speed of 3D agmes using little endian data's
From: Pavel Narozny <troda@cbnet.cz>
Date: Wed, 07 Mar 2001 18:03:44 +0100

Ciao, Thomas.

>> Christian Sauer thinked about using a Mac version of the descent PIG/HOG
>> files, since they are already big-endians and then the loading speed it
>> brutaly faster. I still have on my drive the latest beta, what might
>> (it's a beta, remember :) supporting that and then the loading speed
>> will be fast-enought. I hope.

> Thanks for mentioning Descent. You just showed all the others here on the
> list how old this discussion is.

Well, it's older, but a good example.

> I told you some time ago (during the development of Descent) that there
> is no point in correcting the endian, as it will not have any impact
> at all.

Yes, i starting to remember that. Well.

> As always, you wouldn't listen, but drag on with the subject endlessly.

I listen, you don't. I writen 'Christian Sauer thinked about using a Mac ver'
...so, Christian did a 68k port of the Descent. On 68k this HAVE a sense.
Since it lack of the cool ppc coversion, what is almost as fast, as normal
data reading, yet.

> It just shows that you will never learn, and are never able to accept
> the knowledge of another one that's based on experience,

That's not correct. I listening and learning.

> you prefer to drag on with your constant uninformed bickering.

Heheh, look, dude, for my experience, even on very fast scsi drives the
loading speed drop notably. One of the reason is the little endian (I QUOTING
Christian now!) and another is, that Christian find, that he can optimize the
mapper even more, when he swap the first and last color into the textures...
This (remap textures, 2D objects... ) ofcourse cause speed-drop.

>> I only really WONDERING, why no-one, unlike on the Mac's, develop a simple
>> conversion tool for converting these wad files to big-endian and depacking
>> the packed things inside for the speed reason.

> You said multiple times you are not a coder. So how do you judge ?

I don't judging, i wondering. Look up, pretty please ;)))

> You know that there is a PPC instruction that can fetch words or longwords
> from memory reversing the endian, do you?

Yes. 

> I use exactly these instructions in Shogo. It's a simple load operation one
> way or the other. So reading little or big endian from memory has
> next to no impact.

Nearly. True for fast PPC's, a little problem for 68k and a BIG problem when
you use 68k and IDE drive, what EAT CPU time - and you hav to use the cpu time
for the conversion AND (what about a listen that i mentioned also depacking,
as some of the Doom/Descent (IIRC), or Quake files into the big data pack's
are PACKED and i recommending then depack it...)

> And you read my brother's answer: 90 milliseconds for the loading operation,
> 0.7 for the endian correction.

I readed it, always, you can bet on that.

> In this case (sound effects), the endian corection has to be done to have
> the data ready for AHI.

Gosh, AHI is a so slow thing to be used into games/demos! What about use the
(about 20x faster (!)) mixing code, what done Joseph Fenton for the Doom?
...i have the doom.sound.library source and Joseph sure agree if you want to
use then ... hmmm? ...it's 100% 68k asm code, VERY fast, it need only few
percent (Joseph says 2 or five, i don't remember) of CPU time to mix eight
channels on 020/14Mhz (!), so i suppose this this CAN be fast-enought to don't
cause perfomrace drop)

> With normal data, you just load the word from memory with automatic endian
> correction. And it's only a 0.007 percent impact on the whole speed. So tell
> me why anybody should even *bother* to write a tool for that. Now I would
> need perhaps 10 minutes to write a tool that will swap every longword in
> a file. Consider that 999 people are using my loader, each one of them using
> it 10000 times. So the whole time spend for correcting the endian
> will not even accumulate to 10 minutes.

Speed always matter ;)

> Apart from that, it's not even possible to write such a tool.

Is, but it have some limitations. First at all, the 'wad' files have a table
of their content, so this must be changed, when there are some of the pieces
(what are packed) depacked now. That means that the tool can't be so so
universal.

>> Then we can get the pC loading performace. Or Mac loading performace, as
>> the Mac users doing that normaly and for a GOOD reasons.
>> Anyone, who can use C language and try write that (simple) tool?

> That won't work.   <- Big endian
> thaTnow w t' .rk   <- Little endian

I get it, don't worry. But they show, that it can work. This is ofcourse
not as simple, as long's conversion.

> You see, your 'simple' tool would do exactly this to strings: Mangle them
> to bits. You can't just swap every longword, you have to interpret the data.

Exactly. ;)  I know that. But it will be so cool to get finaly a reasonable
loading speed, to the world are less crazy place, don't you are think so?

> What did we learn from this ? You are again making uninformed noise.
> Please think before posting. Thanks a lot.
> Thomas Frieden

You underestiminated me again, Thomas.
Into some cases that is you, anyway, who should read, what i write.

But that don't matter so much. The question is still there - how to reach the
pC loading/starting speed?

...i just tried to give some answers and i added also suggestion how this
can be possible to do. Or at least i believe with that strongly :)))

That is again so bad?

See ya!

Pavel Narozny, Troda of PEGAS, troda@cbnet.cz

"Intel inside, idiot outside."


@endnode
@node 08466.010
Subject: Re: Speed and cybppc.device... eg. anyone are faster that me?
From: Shane Ponting <createcoms@ezysurf.co.nz>
Date: Wed, 07 Mar 2001 16:15:02 +1200

> No. We need a new file system. 
I use SFS, what are your comments on this FS ?
Not even a PPC native FS will be the complete 
> solution. FFS is botched when it comes to reading large files... A seek in a 
> 200MB REZ file takes almost four seconds...

> Plus, Linux uses free memory as a cache. You cannot do that on the current 
> FFS (Except with hacks). Linux file systems also use anticipated read-aheads, 
> which isn't available on FFS either.

> But again, this is OT.

> Regards,
-- 
Shane Ponting
Taranaki
New Zealand

Setup:
A1200:BlizzardPPC:603p@270/68040@33
                                192mb of 60ns RAM
                                Fast SCSI-II Controller
                                8mb BVision GFX Card 


@endnode
@node 08466.009
Subject: offtopiX
From: DJNick <djnick@ptt.yu>
Date: Wed, 07 Mar 2001 03:00:58 +0100

Hiya

Last week I finished layouting AS [issue 10] magazine using
pagestream4 & arteffect4 programz. U can check how it looks
when click on thumbnails on my site:

#http://www.d-tronic.com/indexe.html#

Of course, I wouldn't email this message unless it was connected [somehow] with Hyperion
:) There is a screenshot of AS team interview with you guyz :)

Kind regards
-- 
<tsb>d.j.nick [d-tronic] / icq: 13794052
<tsb>URLs: http://www.djnick.com & http://www.d-tronic.com
<tsb>amiga1260T ppc 603e/166mhz; b-vision & 160mb ram; prelude1200;
<tsb>17" DTK; zip100; 56K US-Robotic; hplj6l & mustek 600 CU

@endnode
@node 08468.005
Subject: Re: Loading speed of 3D agmes using little endian data's
From: Henrik Munther <psycho@mail.org>
Date: Thu, 08 Mar 2001 23:59:35 +0100

On 08-Mar-01 Hans-Joerg Frieden wrote:

> Yes, I just had a look at the '060 manual, its for longs only. So it's
> all back to using the barrel shifter...

Which is executed in 1 cycle and fully pOEP||sOEP. So if merged properly
the 4 longwords in a cacheline can be endian converted in 6-8 cycles,
which is about half the the time it takes just to fetch the line from
fastmem...  (which should be EOD :)


Regards
--=20
Henrik M=FCnther



@endnode
@node 08468.004
Subject: Re: Assembly question (Mesa link lib)
From: Daniel Bindel <d_bindel@gmx.net>
Date: Thu, 08 Mar 2001 23:18:41 +0100

Hello Glenn

> When trying to compile the egcs_wos link library for StormMesa with
> StormC4, the assembler stopped on the following lines:
> 
>        lis 2,glppcBase@ha
>        lwz 2,glppcBase@l(2)
>
> With the error messages:
> 
> Unsupported relocation type R_PPC_ADDR16_HA at offset 18 in section
> ".text". Unsupported relocation type R_PPC_ADDR16_LO at offset 22 in
> section ".text".

Well, that seems to be some kind of code model collosion. Have you set the
right code model for the assembler in StormC (should be "small data" and
"small code")?
Is the project completely PPC, or do you try to make a Fat-Binary?
Is there any comments in the source? It's a little bit easier, to find out,
what the line is intended to do.
The first line could be a part of a macro. Because just this instruction
alone does not make any sense (loading a 16 bit constant to r2). R2 should
hold a pointer to the small code base, and this one is 32 bits wide.
The second instruction is OK, if glppcBase@l is a 16bit constant. But I
think, that it is a label and @l is doing something to this label (gives
back lower 16bit of label offset?).
Are these lines directly following each other?

> So, What can I use instead of the lines above ?
> (I just used lwz 2,glppcBase, to make it compile, but that will give the
> wrong result, right ? )

Yep. As I asume, that glppcBase is a label, you should use "lw 2,glppcBase"
to load the value of glppcBase to r2. It's like

  lw  r3, label (r3 now containes $12345678)

  section data
label
  dc.w  $12345678 

lwz is used as "lzw Rx, 16BitOffset(Ry)" - loading a word from address Ry
with offset to Rx.

Regards
Daniel
-- 

   #http://www.VirtualWorlds.de#
   #http://www.tamar.net#
   #http://www.t-online.de/home/AC-FoX/#


@endnode
@node 08468.003
Subject: Re: Re: Loading speed of 3D agmes using little endian data's
From: Hans-Joerg Frieden <Hans-JoergF@hyperion-software.de>
Date: Thu, 8 Mar 2001 21:37:59 +0100

On Thursday 08 March 2001 21:26, you wrote:
> Sorry, but that's not possible. "swap" has no option .w .l - it always
> affects the whole 32 bit. For swapping the bytes in the lower word, you
> will have to use a rotate instruction.

Yes, I just had a look at the '060 manual, its for longs only. So it's all 
back to using the barrel shifter...

Regards,
-- 
Hans-Joerg Frieden
Software Developer, Hyperion Entertainment
Mail: Hans-JoergF@hyperion-software.de
Web: http://www.hyperion-software.de

@endnode
@node 08468.002
Subject: Re: Re: Loading speed of 3D agmes using little endian data's
From: Thomas Frieden <ThomasF@hyperion-software.de>
Date: Thu, 8 Mar 2001 21:37:15 +0100

Hi,

On Thursday 08 March 2001 21:26, you wrote:
> > I think you can do a swap.w, that would allow you to use swap for
> > swapping byte-swapped longs, if you get what I mean :-)
>
> Sorry, but that's not possible. "swap" has no option .w .l - it always
> affects the whole 32 bit. For swapping the bytes in the lower word, you
> will have to use a rotate instruction.

Yup, right, it's .l implictly. Back to ror again... But it's resonably fast, 
either way.

Regards,
-- 
 Thomas Frieden
 ThomasF@hyperion-software.de
 http://www.hyperion-software.com

@endnode
@node 08468.001
Subject: Re: Loading speed of 3D agmes using little endian data's
From: Daniel Bindel <d_bindel@gmx.net>
Date: Thu, 08 Mar 2001 21:26:36 +0100

Hello Hans-Joerg

> I think you can do a swap.w, that would allow you to use swap for swapping
> byte-swapped longs, if you get what I mean :-)

Sorry, but that's not possible. "swap" has no option .w .l - it always
affects the whole 32 bit. For swapping the bytes in the lower word, you
will have to use a rotate instruction.

Regards
Daniel
-- 

   #http://www.VirtualWorlds.de#
   #http://www.tamar.net#
   #http://www.t-online.de/home/AC-FoX/#


@endnode
@node 08467.007
Subject: Assembly question (Mesa link lib)
From: Glenn Hisdal <ghisdal@c2i.net>
Date: Thu, 08 Mar 2001 15:21:29 +0100

Hi,

Can anyone explain some assembley to me ?

When trying to compile the egcs_wos link library for StormMesa with StormC4, the
assembler stopped on the following lines:

        lis 2,glppcBase@ha
        lwz 2,glppcBase@l(2)

With the error messages:

Unsupported relocation type R_PPC_ADDR16_HA at offset 18 in section ".text".
Unsupported relocation type R_PPC_ADDR16_LO at offset 22 in section ".text".

If I use pasm_ppc manually, and tell it to produce elf output, the assembley
finishes without any errors, but that doesn't really help, since StormC
won't use it...

So, What can I use instead of the lines above ?
(I just used lwz 2,glppcBase, to make it compile, but that will give the
wrong result, right ? )
As you can see, I'm not an assembly programmer :-)


- glenn



@endnode
@node 08467.006
Subject: Re: Re: Loading speed of 3D agmes using little endian data's
From: Thomas Frieden <ThomasF@hyperion-software.de>
Date: Thu, 8 Mar 2001 10:17:17 +0100

Hi,

On Thursday 08 March 2001 00:52, you wrote:
> Hello Thomas
>
> > There's an instruction called 'swap' on the 68k. What do you think this
> > is for ? As always, you are uninformed but claim to have knowledge. Sorry
> > if that sounds arrogant, but remember who you are talking to. I'm the
> > programmer, *not* you, as you kept saying.
>
> Aehmm, that's not 100% correct in this way. The 68k "swap" instruction is
> not a Little-Big endian conversion.

Yeah, I know ;)

> IIRC it is only for swapping the upper and lower WORD of a LONG. You have
> to add an "ror.w #8,dX" instruction before and after the "swap", to get a
> complete Little-Big conversion. The whole three-instruction package takes 3
> CPU cycles on a 060 and around 16 cycles on a 030, IIRC. But on 060 the
> swap seems to block the execution of a secondary instruction in superscalar
> pipeline :)

Swap can also be used on words, IIRC, so it should be possible to do:
; before swapping: 0123
swap.w d0   ; 0132
swap.l d0   ; 3201
swap.w d0   ; 3210

Of course, this might stall the second pipeline. But it's more a question of 
principle :)

Regards,
-- 
 Thomas Frieden
 ThomasF@hyperion-software.de
 http://www.hyperion-software.com

@endnode
@node 08467.005
Subject: Re: Re: Loading speed of 3D agmes using little endian data's
From: Hans-Joerg Frieden <Hans-JoergF@hyperion-software.de>
Date: Thu, 8 Mar 2001 09:59:20 +0100

On Thursday 08 March 2001 00:52, you wrote:

> Aehmm, that's not 100% correct in this way. The 68k "swap" instruction is
> not a Little-Big endian conversion.
> IIRC it is only for swapping the upper and lower WORD of a LONG. You have
> to add an "ror.w #8,dX" instruction before and after the "swap", to get a
> complete Little-Big conversion. The whole three-instruction package takes 3
> CPU cycles on a 060 and around 16 cycles on a 030, IIRC. But on 060 the
> swap seems to block the execution of a secondary instruction in superscalar
> pipeline :)

I think you can do a swap.w, that would allow you to use swap for swapping 
byte-swapped longs, if you get what I mean :-)

> Sorry for the the interupt of your discussion, but the "Pavel" story is
> again going "out of fun" ;)

Definately, and I am not going to watch this much longer...

Best regards,
-- 
Hans-Joerg Frieden
Software Developer, Hyperion Entertainment
Mail: Hans-JoergF@hyperion-software.de
Web: http://www.hyperion-software.de

@endnode
@node 08467.004
Subject: Re: Loading speed of 3D agmes using little endian data's
From: Daniel Bindel <d_bindel@gmx.net>
Date: Thu, 08 Mar 2001 00:52:37 +0100

Hello Thomas

> There's an instruction called 'swap' on the 68k. What do you think this is
> for ? As always, you are uninformed but claim to have knowledge. Sorry if
> that sounds arrogant, but remember who you are talking to. I'm the
> programmer, *not* you, as you kept saying.

Aehmm, that's not 100% correct in this way. The 68k "swap" instruction is
not a Little-Big endian conversion. 
IIRC it is only for swapping the upper and lower WORD of a LONG. You have to
add an "ror.w #8,dX" instruction before and after the "swap", to get a
complete Little-Big conversion. The whole three-instruction package takes 3
CPU cycles on a 060 and around 16 cycles on a 030, IIRC. But on 060 the
swap seems to block the execution of a secondary instruction in superscalar
pipeline :)   

Sorry for the the interupt of your discussion, but the "Pavel" story is
again going "out of fun" ;)

Regards
Daniel
-- 

   #http://www.VirtualWorlds.de#
   #http://www.tamar.net#
   #http://www.t-online.de/home/AC-FoX/#


@endnode
@node 08468.007
Subject: Re: Assembly question (Mesa link lib)
From: Glenn Hisdal <ghisdal@c2i.net>
Date: Fri, 09 Mar 2001 14:38:58 +0100

Hello Daniel

On 08-Mar-2001, you wrote:

> Hello Glenn

>> When trying to compile the egcs_wos link library for StormMesa with
>> StormC4, the assembler stopped on the following lines:
>> 
>>        lis 2,glppcBase@ha
>>        lwz 2,glppcBase@l(2)
>> 
>> With the error messages:
>> 
>> Unsupported relocation type R_PPC_ADDR16_HA at offset 18 in section
>> ".text". Unsupported relocation type R_PPC_ADDR16_LO at offset 22 in
>> section ".text".

> Well, that seems to be some kind of code model collosion. Have you set the
> right code model for the assembler in StormC (should be "small data" and
> "small code")?

Yes.

> Is the project completely PPC, or do you try to make a Fat-Binary? 

completely PPC.

> Is
> there any comments in the source?

no...

> The first line could be a part of a
> macro. Because just this instruction alone does not make any sense
> (loading a 16 bit constant to r2). R2 should hold a pointer to the small
> code base, and this one is 32 bits wide. The second instruction is OK, if
> glppcBase@l is a 16bit constant. But I think, that it is a label and @l is
> doing something to this label (gives back lower 16bit of label offset?).
> Are these lines directly following each other?

Yes, they are.
Here's the complete section:

__asm__("
libcall:    stwu    1,-48(1)
        stw 2,28(1)
        mflr    2
        stw 2,24(1)
        lis 2,glppcBase@ha
        lwz 2,glppcBase@l(2)
        addi    12,12,2
        lwzx    0,2,12
        mtlr    0
        blrl
        lwz 2,24(1)
        mtlr    2
        lwz 2,28(1)
        la  1,48(1)
        blr");   

If you have the developer files for StormMesa, it's the source for the
egcs_wup link library.
You'll find this code (or similar) in all the .c files.

glppcBase is a pointer to a Library (struct Library *glppcBase)



Final update:

I actually managed to compile a working link library now.
All I had to do was using the sources intended for StormC3.
I tried that once before, but it turned out I was missing an assembley include file,
and instead of telling me, the assembler gave a lot of weird error messages about
missing timer.device and stuff...
When I got the include file in place, it compiled without any problems :-)

So, I guess the above problem doesn't matter any more, but it's always nice
to learn something new ;-)


--
Glenn Hisdal



@endnode
@node 08468.006
Subject: Re: Re: Loading speed of 3D agmes using little endian data's
From: Hans-Joerg Frieden <Hans-JoergF@hyperion-software.de>
Date: Fri, 9 Mar 2001 12:51:07 +0100

On Thursday 08 March 2001 23:59, you wrote:

> Which is executed in 1 cycle and fully pOEP||sOEP. So if merged properly
> the 4 longwords in a cacheline can be endian converted in 6-8 cycles,
> which is about half the the time it takes just to fetch the line from
> fastmem...  (which should be EOD :)

It would be a bit tricky, though, to correctly schedule the instructions, 
otherwise you will get stalls in the pipeline due to the data dependency...

This is much easier on the PPC, since it has special fetch intstructions for 
different endians.

However, the whole affair about endian correction is nothing to worry about 
anyway. You have a disk access that in most cases is in the microseconds 
range *at least*, and an endian swap that is in the nanosecond area :-)
The example I quoted was even the worst case, since 16 bit audio data must be 
endian-swapped for evey single word... Normally, data files contain much more 
data that is just bytes, or longwords...

Regards,
-- 
Hans-Joerg Frieden
Software Developer, Hyperion Entertainment
Mail: Hans-JoergF@hyperion-software.de
Web: http://www.hyperion-software.de

@endnode
@node 08470.002
Subject: Re: OT: booting from CSPPC/BlizzPPC CDROM boot support?
From: Hans-Joerg Frieden <Hans-JoergF@hyperion-software.de>
Date: Sun, 11 Mar 2001 19:24:12 +0100

On Sunday 11 March 2001 15:35, you wrote:
> Can anyone tell me, if managed to boot from CDROM into the BlizzPPC/CSPPC
> cards, what, seems, have the support for that, yet.
>
> How i need to do?  (what settings, what or how to do the CDdisk...)
>
> Any hints?

I would really like to request that these off-topic postings be directed 
somewhere else. This is definately not the place to discuss it. 

Thank you.

Best regards,
-- 
Hans-Joerg Frieden
Software Developer, Hyperion Entertainment
Mail: Hans-JoergF@hyperion-software.de
Web: http://www.hyperion-software.de

@endnode
@node 08470.001
Subject: OT: booting from CSPPC/BlizzPPC CDROM boot support?
From: Pavel Narozny <troda@cbnet.cz>
Date: Sun, 11 Mar 2001 15:35:23 +0100

Ciao, dudes!

Can anyone tell me, if managed to boot from CDROM into the BlizzPPC/CSPPC
cards, what, seems, have the support for that, yet.

How i need to do?  (what settings, what or how to do the CDdisk...)

Any hints?


See ya!
Pavel Narozny, Troda of PEGAS, troda@cbnet.cz
"Intel inside, idiot outside."


@endnode
@node 08472.002
Subject: G400 specs
From: igitt123@uni-paderborn.de
Date: Tue, 13 Mar 2001 19:14:58 +0100

Hi !

I just had a look at the Matrox G400 documentation - looks a bit mire
challanging than the good old OCS-chipset :-) Now I have a clue what it
means to write a driver for a 3d-chip and all I can say to the Friedens is
"Respekt !"

regards

Alexander Lohrmann


@endnode
@node 08472.001
Subject: Re: Re: Speed and cybppc.device... eg. anyone are faster
From: Alan Buxey <almb@mssl.ucl.ac.uk>
Date: Tue, 13 Mar 2001 17:22:56 +0000 (GMT)

hi,

> provides the data kills all performance. On Shogo, we had 1:50 minutes load 
> time for level one, and on Linux 20 seconds, with the same code, only that 
> there was a measly IDE disk in the Linux box and a Quantum Atlas in my 
> Amiga... 

what are peoples loading times with Heretic2 ?  on my IDE drive it takes
ages for the game to load up (relative to a K6-2 500 PC) .

I guess you folks with SCSI-Ultra disks dont have so much delay? :-)

> Isn't the world a crazy place?

yep..must be..i bought a non-SCSI card! ;-) 

alan


@endnode
@node 08473.006
Subject: Re: OT: booting from CSPPC/BlizzPPC CDROM boot support?
From: Alan Buxey <almb@mssl.ucl.ac.uk>
Date: Wed, 14 Mar 2001 13:01:08 +0000 (GMT)

hi,

> Can anyone tell me, if managed to boot from CDROM into the BlizzPPC/CSPPC
> cards, what, seems, have the support for that, yet.
> 
> How i need to do?  (what settings, what or how to do the CDdisk...)

I have a friend who does this. its just a case of setting the CD up with
the usual system files

 
alan


@endnode
@node 08473.005
Subject: Re: Loading speed of 3D agmes using little endian data's
From: Alan Buxey <almb@mssl.ucl.ac.uk>
Date: Wed, 14 Mar 2001 11:32:08 +0000 (GMT)

hi,

> No, normally, it's a good idea. But I won't tell a cook how to make the meals 
> better. And I'm sure as hell won't tell the cook that he needs more salt when 
> she firmly believes it will spoil the food.

seasoning should always be up to the customer :-)
 
alan


@endnode
@node 08473.004
Subject: Re: Loading speed of 3D agmes using little endian data's
From: Alan Buxey <almb@mssl.ucl.ac.uk>
Date: Wed, 14 Mar 2001 11:24:02 +0000 (GMT)

hi,

> Gosh, AHI is a so slow thing to be used into games/demos! What about use the
> (about 20x faster (!)) mixing code, what done Joseph Fenton for the Doom?
> ...i have the doom.sound.library source and Joseph sure agree if you want to
> use then ... hmmm? ...it's 100% 68k asm code, VERY fast, it need only few
> percent (Joseph says 2 or five, i don't remember) of CPU time to mix eight
> channels on 020/14Mhz (!), so i suppose this this CAN be fast-enought to don't
> cause perfomrace drop)

?? what about people using AHI with their PPC's ? what about people who
dont want to have Paula output, but have soundcards?

if you configure AHI correctly (ie dont use HiFi stereo 14bit+++ modes
etc) then AHI can be reasonable. sure, if you only have 68k and Paula,
then just use 68k-asm routines....just dont complain when users start
wodnering why your program is so slow under MorphOS ;-)
  
> But that don't matter so much. The question is still there - how to reach the
> pC loading/starting speed?

1) have a DMA controller into the Amiga 

2) add dynamic caching, LUTs, TOCs, table-caching and atomic-indexing into
FastFileSystem

surely just a nights worth of coding?  ;-)

alan  


@endnode
@node 08473.003
Subject: Re: Re: Speed and cybppc.device... eg. anyone are faster
From: Alan Buxey <almb@mssl.ucl.ac.uk>
Date: Wed, 14 Mar 2001 09:45:26 +0000 (GMT)

hi,

> in-place - the PPC has instructions for reading data in the little-endian. 
> The problem with those files is that they are big. That makes FFS really slow 
> on seek operations.

as a side note: I dont use FFS anymore, I have PFS3 on my system - and its
still slow :-|
 
> Plus, Linux uses free memory as a cache. You cannot do that on the current 
> FFS (Except with hacks). Linux file systems also use anticipated read-aheads, 
> which isn't available on FFS either.

umm, plus most Linux filesystems (note, there isnt just one ;-) ) are
using advanced, newer algorithms and are constantly developed
 
alan

PS there is also no 'quick tweaks' in AmigaOS. Under Linux, with the right
hardware you can quadruple performance just by using the 'hdparm' utility
with correct arguments. Seeing IDE drives working at 20MB/s is scarey




@endnode
@node 08473.002
Subject: Re: Re: Speed and cybppc.device... eg. anyone are faster
From: Alan Buxey <almb@mssl.ucl.ac.uk>
Date: Wed, 14 Mar 2001 09:37:27 +0000 (GMT)

hi,

> Anyone, who can use C language and try write that (simple) tool?

you convert the data files and you have to change the executable too
(which may take a LOT more work)

alan 


@endnode
@node 08473.001
Subject: Re: G400 specs
From: Hans-Joerg Frieden <Hans-JoergF@hyperion-software.de>
Date: Wed, 14 Mar 2001 02:56:13 +0100

On Tuesday 13 March 2001 19:14, you wrote:
> Hi !
>
> I just had a look at the Matrox G400 documentation - looks a bit mire
> challanging than the good old OCS-chipset :-) Now I have a clue what it
> means to write a driver for a 3d-chip and all I can say to the Friedens is
> "Respekt !"

Thanks :-)

Regards,
-- 
Hans-Joerg Frieden
Software Developer, Hyperion Entertainment
Mail: Hans-JoergF@hyperion-software.de
Web: http://www.hyperion-software.de

@endnode
