stolen html from http://www.be.com and mutilated into text on 22-Oct-95

System Software on the BeBox

Be system software is designed to make effective use of the BeBox hardware
-- and to add a few features of its own.  The software is a complete,
modern operating system with everything you'd expect on a machine designed
to move us into the twenty-first century, including:

	A multiprocessor microkernel
	Virtual memory
	Preemptive multithreading (true "multitasking")
	Protected address spaces coupled with the ability to share memory
	when desired
	Loadable device drivers
	Interapplication messaging
	Built-in networking
	An extensible database integrated with the file system
	A window-based, interactive and graphical user interface
	Window-specific graphics environments
	A real-time architecture for handling audio and video data
	A graphical browser for operating the machine
	Dynamically linked ("shared") libraries
	An object-oriented programming environment bundled with
	every computer

This software package is small, efficient, and adapted to the machine.
Because it doesn't carry outdated baggage from old platforms, it can
deliver high performance and take full advantage of the parallel processing
power of the dual CPUs.

The BeBox is a powerful computer for general use, but also one that's
geared for applications that handle multimedia data, both audio and video.
The software features that support these applications -- such as the
ability to synchronize operations on large amounts of data in multiple
threads, and do it in real time -- are built in from the start they're not
added as afterthoughts to a system that was designed for other purposes.


Features

Be software builds on the hardware platform, and adds components that make
the machine a high-performance workstation for real-time applications.
Among the software-specific features of the BeBox are these:

 
Multithreading on Multiple Processors

Be's operating system is fully multithreaded.  Programs run in separately
scheduled threads of execution.  The CPUs can switch among the threads,
executing portions of one and then another, to make it appear that several
threads -- and several applications -- are running simultaneously.

Each application can contain a bundle of independent threads, some
specified by the application designer and others provided by the operating
system.  For example, every window on the BeBox runs in its own thread.  So
the user can scroll the contents of one window while watching an
uninterrupted animation or video in another, or start a time-consuming
computation in one window thread and still be able to use the application's
other windows.  A window won't stop working when the user turns to another
window.

The operating system automatically assigns threads to one CPU or the other
for the most efficient execution.  Each thread can be preempted, so that no
one piece of an application is allowed to dominate.  However, threads that
must perform real-time tasks are given priority critical timing is not
disrupted.

An application can also temporarily take over one of the CPUs for
time-critical tasks.  The other CPU -- the equivalent to a second computer
-- is still available for other operations.

 
Memory Protection and Interapplication Communication

The threads within an application are a "team" that share a private and
protected address space.  Each application can exist and run independently
of all others.

However, in the multithreaded environment of the BeBox, where more than one
application can run at once, there's much to be gained by having
applications share information and call upon each other to carry out
specialized tasks.  For that reason, Be software provides a simple but
powerful mechanism for interapplication communication.  Simple commands or
complex messages carrying structured data can easily be passed among
applications and threads.

In addition, when desired, two or more applications can share a designated
region of memory.


The User Interface

The BeBox has an interactive and graphical user interface (GUI).  The
operating system provides applications with ready-made windows, and with
modular components for drawing the windows' contents.

The BeBox is the first computer to give every window its own graphics
environment.  Windows operate independently in their own threads they don't
need to wait for each other or to compete with each other for system
resources.  This independence is what gives the BeBox much of its
responsiveness.

 
Integrated Database

A database is integrated with the file system and made available to all
applications through a server.  All information stored on-disk can be
accessed as if it were in a relational database.  The system supplies a
number of predefined data entry types -- or "tables" -- that specify the
structure and properties of stored information, but applications are also
free to define their own types.  New definitions can "inherit" from old
ones.

Users can view stored data not just through the normal hierarchy of
directories and files, but also by querying the database.  Queries can
remain "live" so that the information always remains up-to-date.  In this
way, users are released from the constraints of a traditional file system
and are better able to manage data and arrange it as it suits their
purposes.

Applications have the same freedom as users:  They can store and retrieve
information based either on its location in the file system or on the
structured properties it has within the database.

 
The Browser

The Browser gives users a graphical view of the database and file system.
It lets them launch applications, open documents, set up a personal working
environment, and in general operate the machine.  It makes full use of the
database and gives users control over creating, copying, rearranging, and
deleting files and data entries.

Console windows running a shell are also provided for those operations for
which a command-line interface makes sense.

 
Real-Time Architecture

Be system software is designed to facilitate applications that must process
large amounts of data in real time.  It provides a simple architecture for
setting up media streams -- in effect, pipelines of data buffers -- and for
specifying how the buffers should be transported through a chain of
handlers.  The transportation can be scheduled for real-time performance,
and the scheduler can be synchronized to an external clock, such as the
timing imposed by the MIDI (Musical Instrument Digital Interface) or SMPTE
(Society of Motion Picture and Television Engineers) formats.

The real-time architecture works on multiple streams within multiple
threads.  Each data handler can operate in its own thread and more than one
media stream can be synchronized and handled at once.  Priorities are set
so that a thread won't be interrupted at critical times.

 
Network Connections

The BeBox comes with TCP/IP built in.  All that it requires is adding an
inexpensive NE2000, 3Com 3C503, or compatible Ethernet card to one of the
ISA slots on the main processor board.  The software also includes direct
and dial-up PPP.  Standard tools for using the network -- ftp, ftpd, and
telnet -- are also provided.

 
Architecture

Be system software is structured in three layers:

The kernel,
Various servers, and
Several software kits.


The Kernel

The kernel is really a small and efficient "microkernel" that provides the
basic foundation for other software.  It manages virtual memory --
establishing protected address spaces and shared memory areas.  It also
manages threads -- creating and destroying them as needed, scheduling them
on the CPUs, and setting up the mechanisms that allow them to cooperate in
the same address space.  In addition, it provides the underlying mechanism
for interprocess communication.

The kernel is designed to coordinate up to eight CPUs working in parallel.
The introductory BeBox has two.

Drivers for the hard and floppy disk drives are internal to the kernel, but
all other disk drivers are external they're dynamically loaded at run time.
This modularization allows new services to be added without enlarging the
kernel or interfering with its performance.

Be provides device drivers for Ethernet, MIDI, audio, video, the keyboard
and mouse, serial ports, parallel ports, the geek port, and joysticks.

 
Servers

Servers are background processes that can attend to the needs of any number
of running applications (the server's "clients").  They take over much of
the low-level work that would normally have to be done by each application.
This client-server architecture simplifies the applications and makes them
more efficient and easier to develop.  It also enhances the performance of
all the software and makes it more reliable.

Two of the principal servers on the BeBox are the Storage Server and the
Application Server:

The Storage Server coordinates access to all "persistent data" -- data that
lives on long-term storage media, such as a hard or floppy disk.  It
manages both the file system and the database.  It puts the database at the
heart of system software and makes it available to all applications.

The Application Server handles most of the low-level user interface work.
It provides applications with windows, manages the interactions among
windows on-screen, and gives each window its own independent graphics
environment.  It also monitors what the user does on the keyboard and mouse
-- it's the application's conduit for both drawing output and event input.

By taking over system-wide aspects of data storage and the user interface,
these servers let developers concentrate on what's specific to their
applications.

 
Software Kits

A number of object-oriented software kits are built on top of the kernel,
device drivers, and servers.  They provide an application programming
interface (API) to the servers and device drivers, and they add standard
software components for building applications.

The following are a few of the Be software kits:

The Application Kit sets up the messaging mechanism through which
applications can communicate and cooperate with each other.  It establishes
a global presence for each application and links it to shared resources,
such as the clipboard and color map.

The Storage Kit provides an interface to the Storage Server, and through it
to the database and file system.

The Interface Kit provides the basic building blocks for the user interface
-- everything from windows to buttons, scroll bars, text fields, and menus.
It gives applications a structure for drawing in windows and responding to
the user's instructions as delivered from the keyboard and mouse.

The Media Kit sets up the architecture for processing data -- particularly
audio and video data -- in real time.

The MIDI Kit is designed specifically for processing music data in MIDI
format.

The Network Kit provides facilities for taking advantage of the BeBox's
networking software.

The Device Kit provides encapsulated interfaces to the various ports,
connectors, and devices that can be attached to the BeBox.


 
Applications

Be provides a few standard applications, such as the Browser for managing
the user's working environment, a set of utilities for setting system-wide
preferences, and Edit for programming and simple text editing.

 
Development Environment

Be's software kits are written in the C++ language.  They use the
object-oriented features of C++ to deliver basic functionality in the form
of "classes" that can be expanded and modified to suit a specific
application's needs.  Often, all that's needed to adapt a class for a given
application is to implement a designated "hook" function that introduces
application-specific code into the generic workings of the class.  Many
class modules can be incorporated into applications without change.

All Be software is contained in a shared library that's dynamically linked
to applications at run time.  This keeps applications small and more
efficiently uses the available memory on the machine.  The standard C and
C++ libraries are also shared.

Be applications are developed using the Metrowerks(R) CodeWarrior(TM)
compiler and development environment -- either natively on the BeBox or,
more typically, on a Macintosh computer.

