             APPENDIX B.  SUMMARIES AND TABLES

      

CONTENTS

          The RS-232 Interface, with Pin
Definitions
          Front Panel Indicators
          DIP Switch Summary
          Default Settings
          S-Register Summary
          ASCII Chart
                          THE RS-232 INTERFACE

DESCRIPTION

      The RS-232 interface is a standard
      developed by the Electronic Industries
      Association (EIA).  It defines the
      signals and voltages used when data is
      exchanged between a computer or terminal
      and a modem or serial printer.  Data is
      transmitted between the devices via a
      cable with 25-pin, 9-pin, 8-pin or
      custom-built connectors.


PIN ASSIGNMENTS

      The entire standard covers many more
      functions than are used in most data
      communications applications.  Pin
      assignments are factory set in the
      Courier to match the standard DB-25
      assignments in the following table.  DB-
      9 connectors for AT-compatible computers
      should be wired at the computer end of
      the cable as shown in the DB-9 column.
      If you're using an Apple computer, ask
      your dealer for the correct modem cable
      for your Apple computer model.

                                    Signal
Flow  
      DB-25   DB-9  Circuit         Function D
TE ê DCE*
      
          1   ê     AA              Chassis
      Ground  both directions
      2   3   BA    Transmitted Data    to DCE
      3   2   BB    Received Data   to DTE
      4   7   CA    Request to Send to DCE
      5   8   CB    Clear to Send   to DTE
      6   6   CC    Data Set Ready  to DTE
      7   5   AB    Signal Ground   both
directions
      8   1   CF    Carrier Detect  to DTE   
      12  ê   SCF   Speed Indicate  to DTE
      15  ê   DB    Synchronous TX** Timing  t
o DTE
      17  ê   DD    Synchronous RX** Timing  t
o DTE
      20  4   CD    Data Terminal Ready to DCE
      22  9   CE    Ring Indicate   to DTE
      24  ê   DA    Synchronous TX** Timing  t
o DCE

      * DTE indicates the terminal or
      computer; DCE indicates the modem.
      ** Indicates Transmitter (TX) or
      Receiver (RX)

         RS-232 Interface Pin Definitions
Minimum Requirements

      Some computer/terminal equipment
      supports only a few of the RS-232 signal
      functions set in the Courier.  The
      minimum required for the modem to
      operate are as follows:

   Asynchronous Calls

       DB-25    DB-9     
        Pin     Pin      Function            
      
         2       3       Transmitted
      Data
         3       2       Received Data
         7       5       Signal Ground
         20      4       Data Terminal Ready*

      * Required only if you have the Data
      Terminal Ready Override switch OFF (DIP
      switch 1 UP).

   Synchronous Calls

      You will need all of the above functions
      as well as pin 15 for Transmitter timing
      signals, and pin 17 for Receiver timing
      signals.  You may need pin 24, which is
      assigned the external timing source,
      rather than the internal (modem) source
      assigned to pin 15.  See Chapter 7 for
      more detailed information.

   Additional Flow Control Functions

      If your computer and software support
      Clear to Send and you wish to use
      Transmit Data hardware flow control
      (&H1), Pin 5 (DB-25) or Pin 8 (DB-9) is
      required.
      If your computer and software support
      Request to Send and you wish to use
      Received Data hardware flow control
      (&R2), Pin 4 (DB-25) or Pin 7 (DB-9) is
      required.


FOR 38.4K DTE RATE OR HIGHER

      Your terminal or computer and software
      must support the 38.4K rate.  Make sure
      the RS-232 cable is shielded.  Cables
      are normally six feet long, but longer
      lengths are possible.  If you encounter
      problems with signal degradation, try a
      shorter cable.

      If you decide to build your own cable,
      use a low-capacitance cable.   To
      further minimize the capacitance,
      connect only those functions (pins) that
      your application requires.
                        FRONT PANEL INDICATORS

SymbolMeaning    Status

 HS  High Speed  All calls above 2400 bps:  ON
                 during call progress, after
                 completion of dialing; OFF
                 during HST-mode link
                 negotiations at 2400 bps,
                 then ON during connection.
                 Remains ON after disconnect
                 until next call is originated
                 or answered.

 AA Auto Answer/ Answer mode only:  ON when
                 your modem is
                 Answer  in Auto Answer mode,
                 and when answering a call; in
                 HST mode, goes OFF if the
                 channel is reversed and your
                 answering modem transmits at
                 450 or 300 bps.  Also goes
                 OFF when the modem originates
                 a call.

 CDCarrier Detect   ON if DIP switch 6 is UP
                 (factory setting) and the
                 Courier receives a valid data
                 signal (carrier) from a
                 remote modem, indicating that
                 data transmission is
                 possible.  Also ON when the
                 CD override is on, DIP switch
                 6 DOWN.

 OH   Off Hook   ON when the Courier takes
                 control of the phone line to
                 establish a data link.

 RDReceived Data Flashes when the modem sends
                 result codes or passes
                 received data bits to the
                 computer or terminal.
 SD  Send Data   Flashes when the computer or
                 terminal sends a data bit to
                 the Courier.

 TRData Terminal ON if DIP switch 1 is UP
                 (factory setting) and
       Ready     the modem receives a DTR
                 signal from the computer or
                 terminal.  Also ON when the
                 DTR override is on, DIP
                 switch 1 DOWN.

 MR Modem Ready/ ON when the Courier is
                 powered on.
      Test Mode  Flashes when the modems
                 retrain, including online
                 fallback, or while the modem
                 is in Test mode.



SymbolMeaning    Status

 RS  Request to  ON if your terminal or
                 software supports RTS
        Send     and sends the RTS signal.
                 OFF if the Courier is set to
                 &R2 (Received Data hardware
                 flow control) and the
                 computer or terminal lowers
                 RTS.

 CSClear to Send ON until the modem lowers CTS
                 when Transmit Data hardware
                 flow control is enabled (&H1,
                 &H3).  Always ON during
                 synchronous connections.

SYN Synchronous  ON when the modem is set to
                 &M1 and
        Mode     enters synchronous mode.

ARQError Control Automatic Repeat Request.  ON
                 when the Courier is set to
                 &M4 or &M5 and successfully
                 connects with another modem
                 under error control.  Flashes
                 when the Courier retransmits
                 data to the remote modem.
                            DIP SWITCH SUMMARY

      

PURPOSE

      The DIP switches, located at the rear of
      the modem, are for adapting the modem to
      your equipment and personal require-
      ments.  The quick-configuration guide
      that comes with the modem indicates the
      recommended switch settings for many
      communications software packages.  If
      necessary, review your software
      documentation.

      Some users are able to move a single
      switch with a finger tip.  If this
      doesn't work for you, use a toothpick or
      other small instrument.


OPERATIONS

      The DIP switch settings are power-on
      defaults, read by the Courier when it is
      turned on.  If changed when the modem is
      on, switches 2-5, 7 and 9 require the
      ATZ (software reset) command to initiate
      the new settings.  If you've set switch
      8 UP to disable command recognition, and
      want to return the modem to Smart mode
      so that it responds to commands, you'll
      have to power off the modem, reset
      switch 8 DOWN, and power on the modem
      again.  The remaining (hardware)
      switches are automatically operative
      when set UP or DOWN.

      Factory
SwitchSetting   Function                     

  1     OFF     Data Terminal Ready Operations
                OFF Normal DTR operations:
                    computer must provide DTR
                    signal for modem to accept
                    commands; dropping DTR
                    terminates a call
                ON  DTR always ON (Override)

  2     OFF     Verbal/Numeric Result Codes
                OFF Verbal (word) results
                ON  Numeric results
      Factory
 SwitchSetting  Function                     

  3      ON     Result Code Display
                OFF Results suppressed
                ON  Results enabled

  4     OFF     Command Mode Local Echo
                OFF Keyboard commands
                displayed
                ON  Echo suppressed

  5      ON     Auto Answer
                OFF Modem answers on first
                ring
                ON  Auto answer disabled

  6     OFF     Carrier Detect Operations
                OFF Courier sends CD signal
                    when it connects with
                    another modem, drops CD on
                    disconnect
                ON  CD always ON (Override)

  7     OFF     Auxiliary, DIP Switch 3 ON
                OFF Result codes in Originate
                    and Answer mode
                ON  Result codes in Answer
                mode disabled

  8      ON     AT Command Set Recognition
                OFF Command recognition
                    disabled (Dumb Mode)
                ON  Recognition enabled (Smart
                mode)

  9     OFF     Escape Code (+++) Response
                OFF Modem hangs up, returns to
                    Command mode, sends NO
                    CARRIER result
                ON  Modem maintains
                    connection, returns to
                    Command mode, sends OK
                    result

  10    OFF     Power-on and ATZ Reset
                Software Defaults
                OFF Load from nonvolatile
                memory (NVRAM)
                ON  Load factory settings from
                    read only memory (ROM)
                                     continued
      Factory
 SwitchSetting  Function                     

 QUAD   OFF     RS-232 Transmit/Receive Pin
                Assignments
SWITCH          OFF Normal assignments; see
                    Pin Assignments in
                    Appendix B-1
                ON  Reversed Transmit/Receive
                    pins
                The need to change this switch
                setting is rare.  Carefully
                review your computer or
                terminal documentation before
                setting this switch DOWN.
                
                              DEFAULT SETTINGS

      

USER-PROGRAMMABLE DEFAULTS

      You can create your own default
      configuration and store it in
      nonvolatile random access memory (NVRAM)
      using the &W command described in
      Chapter 5.  As long as DIP switch 10 is
      UP when you power on the modem, your
      defaults are loaded into the modem's
      random access memory (RAM).  To view
      your NVRAM settings at any time, use the
      ATI5 command.

      Tables on the next two pages list the
      options you can store in NVRAM,
      including S-Register settings.  If DIP
      switch 10 is DOWN at power-on, the
      factory settings listed in the table are
      loaded instead.  The first time the
      modem is turned on, the NVRAM settings
      are the same as the factory settings.

      The following command example
      substitutes several user-defined
      defaults for factory settings.  The
      modem also stores the rate, word length
      and parity it detects from the AT
      command prefix.

             AT X4 &B1 &M5 &H1 M3 &W <Enter>





NVRAM Options        Factory Setting

Handshake option    B0/B1 V.32 bis mode/HST
mode
Normal/error control modes    &M4  Normal/ARQ
Data compression      &K1 Auto enable/disable
Transmit data flow control    &H0  Disabled

Rec'd. data hardware flow control  &R1  Ignore
RTS
Rec'd. data software flow control  &I0  Disabl
ed
DTE rate select       &B0 Detect from AT
                          command; variable
Link rate select      &N0 Variable

Result code subset     X1 Extended
Error-control response codes  &A1  Enabled
Tone/Pulse dialing      P Pulse dial
Online local echo      F1 Disabled
Speaker control        M1 ON during dial
                          through connect

Remote Digital Loopback (RDL) &T5  Deny RDL
Normal/Leased line    &L0 Normal phone line
Data Set Ready override&S0    Enabled
Synchronous clock source&X0   Modem
transmitter
Break handling        &Y1 Clear buffer, send
                          immediately

Stored telephone number&Z0-3=0     Blank
Pulse dial make/break ratio   &P0  U.S./Canada
Guard tone            &G0 U.S./Canada
Rack Controller Unit (RCU) Access  %R0  RCU
access disabled

Word length*            7
Parity*                 1 Even
DTE rate*           19.2K

   *  Detected by the modem from the AT
   prefix of the &W command that writes
   your defaults to NVRAM.  Set your
   software to the desired word length,
   parity, and DTE rate defaults before
   sending the modem the AT . . . &W
   string.

                                             
                                   
                               Factory
     NVRAM S-Register Options  Setting
     
     S2 Escape code character    43
     S3 Carriage Return character13
     S4 Line Feed character      10
     S5 Backspace character       8
     S6 Dial wait-time, sec.      2
     S7 Carrier wait-time, sec.  60
     S8 Dial pause, sec.          2
     S9 Carrier Detect time, 1/10th sec.     
     6
     S10Carrier loss wait-time, 1/10th
     sec.                         7
     S11Touch-Tone duration, spacing,
     msec.                       70
     S12Escape code guard time, 1/50th
     sec.                        50
     S13       Bit-mapped functions     0
     S15       Bit-mapped functions     0
     S19   Inactivity/hang up timer     0
     S21Break length, 1/100th msec.     1
     0
     S22              XON character     1
     7
     S23             XOFF character     1
     9
     S24Pulsed DSR duration, 2/100th sec.    
     150
     S26RTS/CTS delay time, 1/100th sec.     
     0
     S27       Bit-mapped functions     0
     S28V.32 handshake time, 1/10th sec.     
     8
     S32   Talk/Data Switch Options     1
     S34       Bit-mapped functions     0
     S38 Disconnect wait time, sec.     0
     
      *  Bit-mapped registers have up to eight
      functions.  See Appendix B-5 in the
      manual or the briefer summary in the
      Quick Reference Card.
S-REGISTER SUMMARY

      

USAGE

      The default values are those users
      typically require.  Change the settings
      with the ATSr=n command, where r is the
      register and n is a decimal value from
      0-255:

             ATS13=8 <Enter>

      The modem does not perform a value-range
      check.  Some values you select may not
      work with some equipment, and you'll
      have to readjust the settings.

      To display the contents of a register,
      use ATSr? as in this example:

             ATS20? <Enter>

 Register  Default  Function                      

   S0    See DIP    Sets the number of rings
                    on which to
         Switch 5   answer when in Auto Answer
                    Mode.  S0=0 disables Auto
                    Answer, the same as DIP
                    switch 5 DOWN (factory
                    setting).  S0=1 enables
                    Auto Answer and the modem
                    answers on the first ring.

   S1       0       Counts and stores the
                    number of rings from an
                    incoming call.

   S2       43      Stores the ASCII decimal
                    code for the escape code
                    character.  Default
                    character is +++.  A value
                    of 128-255 disables the
                    escape code.

   S3       13      Stores the ASCII decimal
                    code for the Carriage
                    Return character.

   S4       10      Stores the ASCII decimal
                    code for the Line Feed
                    character.

   S5       8       Stores the ASCII decimal
                    code for the Backspace
                    character.  A value of
                    128-255 disables the
                    Backspace key's delete
                    function.

 Register  Default  Function                      

   S6       2       Sets the number of seconds
                    the modem waits before
                    dialing.  If set to X2,
                    X4, or X6, the modem
                    ignores this register and
                    dials as soon as it
                    detects a dial tone (fast
                    dials).

   S7       60      Sets the number of seconds
                    the modem waits  for a
                    carrier.  May be set for
                    much longer  duration if,
                    for example, the modem is
                    originating an
                    international connection.

   S8       2       Sets the duration, in
                    seconds, for the pause (,)
                    option in the Dial command
                    and the pause between
                    command re-executions (>
                    and A> commands).

   S9       6       Sets the required
                    duration, in tenths of a
                    second, of the remote
                    modem's carrier signal
                    before recognition by the
                    Courier.

  S10       14      Sets the duration, in
                    tenths of a second,  that
                    the modem waits after loss
                    of carrier  before hanging
                    up.  This guard time
                    allows the modem to
                    distinguish between a line
                    hit, or other disturbance
                    that momentarily breaks
                    the connection, from a
                    true disconnect (hanging
                    up) by the remote modem.

                    While we do not recommend
                    connecting the modem to a
                    line with call waiting, if
                    you have call waiting you
                    may wish to adjust this
                    setting upward to prevent
                    the modem from
                    misinterpreting the signal
                    for a second call as a
                    disconnect by the remote
                    modem.  A better
                    alternative is to contact
                    your phone company to find
                    out how to temporarily
                    disable call waiting.

  S11       70      Sets the duration and
                    spacing, in milliseconds,
                    of dialed Touch-Tones.
  S12       50      Sets the duration, in
                    fiftieths of a second, of
                    the guard time for the
                    escape code (+++)
                    sequence.
 Register  Default  Function                      

  S13       0       Bit-mapped register.
                    Select the bit(s) you want
                    on and set S13 to the
                    total of the values in the
                    Value column.  For
                    example, ATS13=20 enables
                    bit 2 (value = 4) and bit
                    4 (value = 16).

                    BitValue  Result
                     0  1  Reset when DTR
                           drops
                     1  2  Reverse normal Auto
                           Answer operation:
                           on incoming RING,
                           enter Originate
                           Mode and look for
                           Answer tone
                     2  4  Disable 250 msec.
                           pause before result
                           code display
                     3  8  On DTR signal, Auto
                           Dial the number
                           stored in NVRAM at
                           position 0
                     4  16 At power on/reset,
                           Auto Dial number
                           stored in NVRAM at
                           position 0
                     5  32 Disable HST (used
                           for testing V.32
                           bis in Dual
                           Standard modems)
                     6  64 Disable MNP Level 3
                           (used for testing
                           Level 2)
                     7 128 Custom applications

  S14       0       Reserved.
 Register  Default  Function                      

  S15       0       Bit-mapped register.  To
                    set the register, see the
                    instructions for S13.

                    BitValue  Result
                     0  1  Disable the modem's
                           extra high-
                           frequency
                           equalization if it
                           causes problems on
                           shorter-link
                           callsêHST modems
                           only
                     1  2  Disable online
                           fallback
                     2  4  Disable 450 bps
                           back channel
                     3  8  Reset non-ARQ mode
                           Transmit buffer
                           from 1.5K bytes to
                           128*
                     4  16 Disable MNP Level
                           4; retransmitting
                           the larger Level 4
                           data blocks may be
                           a problem if you
                           expect a great
                           number of errors
                           during a call
                     5  32 Set backspace key
                           to delete
                     6  64 Some earlier 2400-
                           bps MNP modems, not
                           made by USRobotics
                           or Microcom, were
                           not fully
                           compatible with the
                           MNP protocol.  If
                           you have difficulty
                           making a successful
                           2400-bps MNP
                           connection with a
                           remote MNP modem,
                           it may be because
                           of this incompati-
                           bility.  Set S15 to
                           64 and try again to
                           make the
                           connection.
                     7 128 Custom applications
                           only

      * The default 1.5K byte non-ARQ buffer
      allows data transfer with X- and Ymodem-
      type file transfer protocols without
      using flow control.

      The 128-byte option allows remote users
      with slower modems to stop data you're
      transmitting from scrolling off their
      screens.  When remote users send your
      computer an XOFF (Ctrl-S) and you stop
      transmitting, the data in transit from
      your modem's buffer doesn't exceed the
      size of their screen.
 Register  Default  Function                      

  S16       0       Bit-mapped test register.
                    To set the register, see
                    the instructions for S13.
                    For information on
                    testing, see Appendix F.

                    BitValue  Result
                     0  1  Analog Loopback
                     1  2  Dial test
                     2  4  Test pattern
                     3  8  Remote Digital
                           Loopback
                     4  16 Reserved
                     5  32 Reserved
                     6  64 Reserved

  S17       0       Reserved.

  S18       0       Test timer for software-
                    initiated loopback testing
                    (&Tn), disabled when S18
                    is set to 0.  See Appendix
                    F.  Used to set the
                    duration of testing, in
                    seconds, before the modem
                    automatically times out
                    and terminates the test.

  S19       0       Sets the duration, in
                    minutes, for the
                    Inactivity Timer.  The
                    timer activates when there
                    is no data activity on the
                    phone line and at the
                    timeout the modem hangs
                    up.  S19=0 disables the
                    timer.

  S20       0       Reserved.
  S21       10      Sets, in 10-millisecond
                    units, the length of
                    Breaks sent from the modem
                    to the DTE.  Applies to
                    ARQ mode only.

  S22       17      Stores the ASCII decimal
                    code for the XON
                    character.

  S23       19      Stores the ASCII decimal
                    code for the XOFF
                    character.

  S24      150      Sets the duration, in 20-
                    millisecond units, between
                    pulsed DSR signals when
                    the modem is set to &S2 or
                    &S3.  The default is 3
                    seconds.
 Register  Default  Function                      

  S25       0       Reserved.

  S26       1       Sets the duration, in 10-
                    millisecond units, of the
                    delay between RTS and the
                    modem's CTS response in
                    synchronous mode.

  S27       0       Bit-mapped register.  To
                    set the register, see the
                    instructions for S13.

                   BitValue   Result
                    0   1  Enable CCITT V.21
                           modulation at 300
                           bps for overseas
                           calls.  In V.21
                           mode, the modem an-
                           swers both Bell 103
                           and V.21 calls, but
                           only originates
                           V.21 calls.
                    1   2  Enable unencoded
                           (non-trellis-coded)
                           modulation in V.32
                           mode; this option
                           is part of the
                           CCITT V.32
                           recommendation, but
                           is rarely used.
                    2   4  Disable V.32
                           modulation; used
                           for testing HST
                           modulation in Dual
                           Standard modems.
                    3   8  Disable 2100 Hz
                           answer tone to
                           allow two V.42
                           modems to connect
                           more quickly.
                    4   16 See below.
                    5   32 See below.
                    6   64 Reserved.
                    7  128 Unusual software
                           incompatibility.
                           Some software may
                           not accept 7200,
                           12000, 14400 and
                           16800 bps result
                           codes.  This
                           setting disables
                           the codes and
                           displays the 9600
                           code instead.  The
                           call's actual rate
                           can be viewed on
                           the ATI6 screen.
                   continued on following page
      
 Register  Default  Function                      

                    Error control handshaking
                    options:  select the total
                    values of bits 4 and 5.

                  Bit 4Bit 5  Result
                    0   0  Complete
                           handshaking
                           sequence:  V.42
                           Detection, LAPM
                           error control, MNP.
                    16  0  Disable MNP.
                    0   32 Disable V.42
                           Detection and LAPM.
                    16  32 Disable Detection
                           phase, if you know
                           that the remote
                           modem does LAPM,
                           but not the
                           Detection phase.
      
  S28       8       Sets the duration, in
                    tenths of a second, of the
                    extra 3000/600 Hz answer
                    tones sent during V.32
                    handshaking.  Default = 8
                    (.8 seconds).  This gives
                    V.32 modems additional
                    time to connect in V.32
                    mode before timing out.

                    If there is difficulty
                    answering older, manually
                    operated V.32 modems, for
                    example, modems that
                    require a button to be
                    pushed in order to dial,
                    try lengthening the
                    duration of the extra
                    tones.
                    
                    Setting S28 to zero
                    eliminates the extra
                    tones, resulting in a
                    faster connect time if,
                    for example, the modem is
                    set to use V.21 modulation
                    (300 bps) or V.23
                    modulation (1200 bps).Sets
                    the duration, in 1/10ths
                    of a second, of the V.32
                    handshake.
 Register  Default  Function                      

  S32       1       Sets the function for the
                    Voice/Data switch.  This
                    is not a bit-mapped
                    register.  Select the
                    value for the desired
                    function, for example,
                    ATS32=6.
                       Value  Result
                        0  Disabled     
                        1  Voice/data,
                           Originate mode
                        2  Voice/data, Answer
                           mode
                        3  Redial last number
                        4  Dial number stored
                           at
                           position 0
                        5  Auto Answer on/off
                           toggle
                        6  Reset the modem
                        7  Initiate Remote
                           Digital Loopback
                        8  Busy out phone line
                           toggle

  S34       0       Bit-mapped register.  See
                    instructions for S13.
                    BitValue  Result
                    0   1  Disable V.32 bis.
                           Used for
                           troubleshooting;
                           USRobotics'
                           Technical Support
                           may require that
                           you disable V.32
                           bis for testing
                           purposes.    
                    1   2  Disable the modem's
                           enhanced, propri-
                           etary V.32 bis
                           modulation.  Used
                           for
                           troubleshooting.
                    2   4  Disable the faster
                           retrains that occur
                           during proprietary
                           V.32 bis
                           modulation.  Used
                           for trou-
                           bleshooting.
                    3   8  Enable V.23.
                           Required for some
                           British
                           connections.
                    4   16 Change MR LED to
                           DSR
                    5   32 Enable MI/MIC; see
                           Appendix E-5.
                    6   64 Reserved
                    7  128 Reserved
 Register  Default  Function                      

  S38       0       Sets the duration, in
                    seconds, before a forced
                    hang-up and clearing of
                    the Transmit buffer, when
                    DTR drops during an ARQ
                    call.  This is provided to
                    allow time for a remote
                    modem to acknowledge
                    receipt of all transmitted
                    data.  Default = 0:  the
                    modem immediately hangs up
                    when DTR drops.  If the
                    modem receives the ATH
                    command, it ignores S38
                    and immediately hangs up.


                                   ASCII CHART


