            CHAPTER 7.  SYNCHRONOUS OPERATIONS

      


OVERVIEW

      Synchronous mode is required for users
      who need to call, or receive calls from,
      a Host computer of a large network.  The
      Host is usually a mainframe.  The user's
      device is often called a terminal, even
      if it is a powerful personal computer.

      NOTE:  The term DTE in the following
      discussion means Data Terminal
      Equipment, the end-to-end equipment
      involved in data communications.  DTE
      denotes your terminal or computer and
      the remote computer.

   Data Rate Synchronization

      During synchronous operations, transmit
      and receive clocks at both ends of the
      phone link control the precise timing of
      the data flow.  The communications
      equipment at the remote DTE (the modem
      and network software) and your modem and
      DTE must all handle the data at the same
      speed.

   Protocol Compatibility

      The devices at both ends of the link
      must also use the same protocol.  These
      devices are exclusive of the Courier
      modem, which is transparent during
      synchronous communications.  The
      Courier's V.42 and MNP error control
      capabilities are not used.
      The link protocol may be SDLC
      (Synchronous Data Link Control), HDLC
      (High-Level Data Link Control), BISYNC
      (Binary Synchronous Control) or another
      protocol determined by the mainframe
      manufacturer.  These protocols format
      the data into blocks or frames, add
      control information, and usually provide
      error control.


REQUIREMENTS

      Courier modems in asynchronous mode
      adapt to many conditions of remote
      asynchronous modems.  But synchronous
      connections to a mainframe require
      strict adherence to specific operating
      parameters.  If you are operating a
      terminal (not a personal computer)
      designed for a particular network, you
      probably need only set the Courier
      properly before calling or
      answering.  If you have a personal
      computer, however, you must find out
      what hardware and software you need
      before setting the Courier for
      synchronous calls.


What You Need to Know

      The network's communications management
      staff can supply information on the
      following requirements:

         ù The protocol needed for your calls
         ù The software support needed to log
           into the network, for example, a
           specific communications package or
           interface board
         ù The phone number, if you will be
           calling instead of answering
         ù Whether you need to change the
           duration of the modem's Request to
           Send/Clear to Send (RTS/CTS) delay.
           Once the Courier establishes a
           synchronous connection, it waits 10
           milliseconds (the default value)
           after receiving an RTS signal from
           the DTE before responding with a
           CTS signal.
           If it's necessary to change the
           duration of the RTS/CTS delay, you
           need to reset Register S26.  See
           the S-Register Summary in Appendix
           B.
         ù Any restrictions about when you can
           call


The RS-232 Interface

      Transmit and Receive synchronous timing
      pins are required at the RS-232
      interface.  You'll need either pin 15 or
      pin 24 for Transmitter timing signals,
      depending on whether the modem (pin 15)
      or the DTE (pin 24) generates the
      signals.  You'll also need pin 17, for
      Receiver timing signals.  If you're
      using an interface adapter card,
      described below, the adapter will
      implement these pins.  If you're
      building your own cable, review the RS-
      232 Interface, in Appendix B.


The Synchronous Adapter Card

      As a rule, personal computers do not
      support synchronous communications.  You
      will probably have to purchase and
      install
      a synchronous adapter card.  These cards
      are multifunction boards that provide
      the following functions:

         ù A synchronous port from the DTE to
           the modem.
         ù One or more synchronous protocols.
           Be sure to find out which protocol
           the Host mainframe requires before
           you purchase an adapter.
         ù Additional software functions.  For
           example, you need to identify the
           type of computer or terminal you
           are using to the mainframe
           software.  You will most likely
           also have to specify your
           application, that is, identify the
           mainframe resources you want to
           use.


SETTING THE MODEM

      Once the modem is in synchronous mode it
      no longer recognizes commands.  Before
      attempting to connect in a synchronous
      network, use the following instructions
      to configure the modem while it is still
      in asynchronous mode.

      NOTE:  Be sure that DIP switch 1 is UP
      (factory setting).  The Data Terminal
      Ready (DTR) override must be OFF so that
      the Courier detects when the DTE raises
      and lowers the DTR signal.

      To set the modem, follow the
      instructions for issuing commands to the
      modem that are in Chapter 2, Testing the
      Installation.  Commands begin with a
      required AT prefix and end with a
      required Carriage Return, which we
      denote with the symbol <Enter>.  For
      example, the following command sets the
      modem to synchronous mode:

             AT &M1 <Enter>


Modulation/Link Rate (Bn, &Nn)

      Use the following guidelines for your
      Courier type.

      V.32 bis modems:  If the modem is
      connecting with another USRobotics V.32
      bis modem, set both modems to B0 and to
      a variable link rate, &N0.  The modems
      will connect at the highest possible
      rate.

      If the Courier V.32 bis is to connect
      with a V.32 modem, set the Courier to B0
      and try a variable link rate first, &N0.
      If that
      doesn't work, try a fixed link rate of
      &N6 (9600 bps) or &N3 (2400 bps).

      HST modems:  We do not recommend
      synchronous communications for these
      modems because of their asymmetrical
      modulation, unless you are connecting
      with another USRobotics HST modem.  In
      that instance, set both modems to B1.

      For high speed connections with another
      HST modem, set both modems to a fixed
      link rate, &N6 (9600 bps), &N8 (14.4K
      bps), or &N9 (16.8K bps).  Find out
      first, however, if the Mainframe accepts
      link rates over 9600 bps.  For 2400-bps
      connections and lower, set both modems
      to a variable link rate, &N0.

      Dual Standard modems:  Set the Dual
      Standard modem to B0.  Try a variable
      link rate setting (&N0) first.  If that
      doesn't work, you may have to set a
      fixed link rate, for example, &N6 (9600
      bps).


Flow Control

      Only the following Courier settings are
      allowed:  &H0 or &H1, &I0, &R0 or &R1.
      See Chapter 4 for more information on
      flow control settings.


Transmit Clock Source (&Xn)

      This setting specifies whether the
      Courier or your DTE generates the
      Transmit clock timing signals for a
      synchronous call.  Most users will
      require the default setting, &X0.
      &X0 The Courier is the source of the
          Transmit clock timing signals and
          sends them to your DTE over the RS-
          232 interface.  Default.

      &X1 The DTE is the source of the
          Transmit clock timing signals and
          sends them to the Courier over the
          RS-232 interface.  This setting is
          used typically in leased line
          multiplexed operations.
          (Multiplexors divide the phone
          channel so that the channel carries
          several calls at the same time.)  We
          do not recommend this setting for
          HST modems.

      &X2 The Courier's Receiver clock is the
          source of the timing signals.  The
          signals are looped to the Transmit
          clock and sent to your DTE over the
          RS-232 interface.  This setting is
          only used in those systems that
          require synchronization of
          data flowing in both directions.  We
          do not recommend this setting for
          HST modems.


Synchronous Mode (&M1)

      The modem must be set to &M1 for
      synchronous operation.  The modem
      remains in asynchronous command mode
      until it makes a synchronous connection
      with a remote modem.  Upon connection,
      the Courier enters synchronous mode and
      sends synchronous timing signals to your
      DTE.  Note that the Courier does not
      respond to commands until it returns to
      asynchronous Command mode.


DIALING OUT

      Be sure you have set the modem correctly
      for all of the functions just described
      under Setting the Modem, including the
      &M1 setting.  The following is a sample
      command:

             AT &N6 &M1 <Enter>

      To call a synchronous Host computer, do
      the following:

      1. Be sure the modem is assembled
         according to the directions in
         Chapter 2:  a) using the bottom label
         as a guide, plug one end of the phone
         cord that came with the modem into
         the modem jack indicated by the wall
         jack icon;  b) plug the other end of
         the phone cord into your wall jack;
         c) plug your phone's cord into the
         modem's second jack, indicated by the
         phone icon.
      2. Pick up your phone handset and dial
         the remote system.  As soon as you
         finish dialing, press in the
         Voice/Data switch.  The modem goes
         off hook in Originate mode and makes
         the connection.  You can hang up your
         phone.

      NOTE:  If you've changed the setting of
      the Voice/Data switch, insert S32=1 in
      the AT . . . &M1 command string
      described above.  This resets the
      switch's function, so that when you
      press the switch, the modem goes off
      hook in Originate mode.


ANSWERING

      You have two options, listed on the next
      page:

   Synchronous Answer Mode

      1. Before powering on the modem, set DIP
         switch 5 UP to enable Auto Answer.
         Then power on the modem and follow
         the previous instructions under
         Setting the Modem.

      OR

      2. When the modem is operating with DIP
         switch 5 DOWN, Auto Answer
         suppressed, follow the previous
         instructions under Setting the Modem,
         but insert S0=1, to enable Auto
         Answer, in the AT . . . &M1 command
         string.

      The modem responds automatically to an
      incoming call, enters synchronous mode
      and, if set to &X0, begins sending
      synchronous timing signals to your DTE.


HANGING UP

      The modem remains online until the
      remote modem disconnects or your
      software causes the DTE to drop DTR.
      The Courier sends the NO CARRIER result
      code if result codes are enabled, and
      returns to asynchronous Command mode.
