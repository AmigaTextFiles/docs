



                                                                COURIER HST

                                                                  CHAPTER 5
                                                          INTERNAL CONTROLS


          The commands explained in this chapter are of two types.  The
          first group concerns default configurations, for example, writing
          your own power-on defaults to nonvolatile random access memory
          (NRAM).  The remaining commands are used to select the modem's
          local operating characteristics, for a current session or to
          include in your default configuration.  They include result code,
          echoing, and other options.

          NOTE:  When you change a default setting during a session, the
          modem retains that setting until you do one of the following:

               o    Select a new setting.

               o    Issue the ATZ command to reset the modem to its
                    software defaults.  If DIP switch 10 is OFF, the modem
                    resets to the defaults stored in nonvolatile memory
                    (NRAM).  If DIP switch 10 is ON, the modem resets to
                    the factory settings stored in read-only memory (ROM).

                    Issuing the AT&F command resets the modem to its
                    factory settings.

               o    Turn the modem off.

          SETTING/USING DEFAULTS

          The Courier HST is shipped from the factory with its software
          defaults stored in read only memory (ROM) and also in
          programmable nonvolatile random access memory (NRAM).  The
          inclusion of NRAM allows you to program your own configuration
          and save the settings as your power-on defaults.

          Writing Defaults to NRAM (&W)

          If you store your own default software settings in NRAM, the
          Courier loads those settings when it is powered on if DIP switch
          10 is UP (factory setting).

          A list of the settings stored in NRAM is in Appendix B-4.  You
          can also display the settings at any time by selecting option 5
          of the I (inquiry) command:

                    ATI5 <Enter>

          If you've sent the modem commands to change settings throughout
          your session and want to save your current configuration, issue
          the &W command:

                    AT&W <Enter>


                                                                         5-1








                                                                COURIER HST

          You can also specify your configuration in a single command
          string that includes the &W command, as in this example:

                    AT X4 &B1 &M5 &H1 &I1 M3 &W <Enter>



















































                                                                         5-2








                                                                COURIER HST

          Modify one or several settings at any time, for example:

                    AT X7 &W <Enter>

          Loading the Factory Defaults (&F)

          Factory defaults are permanently stored in read only memory
          (ROM).  They are listed in the table of NRAM settings in Appendix
          B-4.  You can set the modem to its factory defaults during any
          session by typing:

                    AT&F <Enter>

          If DIP switch 10 is DOWN, the factory settings are loaded at
          power on instead of the NRAM defaults.

          Resetting to NRAM Defaults (Z)

          If DIP switch 10 is UP, reset the modem to its NRAM defaults by
          typing the following command:

                    ATZ <Enter>

          NOTE:  On reset, the modem also checks the status of DIP switches
          2-5 and 9:  if you change the setting of any of these switches
          when the modem is on, use the Z command to initiate the new
          setting(s).

          Storing Telephone Numbers (&Zn=s)

          The modem stores up to four frequently called phone numbers.
          Write the numbers to NRAM with the &Zn=s command, where n is
          position 0 through 3, and s is the number-string.

          The number-string may be up to 36 characters long, including any
          Dial command options.  The following example includes the tone-
          dial (T) and comma pause options of the Dial command.  The number
          is stored at position 0, assumed because there is no n parameter.

                    AT&Z=T9,,5551234 <Enter>

          The next example stores the phone number and user's access code
          for a long distance phone service.

                    AT&Z1=5551234,,9876,, <Enter>

          Dial the stored number using the DSn command, for example, DS2
          <cr>.  Additional examples are in Chapter 6.

          NOTE:  Don't include modem settings in the &Z string.  If the
          call requires a special setting, insert the appropriate command
          when you dial the stored number.  In the following example, &M0



                                                                         5-3








                                                                COURIER HST

          (no error control) is substituted for the user's error control
          default setting:

                    AT&M0DS2 <Enter>

          Then reset the error control mode after the call, for example:

                    AT&M4 <Enter>

          RESULT CODES

          Four commands control the result codes the modem returns to the
          screen:

               Vn   Numeric/verbal response mode
               Xn   Result code subset
               Qn   Display/suppress all result codes
               &An  Display/suppress /ARQ result codes

          Response Modes (Vn)

          Result codes are sent to the screen in either words (Verbal Mode)
          or numbers (Numeric Mode).  The Courier is factory set to verbal
          messages when it is powered on (DIP switch 2 is UP).  Use the V
          command to select verbal/numeric result codes independently of
          the switch setting.

          V0   Numeric Mode.  Numeric result codes are followed by a
               Carriage Return but no Line Feed, as in the following
               example, where a 3 is returned (for NO CARRIER).

                    ATD1234567 <Enter>
          becomes
                    3TD1234567 <Enter>

          V1   Verbal Mode.  Verbal responses are preceded and followed by
               a Carriage Return and a Line Feed, as in the following
               example:

                    ATD1234567 <Enter>
                    NO CARRIER

          Result Code Sets

          The format of the command to select a result code set is ATXn,
          where n is a value from 0 through 7:

          X0   Basic subset, returns the first five codes (0-4) in the
               following table.

          X1   Extended subset, codes 0-5, 10 and 13.  Default.  This set
               adds rate-specific CONNECT messages to the Basic set.



                                                                         5-4








                                                                COURIER HST

          X2-7 These options offer advanced call-progress codes and
               functions.

          
                             RESULT CODES OPTIONS TABLE
          
                                                    Commands
                                          X0  X1  X2  X3  X4  X5  X6  X7
             Result Codes
              0/OK                         X   X   X   X   X   X   X   X
              1/CONNECT                    X   X   X   X   X   X   X   X
              2/RING                       X   X   X   X   X   X   X   X
              3/NO CARRIER                 X   X   X   X   X   X   X   X
              4/ERROR                      X   X   X   X   X   X   X   X
              5/CONNECT 1200                   X   X   X   X   X   X   X
              6/NO DIAL TONE                       X       X       X   X
              7/BUSY                                   X   X   X   X   X
              8/NO ANSWER                              X   X   X   X   X
              9/Reserved for future use
             10/CONNECT 2400                   X   X   X   X   X   X   X
             11/RINGING                                        X   X   X
             12/VOICE                                          X   X
             13/CONNECT 9600                   X   X   X   X   X   X   X
          
             Functions
             Adaptive Dialing                      X   X   X   X   X   X
             Wait for 2nd Dial Tone (W)                X   X   X   X   X
             Wait for Answer (@)                       X   X   X   X   X
             Fast Dial                             X       X       X   X

          Options Summary

          1.   An additional group of CONNECT messages (15-17) indicates an
               error-control connection with an HST- or MNP-compatible
               modem.  See /ARQ Result Codes (&An) later in this section.

          2.   Adaptive dialing causes the modem to automatically use
               Touch-Tone dialing and, if that doesn't work on the line,
               revert to pulse dialing.

          3.   W and @ are Dial options described in Chapter 6.

          4.   Fast dial causes the modem to dial as soon as a dial tone is
               detected, rather than wait the normal two  seconds.  If
               there is no dial tone, the modem times out after 5 seconds
               and sends the NO DIAL TONE (6) result.

          5.   After sending the BUSY (7) result code, the modem hangs up.

          6.   The NO ANSWER (8) result code is returned, instead of the
               standard NO CARRIER, when the @ option is used and there is
               no answer at the remote end.



                                                                         5-5








                                                                COURIER HST

          7.   After sending the VOICE (12) result code, indicating a voice
               answer, the modem hangs up.

          8.   X6 implements all result codes and functions.  X7 includes
               all of X6 except the VOICE (12) result.

          Quiet Mode (Qn)

          Enable/suppress the display of result codes.  The Courier is
          shipped with DIP switch 3 DOWN and defaults to display ON when
          the modem is powered on. The commands here control the display
          independently of the switch setting.

          Q0   Result codes are displayed.

          Q1   Result codes are suppressed (made quiet).  This is useful
               when the messages might interfere with the data stream.

          /ARQ Result Codes (&An)

          If these codes are enabled, one of the following results is sent
          to the screen when a successful HST or MNP connection is
          established.  (A setting of X1 or higher is assumed.)

               (15) CONNECT 1200/ARQ
               (16) CONNECT 2400/ARQ
               (17) CONNECT 9600/ARQ

          &A0  /ARQ codes are disabled.  If your software does not allow
               the /ARQ result codes, use this setting.  Suppression of the
               /ARQ codes doesn't affect the error control protocol; the
               modem returns the standard CONNECT messages.

          &A1  /ARQ codes are displayed. Default.

          LOCAL ECHO

          Two commands control what the modem displays on the screen.  The
          En command applies to when the modem is in Command Mode.  The Fn
          command applies to when the modem is online to another system.

          Command Mode Local Echo (En)

          The En command enables/disables the display of your typed
          commands.  If double characters appear on the screen, both the
          modem's local echo and the software's local echo are on.  The
          Courier is shipped with DIP switch 4 UP, for local echo ON when
          the modem is powered on.  The commands here control the echo
          independently of the switch setting.

          E0   Command Mode echo OFF.  The modem does not display keyboard
               commands.

          E1   Command Mode echo ON.

                                                                         5-6








                                                                COURIER HST

          Online Local Echo (Fn)

          This command causes the modem to display a copy of the data it is
          transmitting to another system.  Many systems, however, return a
          copy of received data, which is called a remote echo.  If the
          modem's online echo is ON and there is remote echoing, double
          characters appear on the screen.

          In some microcomputer documentation the online echo setting is
          called the "Duplex" setting, although the term is not technically
          accurate.

          F0   Online echo ON.  Sometimes called Half Duplex.  As the modem
               transmits data to a remote system, it also sends a copy of
               the data to the screen.

          F1   Online echo OFF.  Sometimes called Full Duplex.  This is the
               default.

          THE AUDIO MONITOR

          The modem's speaker enables you to monitor the dial-connect
          process.  There are several ways to make use of this feature.
          After the Courier 2400 dials a number, it waits 30 seconds for a
          high-pitched answer tone from the other modem, immediately
          followed by data signals, called a carrier.  These signals must
          occur before a data link is established.

          If someone answers the phone, or if the line is busy, the modem
          sends the message NO CARRIER to your screen after 30 seconds.  If
          you listen to the speaker, you can respond immediately instead of
          waiting for the modem to time out.

          For example, if you hear someone answering the call, you might
          pick up the phone and talk to the person or cancel the call by
          pressing any key on the keyboard.  In the same way, you can
          cancel a call when you hear a busy signal.

          You can also hear if dialing is proceeding too fast for the
          system.  Terminate the call (press any key) and reenter the Dial
          command with a comma or two to allow more time.  This applies to
          accessing an outside line (dialing 9, for example) as well as to
          checking out whether a public service has enough time to respond
          to your account number or other code.

          Speaker Control (Mn)

          You can disable the speaker entirely or set the speaker to
          monitor different segments of the dial-connect sequence.

          M0   The command ATM0 turns the speaker OFF entirely so that you
               don't hear the modem go off hook, dial, etc.



                                                                         5-7








                                                                COURIER HST

          M1   The speaker is ON until Carrier Detect.  Default.  You can
               monitor call progress until the Courier detects the remote
               modem's carrier signals, or until the 30-second timeout and
               result code display.  At Carrier Detect, the modem
               disconnects the speaker and data transmission sounds are
               suppressed.

          M2   The speaker is ON continuously, including during data
               transmission.

          M3   The speaker doesn't go ON until after the last digit is
               dialed, then goes OFF at Carrier Detect.

          MODEM CLOCK USAGE (Kn)

          The modem clock is used as a call-duration timer or as a real-
          time clock.  Used in conjunction with the In (Inquiry) command,
          the modem returns the duration of the last call in hours,
          minutes, and seconds or the actual time.

          K0   Call-Duration Mode.  Default.  The modem times each call
               from CONNECT to NO CARRIER, and stores the information until
               the next connection or the modem is reset.  At ATI3 <cr>,
               the modem displays the call's duration.  If you wish, you
               can maintain a call log by printing this information after
               each call.

          K1   Real-Time Mode,  The clock operates as a real-time clock
               regardless of the presence of a carrier.  Set the clock
               (military time) by specifying the hour, minutes, and seconds
               as in the following example, which sets the clock at the
               real time of 1:30 p.m.

                    ATI3=13:30:00 K1 <Enter>

               At ATI3, the modem displays the real time.  You'll need to
               set the clock each time you power on the modem, but the
               clock is not affected by the reset command, ATZ.

          TRANSMITTER ENABLE/DISABLE (Cn)

          If an additional terminal and modem share the phone line for
          monitoring purposes, the second modem is placed in Receive Only
          state by disabling its transmitter.

          C0   Transmitter disabled.  Modem is set to Receive Only.

          C1   Transmitter enabled.  Default.

          BREAK HANDLING (&Yn)

          The Courier HST allows you to send a break to abort data transfer
          without disconnecting from the data link.  The following options
          are available.

                                                                         5-8








                                                                COURIER HST

          NOTE:  A destructive Break to the modem resets its data
               compression tables.  The remote modem also resets its data
               compression tables.

          &Y0  Destructive, no Break transmitted:  the modem clears the
               data from its transmit buffer (all data is lost) but does
               not pass on the Break to the remote modem.

          &Y1  Destructive, expedited:  the modem clears the buffer and
               immediately sends a Break to the remote modem.  This is the
               default setting.

          &Y2  Nondestructive, expedited:  the modem retains buffer data,
               but immediately sends a Break to the remote modem.

          &Y3  Nondestructive, unexpedited (send Break in sequence):  the
               modem transmits any buffer data received before the Break,
               sends the Break, and then sends any subsequent input from
               the computer or terminal.

          THE S-REGISTERS

          The S-Registers are used to set various timing parameters and
          other operations, including redefinition of selected ASCII
          characters.  The defaults typify the requirements of most users.

          A detailed summary of the S-Register functions is in Appendix B-
          5.  Less detailed summaries are on the bottom label of the modem
          case and in the Quick-Reference card.


























                                                                         5-9




