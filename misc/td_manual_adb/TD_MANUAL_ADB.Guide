@DataBase "TrapDoorADB_Guide"
@Author "Alexandre Del Bigio 2_320_104_11"
@Node Main "TrapDoor"
AmigaGuide version by Alexandre Del Bigio (Fido 2:320/104.11)

                                 TrapDoor®
                          The Real Amiga Porridge
                               Version 1.83
                          Copyright (c) 1989-1992
                   Maximilian Hantsch and Martin Laubach
                            All rights reserved

        @{ " 1.  Introduction " Link "1. Introduction" }
        @{ " 2.  Installation " Link "2. Installation" }
        @{ " 3.  Basics " Link "3. Basics" }
        @{ " 4.  Configuration Commands " Link "4. Configuration Commands" }
        @{ " 5.  Example Setup " Link "5. Example Setup" }
        @{ " 6.  The Outbound Directory " Link "6. The Outbound Directory" }
        @{ " 7.  The Inbound Directory " Link "7. The Inbound Directory" }
        @{ " 8.  Bugs? Poof! They're all features! " Link "8. Bugs? Poof! They're all features!" }
        @{ " 9.  Past & Future " Link "9. Past & Future" }
        @{ " 10. Registration " Link "10. Registration" }
        @{ " 11. Politics " Link "11. Politics" }
        @{ " 12. Acknowledgements " Link "12. Acknowledgements" }

@EndNode
@Node "1. Introduction"
  1. Introduction

       This manual is a description of TrapDoor Amiga, explaining how
     to set up the software in order to send and receive mail and
     attached files.  Please refer to the documentation of other
     Fidonet packages, for example oMMM, ConfMail, Foozle or even
     better, the manual for TrapToss, for additional information on
     file attaches, netmail routing, echomail and other topics you
     are missing in here.

       If you are new to Fidonet, we recommend to read TrapDoor's
     Fidonet Manual (FidoNet.Man) first.

       Please read the entire manual before using TrapDoor.

       TrapDoor is a FidoNet-compatible front mailer for Amiga
     systems. It transfers mail from/to other FidoNet-compatible
     systems using @{ "WaZoo " Link "4.3.104. (NO)WAZOO" } @{ "DietIfna" Link "4.3.32. (NO)DIETIFNA" } and @{ "ZedZap " Link "4.3.107. (NO)ZEDZAP" } technique as well as the
     lowest common FidoNet protocol, FTS-0001 (Lotek). It also
     features the latest @{ "EMSI" Link "4.3.36. (NO)EMSI" } (Electronic Mail Standard
     Identification) handshake that allows two mailers to exchange
     lots of interesting information at session startup, for example
     @{ "AKA" Link "4.3.8. AKA akalist" } addresses.

       TrapDoor handles both sending and receiving of files and mail
     packets and is fairly easy to set up and use. It works well with
     high speed modems, and includes all the features found on
     standard FidoNet mailers, such as making and processing of
     filerequests, password-protected mail sessions, automatic
     nodelist lookup and much more.


@EndNode
@Node "2. Installation"
  2. Installation

        @{ " Main Installation " Link "Main Installation" }

        @{ " 2.1. The Keyfile " Link "2.1. The Keyfile" }
        @{ " 2.2. Point Setup " Link "2.2. Point Setup" }
        @{ " 2.3. Node Setup " Link "2.3. Node Setup" }
        @{ " 2.4. The Modem " Link "2.4. The Modem" }
        @{ " 2.5. Example Modem Settings " Link "2.5. Example Modem Settings" }

@EndNode
@Node "Main Installation"

       TrapDoor is a CLI based application, it can't be run from
     Workbench. It accepts a wide range of keywords that allow an
     easy and accurate configuration.

       Upon invocation, TrapDoor will try to find a file
     "TrapDoor.cfg" in the current directory or in "MAIL:". This file
     should contain your default configuration data for TrapDoor,
     like your system's name, your nodenumber etc. (The option of
     saving the configuration data within the program file, which was
     available in earlier versions of TrapDoor, has been removed.)
     You should set up at least the @{ "NAME" Link "4.3.63. NAME board's name" }, @{ "NODE" Link "4.3.64. NODE zone_net_node_point" }, @{ "SYSOP" Link "4.3.99. SYSOP sysop's-name" }, @{ "BOSS" Link "4.3.23. BOSS zone_net_node_point" }, and @{ "CALL" Link "4.3.24. CALL number | fido-address" }
     parameters.

       If you wish to change any parameters from the settings in your
     configuration file, just list the appropriate configuration
     keywords on the command line when you invoke TrapDoor.

       Please note that the keywords are neither case nor position
     sensitive.

@EndNode
@Node "2.1. The Keyfile"
  2.1. The Keyfile

       TrapDoor is a Shareware program. The unregistered version will
     pop up requesters at the start and end of the program, and you
     will have to click some buttons with your mouse, or press some
     keys. Also, a few other functions are disabled in the
     unregistered version:

       - it will exit after every call
       - it will not respond to file requests

       Once you register, you will receive a so-called keyfile (to
     "unlock" your TrapDoor), which will make these requesters go
     away and enable all features of TrapDoor.

       For more information about "Shareware", and the registration
     process, please see the "@{ "Registration" Link "10. Registration" }" chapter.



@EndNode
@Node "2.2. Point Setup"
  2.2. Point Setup

       In a typical Amiga point setup, the installation of TrapDoor
     will merely consist of a few steps. If you are not familiar with
     FidoNet and FidoNet Point Systems at all, please read TrapDoor's
     FidoNet Manual (FidoNet.Man) first.

       1. Copy the executable "TrapDoor" to a directory where you
          store your executable files. Copy "traplist.library" to
          "LIBS:".

       2. Create a new subdirectory, and assign "MAIL:" to it, if you
          not already have one. Create subdirectories "MAIL:Inbound"
          and "MAIL:Outbound".

       2a. If you have already registered TrapDoor, and you have a
          keyfile called "TrapDoor.key", copy this to your "MAIL:"
          directory.

       3. Copy the default configuration file to MAIL:TrapDoor.cfg.
          There is an example Point configuration file in the
          Examples/ directory called Point.cfg.

       4. Use a text editor to edit MAIL:TrapDoor.cfg to suit your
          system. (You can use Ed or MicroEmacs for that purpose.)
          Most important, change the @{ "NAME" Link "4.3.63. NAME board's name" }, @{ "NODE" Link "4.3.64. NODE zone_net_node_point" }, @{ "BOSS" Link "4.3.23. BOSS zone_net_node_point" }, @{ "CALL" Link "4.3.24. CALL number | fido-address" } and
          @{ "PASSWORD" Link "4.3.67. PASSWORD password" } parameters.

       5. That's it, you're done. Type "TrapDoor Call Boss" to call
          your boss system.

@EndNode
@Node "2.3. Node Setup"
  2.3. Node Setup

       A FidoNet node is more complicated to set up. First, follow
     the steps in the "@{ "Point Setup" Link "2.2. Point Setup" }" section. In addition to the
     directories created there, you will also need to setup a
     directory for the FidoNet nodelist. Create it on any partition
     large enough for at least 2 Megabytes of additional disk space,
     and assign "Nodelist:" to it. Now study the manual for TrapList
     and compile the FidoNet nodelist. (If you do not have a nodelist
     yet, you should use TrapDoor or a terminal program to obtain one
     from another FidoNet node.)

       Next, you need to create a scheduling script in which you tell
     TrapDoor to call out on certain days or during certain hours and
     what systems to call. This is usually done with a cron-like
     utility. Cron is a tool which executes other programs at
     regularly scheduled times.

       There is a good cron from TelePro Technologies. It is called
     TPTCron and freely available from many bulletin boards. TPTCron
     has successfully been used in many installations with TrapDoor.

       The main idea in a node setup is to run TrapDoor in answer
     mode. It will accept incoming calls and wait for ARexx commands.
     Then, you use cron to run "TrapPoll" every so often. TrapPoll is
     a tool that will scan your outbound directory to see what mail
     has to be delivered to which nodes, and send ARexx commands to
     TrapDoor to cause these nodes to be called. If you have TrapPoll
     executed by cron every ten minutes, TrapDoor will make outgoing
     calls until all mail and files have been sent, or until an
     @{ "accounting" Link "4.3.4. (NO)ACCOUNTING" } limit was reached (see the "@{"Accounting" Link "3.6. Accounting" }" chapter for a
     description of the @{ "accounting" Link "4.3.4. (NO)ACCOUNTING" } system).

       By properly setting up your crontab file, you are able to
     exactly specify at what times TrapDoor should place outgoing
     calls, and when it should just sit around and wait for incoming
     calls. Also, you can run other scripts from cron that change
     TrapDoor's settings (like switching to @{ "BBSMODE" Link "4.3.21. BBSMODE mode" } ZMH during the
     Zone Mail Hour).

       Please see the Examples/ directory for many example scripts
     for running a node.

@EndNode
@Node "2.4. The Modem"
  2.4. The Modem

       The Modem must be Hayes compatible. Other modem command
     standards are currently not supported.

       A word about cabling: you will need a seven-wire RS232C cable,
     that is one that supports at least RxD, TxD, CTS, RTS, DTR, @{ "DSR" Link "4.3.35. (NO)DSR" },
     DCD and last but not least, Gnd. Anything less (or other
     connections) may not have the desired effect, although the
     strict requirements which TrapDoor poses on the @{ "DSR" Link "4.3.35. (NO)DSR" } signal can
     be bypassed by use of the @{ "NODSR" Link "4.3.35. (NO)DSR" } keyword. Also, seven wire
     handshake can be disabled with @{ "NO7WIRE" Link "4.3.1. (NO)7WIRE" }.

       Be sure to set up your modem so that dropping DTR causes a
     hangup, and a return to command state -- even better a complete
     reset. If you don't do this, TrapDoor will be incapable of
     hanging up correctly! On almost all Hayes compatible modems this
     can be achieved with AT&D3, a few may require changes to their
     DIP switch settings or S-registers. Please consult the manual
     that comes with your modem if you feel unsure.

       Also, take care that your modem should respond to successful
     connects with a "CONNECT XXXX" message (where XXXX is the
     baudrate), not just "CONNECT" (except at 300 baud). If your
     modem returns only "CONNECT", TrapDoor assumes that the
     connection takes place at 300 baud. On most Hayes compatible
     modems you will have to use ATX1 or higher. If your modem
     returns "CONNECT FAST" (Trailblazer modems do), TrapDoor will
     continue to operate at the baudrate specified in the @{ "BAUD" Link "4.3.16. BAUD baudrate" }
     statement.

       When DTR is set high, @{ "DSR" Link "4.3.35. (NO)DSR" } should follow. In case your modem is
     reacting too slow, try adjusting the @{ "SLOWMODEM" Link "4.3.88. SLOWMODEM modem-command-delay" } parameter. If
     your modem cannot properly handle @{ "DSR" Link "4.3.35. (NO)DSR" } at all, use the @{ "NODSR" Link "4.3.35. (NO)DSR" }
     setting.

       Some modems require a substantial delay between the "AT"
     prefix and the actual command string. If this is the case with
     your modem, put at least one tilde ("~") character in between
     the "AT" prefix and the command. This will cause TrapDoor to
     wait a short time before sending the rest of the string. Fine
     tune the time with @{ "SLOWMODEM" Link "4.3.88. SLOWMODEM modem-command-delay" }. Some modems also require a
     substantial delay after a reset (caused by DTR drop or ATZ)
     before they respond to commands again -- insert tilde characters
     where appropriate!

@EndNode
@Node "2.5. Example Modem Settings"
  2.5. Example Modem Settings

        @{ " 2.5.1. US Robotics Courier HST Modems " Link "2.5.1. US Robotics Courier HST Modems" }
        @{ " 2.5.2. Ordinary 2400 Baud Modems " Link "2.5.2. Ordinary 2400 Baud Modems" }
        @{ " 2.5.3. Internal Supra 2400zi Modems " Link "2.5.3. Internal Supra 2400zi Modems" }
        @{ " 2.5.4. Supra V.32bis " Link "2.5.4. Supra V.32bis" }
        @{ " 2.5.5. ZyXEL Modems " Link "2.5.5. ZyXEL Modems" }

@EndNode
@Node "2.5.1. US Robotics Courier HST Modems"
  2.5.1. US Robotics Courier HST Modems

       These are the settings for a Dual Standard HST modem. If you
     have the HST only or V.32 only version of the Courier, just set
     the parameters that apply to your modem only.

     USRobotics Courier 14400 HST Dual Standard NRAM Settings...

        DIAL=PULSE  B1  F1  M3  X7
        BAUD=19200  PARITY=N  WORDLEN=8

        &A3  &B1  &G0  &H1  &I0  &J0  &K3  &L0
        &M4  &N0  &P0  &R2  &S0  &X0  &Y1

        S02=043   S03=013   S04=010   S05=008
        S06=007   S07=060   S08=002   S09=006
        S10=007   S11=070   S12=050   S13=001
        S15=008   S19=002   S21=010   S22=017
        S23=019   S24=150   S26=000   S27=000
        S28=008   S38=000

        STORED PHONE #0:
                     #1:
                     #2:
                     #3:

       To setup your modem, enter a terminal program. Select the
     baudrate at which you want to "@{ "lock" Link "4.3.49. (NO)LOCK" }" your modem, usually 19200
     baud. (Warning: the serial.device of the Amiga - up to AmigaOS
     1.3.3 - can not keep up with 38400 baud. Unless you have a
     faster processor, like a 68020 or 68030, you will get lots of
     transmission errors if you choose a higher baudrate than 19200.)
     Then type

          AT&FM3X7&A3&B1&H1&K3&R2S13=1S15=8&W

     and press return. Your modem is now set up for use with
     TrapDoor.

       In your TrapDoor.cfg file, use the lines

          @{ "BAUD" Link "4.3.16. BAUD baudrate" } 19200 @{ "LOCK" Link "4.3.49. (NO)LOCK" }
          @{ "7WIRE" Link "4.3.1. (NO)7WIRE" }
          @{ "SLOWMODEM" Link "4.3.88. SLOWMODEM modem-command-delay" } 10
          @{ "MODEMINIT" Link "4.3.62. MODEMINIT modem-init-string" } "~~ATZ|"
          @{ "MODEMHANGUP" Link "4.3.61. MODEMHANGUP modem-hangup-string" } "|^"
          @{ "MODEMDIALPRE" Link "4.3.59. MODEMDIALPRE modem-pre-dial-string" } "~~ATB1DP"
          @{ "MODEMDIALPOST" Link "4.3.60. MODEMDIALPOST modem-post-dial-string" } "|"
          @{ "MODEMANSWER" Link "4.3.58. MODEMANSWER modem-answer-string" } "~~ATB0S7=30A|"
          @{ "ARQSTRING" Link "4.3.11. ARQSTRING string" } "ARQ" @{ "SNIFFARQ" Link "4.3.90. (NO)SNIFFARQ" }

@EndNode
@Node "2.5.2. Ordinary 2400 Baud Modems"
  2.5.2. Ordinary 2400 Baud Modems

       Set your modem to:

          E1  echo modem commands
          Q0  display result codes
          V1  verbose results
          X1  or higher
          &C1 DCD follows carrier detect
          &D3 reset on dtr drop
          &S0 @{ "DSR" Link "4.3.35. (NO)DSR" } always on

       To setup your modem, enter a terminal program and set the
     baudrate to 2400 baud. Then type

          AT&FE1Q0V1X4&C1&D3&S0&W

     and press return. You modem is now set up for use with
     TrapDoor.

       In your TrapDoor.cfg file, use the lines

          @{ "BAUD" Link "4.3.16. BAUD baudrate" } 2400
          @{ "SLOWMODEM" Link "4.3.88. SLOWMODEM modem-command-delay" } 10
          @{ "MODEMINIT" Link "4.3.62. MODEMINIT modem-init-string" } "~~AT~Z|~"
          @{ "MODEMHANGUP" Link "4.3.61. MODEMHANGUP modem-hangup-string" } "|^"
          @{ "MODEMDIALPRE" Link "4.3.59. MODEMDIALPRE modem-pre-dial-string" } "~~AT~DP"
          @{ "MODEMDIALPOST" Link "4.3.60. MODEMDIALPOST modem-post-dial-string" } "|~"
          @{ "MODEMANSWER" Link "4.3.58. MODEMANSWER modem-answer-string" } "~~AT~A|~"

@EndNode
@Node "2.5.3. Internal Supra 2400zi Modems"
  2.5.3. Internal Supra 2400zi Modems

       Set your modem to:

            E1 L2 M1 Q0 V1 X4 B0 Y0
            &C1 &D3 &G0 &J0 &L0 &M0 &P0 &S0

            S0=0 S2=43 S3=13 S4=10 S5=8 S6=2 S7=20 S8=2 S9=6
            S10=14 S12=50 S25=5 S26=1

       To setup your modem, enter a terminal program that can talk to
     "modem0.device" and set the baudrate to 2400 baud. Then type

          AT&FE1Q0V1X4&C1&D3&S0&W

     and press return. You modem is now set up for use with
     TrapDoor.

       In your TrapDoor.cfg file, use the lines

          @{ "SERIALNAME" Link "4.3.83. SERIALNAME serial-device-name" } "modem0.device"
          @{ "BAUD" Link "4.3.16. BAUD baudrate" } 2400
          @{ "SLOWMODEM" Link "4.3.88. SLOWMODEM modem-command-delay" } 10
          @{ "MODEMINIT" Link "4.3.62. MODEMINIT modem-init-string" } "~~AT~Z|~"
          @{ "MODEMHANGUP" Link "4.3.61. MODEMHANGUP modem-hangup-string" } "|^"
          @{ "MODEMDIALPRE" Link "4.3.59. MODEMDIALPRE modem-pre-dial-string" } "~~AT~DP"
          @{ "MODEMDIALPOST" Link "4.3.60. MODEMDIALPOST modem-post-dial-string" } "|~"
          @{ "MODEMANSWER" Link "4.3.58. MODEMANSWER modem-answer-string" } "~~AT~A|~"




@EndNode
@Node "2.5.4. Supra V.32bis"
  2.5.4. Supra V.32bis

       Users of this modem recommend to set ATS95=2W2. We have not
     tested this modem.

@EndNode
@Node "2.5.5. ZyXEL Modems"
  2.5.5. ZyXEL Modems

       These are the settings for a ZyXEL 1496 E modem, ROMs 5.00a.
     If you have one of the other models, the parameters are the
     same.

     Current   Setting.............

      B0   E1   L1   M1   N1   Q0   V1   X7
     &B1  &C1  &D3  &G0  &H3  &J0  &K4  &L0  &M0  &N0  &P0  &R1
                                                  &S0  &X0  &Y1
     *B0  *C0  *D0  *E0  *F0  *G0  *I0  *L0  *M0  *P9  *Q2  *S0

     S00=000   S01=000   S02=043   S03=013   S04=010
     S05=008   S06=003   S07=060   S08=002   S09=006
     S10=015   S11=050   S12=000   S13=000   S14=002
     S15=002   S16=000   S17=018   S18=002   S19=000
     S20=001   S21=242   S22=000   S23=121   S24=034
     S25=000   S26=000   S27=156   S28=068   S29=000
     S30=000   S31=017   S32=019   S33=000   S34=030
     S35=000   S36=000   S37=000   S38=008   S39=000
     S40=000   S41=000   S42=000   S43=000   S44=000
     S45=000   S46=000   S47=000   S48=000   S49=000

       To setup your modem, enter a terminal program. Select the
     baudrate at which you want to "@{ "lock" Link "4.3.49. (NO)LOCK" }" your modem, usually 19200
     baud. (Warning: the serial.device of the Amiga - up to AmigaOS
     1.3.3 - can not keep up with 38400 baud. Unless you have a
     faster processor, like a 68020 or 68030, you will get lots of
     transmission errors if you choose a higher baudrate than 19200.)
     Then type

          AT&FX7&D3&W

     and press return. Your modem is now set up for use with
     TrapDoor.

       In your TrapDoor.cfg file, use the lines

          @{ "BAUD" Link "4.3.16. BAUD baudrate" } 19200 @{ "LOCK" Link "4.3.49. (NO)LOCK" }
          @{ "7WIRE" Link "4.3.1. (NO)7WIRE" }
          @{ "SLOWMODEM" Link "4.3.88. SLOWMODEM modem-command-delay" } 10
          @{ "MODEMINIT" Link "4.3.62. MODEMINIT modem-init-string" } "~~ATZ|"
          @{ "MODEMHANGUP" Link "4.3.61. MODEMHANGUP modem-hangup-string" } "|^"
          @{ "MODEMDIALPRE" Link "4.3.59. MODEMDIALPRE modem-pre-dial-string" } "~~ATDP"
          @{ "MODEMDIALPOST" Link "4.3.60. MODEMDIALPOST modem-post-dial-string" } "|"
          @{ "MODEMANSWER" Link "4.3.58. MODEMANSWER modem-answer-string" } "~~ATA|"
          @{ "ARQSTRING" Link "4.3.11. ARQSTRING string" } "ARQ" @{ "SNIFFARQ" Link "4.3.90. (NO)SNIFFARQ" }

@EndNode
@Node "3. Basics"
  3. Basics

       This chapter is intended to give you a quick overview about
     the operation of TrapDoor and certain selected topics. If you
     wish to look up a specific command keyword, please see the
     reference section "@{ "Configuration Commands" Link "4. Configuration Commands" }".

        @{ " 3.1. FidoNet " Link "3.1. FidoNet" }
        @{ " 3.2. Mailer Operation " Link "3.2. Mailer Operation" }
        @{ " 3.3. Nodelist " Link "3.3. Nodelist" }
        @{ " 3.4. Compatibility " Link "3.4. Compatibility" }
        @{ " 3.5. Custom Configuration Entries " Link "3.5. Custom Configuration Entries" }
        @{ " 3.6. Accounting " Link "3.6. Accounting" }
        @{ " 3.7. Security " Link "3.7. Security" }
        @{ " 3.8. File Tagging " Link "3.8. File Tagging" }
        @{ " 3.9. Refusing and Pickup Preferences " Link "3.9. Refusing and Pickup Preferences" }
        @{ " 3.10. The Keyboard " Link "3.10. The Keyboard" }
        @{ " 3.11. Return Values " Link "3.11. Return Values" }
        @{ " 3.12. ARexx " Link "3.12. ARexx" }
        @{ " 3.13. Dial Scripts " Link "3.13. Dial Scripts" }
        @{ " 3.14. Multiple Lines " Link "3.14. Multiple Lines" }
        @{ " 3.15. Logfile Buffering " Link "3.15. Logfile Buffering" }
        @{ " 3.16. Automatic Buffer Sizing " Link "3.16. Automatic Buffer Sizing" }
        @{ " 3.17. Fax Support " Link "3.17. Fax Support" }

@EndNode
@Node "3.1. FidoNet"
  3.1. FidoNet

       FidoNet is a world-wide network of many "FidoNet-compatible"
     bulletin boards, which communicate with each other using
     "mailers". TrapDoor is one of these mailers, it allows you to
     send and receive FidoNet mail and files.

       If you are not familiar with FidoNet, or certain terms used in
     this manual, please see "TrapDoor's FidoNet Manual"
     (FidoNet.Man) and the glossary there.
@EndNode
@Node "3.2. Mailer Operation"
  3.2. Mailer Operation

       A mailer transfers mail bundles and/or files to/from another
     FidoNet system. You (or other mail packing software) prepare the
     outgoing mail and files in a so-called "outbound directory". You
     then tell TrapDoor to call another FidoNet system. TrapDoor will
     use the modem to place a telephone call there, then proceed to
     transfer mail/files with built-in protocols.  Also, TrapDoor
     will receive mail and files that are waiting at the other system
     for you. These incoming data will be stored in the "inbound
     directory", from where you (or the mail tossing software) can
     further process the mail and files.

       A more detailed description of this process and the
     interaction between TrapDoor and mail processing software is
     given in TrapDoor's FidoNet Manual.
@EndNode
@Node "3.3. Nodelist"
  3.3. Nodelist

       A "nodelist" is a directory listing all (or parts of) the
     nodes in FidoNet. It stores the names of systems and sysops, the
     node numbers, and the telephone number for each node. TrapDoor
     can use the nodelist to look-up telephone numbers before placing
     an outgoing call.

       A separate program called "TrapList" is used to process the
     nodelist before TrapDoor can reference it. TrapList builds index
     files for the nodelist, which TrapDoor later uses. For more
     information on TrapList and how to compile/index nodelists,
     please see "TrapList's Faaaast Manual" (TrapList.Man).

       Point systems do not necessarily need a nodelist, as they only
     call one single "boss" system, the telephone number of which can
     be stored in TrapDoor's configuration file.

@EndNode
@Node "3.4. Compatibility"
  3.4. Compatibility

       A sensitive point in every FidoNet mailer is "compatibility".
     FidoNet uses at least three different handshake methods and more
     than three different transfer protocols. Not every mailer
     implements all of them, and so it is very important that mailers
     automatically detect the capabilities of the other system and
     switch to the correct handshake and protocol. This detection
     phase is also one of the sources of most errors and failures to
     establish a proper connection between two FidoNet systems.

       TrapDoor has been extensively tested with other mailers,
     including various versions of BinkleyTerm, D'Bridge, FrontDoor,
     Paragon and TrapDoor itself. It should work fine with most
     systems.

       There are two additional notes about compatibility, however.
     The @{ "EMSI" Link "4.3.36. (NO)EMSI" } handshake method sometimes causes problems with some
     BBSs with an integrated mailer, such as some older versions of
     Opus or Paragon. Should you repeatedly experience strange
     hangups with such a system, you should disable @{ "EMSI" Link "4.3.36. (NO)EMSI" } using the
     @{ "NOEMSI" Link "4.3.36. (NO)EMSI" } keyword and try again. Especially older version of
     Paragon are known to not work correctly with @{ "EMSI" Link "4.3.36. (NO)EMSI" }. If you
     regularly call such a system, you might want to set up a "custom
     configuration" for that system (see the @{ "next chapter" Link "3.5. Custom Configuration Entries" }).

       Second, the FTS-1 "Lotek" protocol is very often poorly
     implemented in other mailers. TrapDoor uses a very strict
     version of this protocol, and behaves exactly according to the
     specifications. Other mailers with errors in their FTS-1
     protocol code fail with TrapDoor. Two known cases are Tabby, a
     Macintosh mailer, which fails completely, and TIMS, an MS-DOS
     mailer, which sometimes fails to transfer the names of inbound
     files. TrapDoor will name the files "Unnamed.File",
     "Unnamed.File,1", "Unnamed.File,2" etc. Also, in the case of
     unnamed files, the files themselves may have some Ctrl-Z (hex
     1A) characters at the very end, padding their size to an even
     multiple of 128 bytes.
@EndNode
@Node "3.5. Custom Configuration Entries"
  3.5. Custom Configuration Entries

       Sometimes it is desirable to use a special custom
     configuration when calling a certain node. For example, if you
     regularly connect to a Paragon system which cannot handle @{ "EMSI" Link "4.3.36. (NO)EMSI" },
     you will want to disable @{ "EMSI" Link "4.3.36. (NO)EMSI" } when calling that node.

       TrapDoor allows you to set up such custom configuration
     entries.  There is a utility called "setconfig" to store a
     configuration string for a certain node number. For example, to
     disable @{ "EMSI" Link "4.3.36. (NO)EMSI" } for 2:314/471, enter

          setconfig 2:314/471 "@{ "NOEMSI" Link "4.3.36. (NO)EMSI" }"

       Custom configurations are very flexible. For example, you
     might have to use special modem settings to call some node.
     Using the setconfig utility, you enter

          setconfig 3:504/132 "@{ "BAUD" Link "4.3.16. BAUD baudrate" } 7200 @{ "MODEMDIALPOST" Link "4.3.60. MODEMDIALPOST modem-post-dial-string" }  \ on one
                                ATS42.3=1X29S133=45DT" / line

       Or, to override a telephone number from the nodelist:

          setconfig 2:253/500 "@{ "CALL" Link "4.3.24. CALL number | fido-address" } 0044-44-123-1234"

       Here is another trick: if a node has been marked as
     -Undialable- in the nodelist, TrapDoor will refuse to call it.
     It will instead display something like "The Mad House (2:310/6)
     is undialable". If you know the telephone number of that system,
     you can enter

          setconfig 2:310/6 "@{ "CALL" Link "4.3.24. CALL number | fido-address" } 0043-1-556-7863 @{ "CONFIG" Link "4.3.28. CONFIG config-file" } 833"

       It is important that you specify the @{ "CONFIG" Link "4.3.28. CONFIG config-file" } parameter here. Give
     it the cost per minute for that call.

       If you lose track of your custom configuration entries, the
     listconfig utility will list them all:

         Node           : Config
        ------------------------
        2:310/6.0       : @{ "Call" Link "4.3.24. CALL number | fido-address" } 12341234 @{ "cost" Link "4.3.29. COST" } 6700
        2:512/17.0      : @{ "MODEMDIALPOST" Link "4.3.60. MODEMDIALPOST modem-post-dial-string" } ATS7=60B0X7DP @{ "NOEMSI" Link "4.3.36. (NO)EMSI" }
        1:125/111.0     : @{ "NOEMSI" Link "4.3.36. (NO)EMSI" }

        Total 3 nodes in database
@EndNode
@Node "3.6. Accounting"
  3.6. Accounting

       TrapDoor can keep a count of all outgoing calls and incoming
     calls, on a per node basis, and the cost for those calls. When
     you have enabled accounting (see the @{ "(NO)ACCOUNTING" Link "4.3.4. (NO)ACCOUNTING" } keyword),
     TrapDoor will maintain a database of

       - the number of outgoing calls to a node
       - the number of incoming calls from a node
       - the number of successful sessions with a node
       - the number of failed sessions with a node
       - the number of BUSY signals when calling a node
       - the number of NO CARRIER signals when calling a node
       - the number of VOICE signals when calling a node
       - the total cost of all outgoing calls to a node
       - the TrxID (a timestamp) of the last successful connection
         with that node

       The "listacct" tool will display all the accounting
     information, and "clearacct" will reset it, either on an
     individual basis or for all nodes.

       By using the @{ "ACCTMAX" Link "4.3.5. ACCTMAX limits" } keyword, you can specify maxima for all
     of the above accounting items. You can set limits, and TrapDoor
     will refuse to call a node when at least one of the limits is
     exceeded. For example, you could set the maximum for the number
     of failed sessions to 2, and TrapDoor will refuse to call a node
     again after two failed connects (where a connection was made,
     but the carrier was lost before the successful end of the
     session).
@EndNode
@Node "3.7. Security"
  3.7. Security

       It is often important to make sure that a particular system is
     really who it claims to be. For that reason, TrapDoor can use
     passwords to protect mail sessions. You can set up a password
     for each node you regularly exchange mail with, and TrapDoor
     will check the password every time this node calls you. If the
     password which the other end sends and the password that is
     stored in the local database do not match, TrapDoor will hang
     up, or, if the password for an @{ "AKA" Link "4.3.8. AKA akalist" } address is wrong, it will
     simply "forget" that @{ "AKA" Link "4.3.8. AKA akalist" } and will continue the session without
     sending mail or files for the @{ "AKA" Link "4.3.8. AKA akalist" } address.

       The "setpasswd" tool allows you to set up or remove passwords.
     For example, to setup a password of "vienna" for 2:313/28, enter

          setpasswd 2:313/28 "vienna"

       TrapDoor will always compare passwords using a
     case-insignificant match. It will, however, send out passwords
     exactly as you typed them, in case the other end does not use a
     case-insensitive compare.

       To protect you from losing your password database in case of a
     system crash, you can also enter "Password" statements in your
     TrapList configuration file and have TrapList set up all your
     passwords. This is described in more detail in the manual for
     TrapList.

       If you are running a private system, and you do not want to
     receive calls from any other nodes except the ones with which
     you have established passwords, you can set up a secret password
     using the @{ "PASSWORD" Link "4.3.67. PASSWORD password" } keyword. Other mailers will only be able to
     connect to your system if either (a) they know the secret
     password or (b) you have set up another password for them (using
     setpasswd) and they send the latter one.

       If you are running a public FidoNet node, do not use the
     @{ "PASSWORD" Link "4.3.67. PASSWORD password" } configuration keyword.
@EndNode
@Node "3.8. File Tagging"
  3.8. File Tagging

       Another security feature of TrapDoor is "file tagging". Each
     received file will be tagged with a "Secure" field in the
     filenote, if it was received either from a node listed in the
     nodelist or from a node with which a password was set up. The
     "Secure"-Tag will contain either "NL" or "PW" or both "NL,PW"
     depending on the particular security measures under which the
     file was received. This can be used by a mail tosser to toss
     only mail from password-protected sessions automatically, for
     example.

       Also, every file received will be tagged with the node number
     of the system from which it was received, in a "From" field.

       Every FidoNet session will be assigned a unique number. This
     number will be recorded in the log file, and all files received
     in this session will be tagged with a "Trx" field listing this
     unique "transaction id".

       If files were renamed during the receive operation (for
     example, because the file already existed), the original
     filename will be stored in another field in the filenote, tagged
     as "FileName".
@EndNode
@Node "3.9. Refusing and Pickup Preferences"
  3.9. Refusing and Pickup Preferences

       The @{ "Emsi" Link "4.3.36. (NO)EMSI" } handshake allows for "Refusing" and "Pickup
     Preferences". These features work only when an @{ "Emsi" Link "4.3.36. (NO)EMSI" } handshake
     was chosen at the beginning of the session.

       Refusing means that a system may refuse to receive certain
     files or certain mail packets at specific times. A system may
     refuse

       - file requests
       - compressed mail
       - file attaches
       - all of the above

       TrapDoor will respect these wishes and not send the
     appropriate items, unless @{ "NOALLOWREFUSING" Link "4.3.9. (NO)ALLOWREFUSING" } is in effect.

       Pickup Preferences means that another system may choose what
     mail or files to pick up from TrapDoor. A system may want to
     pick up mail and files

       - for all presented addresses
       - for the primary address only (no @{ "AKA" Link "4.3.8. AKA akalist" }s)
       - no pickup at all

       TrapDoor will respect these preferences and only send the
     requested items. @{ "(NO)ALLOWREFUSING" Link "4.3.9. (NO)ALLOWREFUSING" } does not affect this
     behaviour.

       To set up your own Refusing or Pickup Preferences, use the
     @{ "FORBID" Link "4.3.42. (NO)FORBID" } and @{ "PICKUP" Link "4.3.68. PICKUP what" } keywords. The default is to pick up mail for
     all presented addresses, and to not refuse to receive anything.

@EndNode
@Node "3.10. The Keyboard"
  3.10. The Keyboard

       TrapDoor now features sophisticated keyboard handling,
     including the ability to assign arbitrary configuration commands
     to function keys.

       One of the most important keys is probably the ESC (Escape)
     key. Pressing this key during a session will abort it. TrapDoor
     will hangup as soon as possible and either return to answer
     mode, or, if the call was not initiated from answer mode, exit.
     When TrapDoor is idle and you press the ESC key, it will reset
     the modem.

       Next, TrapDoor makes use of the Alt (Alternate) key for system
     functions.  When TrapDoor is idle and waiting in answer mode,
     you can activate a number of things via Alt-key sequences. The
     Alt key works like a shift key, you have to hold it down while
     pressing another key. These are the Alt key sequences that
     TrapDoor understands:

         Alt-A ... immediately Answer the phone.
         Alt-C ... reread the Config file "MAIL:TrapDoor.cfg".
                   This is useful if you have changed the config file
                   and want to reset TrapDoor to the new settings.
         Alt-Q ... Quit, same as Alt-X.
         Alt-R ... Reset modem.
         Alt-S ... toggle Showrexx mode (see @{ "SHOWREXX" Link "4.3.86. (NO)SHOWREXX" } keyword).
         Alt-X ... eXit, same as Alt-Q.

       If you get stuck and cannot remember a certain key, just press

         HELP .... pop up the Help display.
                   Please note that TrapDoor will wait for the Help
                   window to close before it exits.

       From the main help window, you can select "Settings" or
     "Keys". "Settings" will give you a short summary of all the
     current settings of your TrapDoor, "Keys" will show you a
     summary of all standard key assignments of TrapDoor. Select
     "Done" when finished reading. From the "Keys" display, you can
     also choose "F-Keys" which will show you a summary of the
     current function key assignments.

       Function key assignments can be put on any of the function
     keys (reasonable, eh?). These are the keys in the topmost row of
     your Amiga keyboard, beside the ESC key. The @{ "FKEY" Link "4.3.40. FKEY function-key-assignment" } keyword is
     used to assign function keys. When you press a function key, and
     there is an assignment for it, TrapDoor will send the string
     assigned to that key to its own ARexx port. From there, the
     assignment will be processed. That way, you can put things like
     "@{ "Call" Link "4.3.24. CALL number | fido-address" } 2:310/6" or "@{ "NOEMSI" Link "4.3.36. (NO)EMSI" }" on your function keys, or you can
     start external programs with the "@{ "Run" Link "4.3.79. RUN command-string" }" and "@{ "Spawn" Link "4.3.91. SPAWN command-string" }" keywords.

       Always remember that hitting a function key will cause
     TrapDoor to send an ARexx-message to itself. Thus, it will only
     process that keystroke when it is idle in answer mode. (It will
     actually process the keypress immediately, but the ARexx-message
     will be waiting at the ARexx-port until TrapDoor reads it when
     it comes back to the "Waiting for call" state.)



@EndNode
@Node "3.11. Return Values"
  3.11. Return Values

       When TrapDoor returns to the calling program, the following
     returncodes indicate its success or failure:

          0 ... everything successfully completed.
          5 ... some minor problem occurred
                Either no session could be established (BUSY, NO
                CARRIER, VOICE etc.) or something went wrong during a
                session (timeouts, too many retries, carrier lost
                etc.). This can only occur if you do not start
                TrapDoor in answer mode, but immediately tell it to
                make a call, i.e. TrapDoor Call 2:310/6.
         20 ... some fatal error prohibited any further action.
                TrapDoor could not open its window, screen, serial
                device or timer device, allocate memory or other
                necessary items.

       More detailed result codes are available through the ARexx
     interface. See the @{ "STATUS" Link "4.3.93. STATUS what" } command.

@EndNode
@Node "3.12. ARexx"
  3.12. ARexx

       TrapDoor includes an ARexx port -- while in answer mode
     waiting for incoming calls, TrapDoor also accepts ARexx
     messages. The port name, which is also called the "host name" in
     ARexx symbolics, is usually "TrapDoor", unless you change it
     with the @{ "REXXNAME" Link "4.3.75. REXXNAME portname" } keyword. Use this name in Rexx "Address ..."
     statements to select TrapDoor.

       All commands and keywords listed in the "Configuration
     @{ "Keywords" Link "4.3. Keywords" }" section can be sent to the ARexx port and will be
     understood, although some might not behave as expected. (For
     example, if you change @{ "SERIALNAME" Link "4.3.83. SERIALNAME serial-device-name" } while in answer mode, TrapDoor
     will not switch to the new device. Instead, you should terminate
     TrapDoor and run it again with a different setup.)

       Apart from that, almost everything that can be set up from the
     command line (or a config file) can also be done via the ARexx
     port.

       Some commands can only be used from ARexx (or TrapTell). Those
     keywords are marked with

       (+) ARexx only command

       Attempts to use them from CLI will cause nothing but an error
     message.

       Usually, ARexx commands will be executed whenever TrapDoor is
     idle and waiting for a call. Some ARexx commands can also be
     sent for immediate execution. In that case, the command will be
     executed immediately, no matter whether or not TrapDoor is just
     connected to another system and a mail session takes place. For
     immediate execution, the command must be prepended with an "at"
     character ("@"). Such keywords are marked with

       (@) asynchronous execution possible

       Here are a few examples:

          /* This is a Rexx script to call my boss. TrapDoor must
             already be running in Answer mode. */

          options results
          address "TrapDoor"

          "Call Boss"
          "Status D"
          say "Modem returned" RESULT "from the last call."
          "Status X"
          say "The last call terminated with error" RESULT"."

       Should you happen not to have a copy of ARexx handy, no
     problem -- the tool TrapTell simulates an ARexx server, sending
     a message to TrapDoor and waiting for the results.

       Here is an example. It stops a running TrapDoor by sending it
     a "Quit" command.

          TrapTell "Quit"

       Here's another example. First, we start up TrapDoor in answer
     mode, but we do not want it to react to incoming calls, so we
     set the @{ "RINGS" Link "4.3.78. RINGS number" } limit very high. Immediately after launching
     TrapDoor, we wait a few seconds so TrapDoor has time to
     initialize everything and open its ARexx port.

          run TrapDoor answer rings 50000
          wait 5 secs

       Then, I'd like to call node 1:200/300 and get the connect
     result string:

          TrapTell "call 1:200/300"
          TrapTell "status d"

       Try it, you should soon become familiar with that method of
     controlling programs. There are some example AmigaDOS scripts
     that use the TrapTell command in the Scripts/ subdirectory on
     the distribution disk (or in the distribution archive) and there
     are some more ARexx programs that make use of TrapDoor's ARexx
     port in the rexx/ subdirectory.





@EndNode
@Node "3.13. Dial Scripts"
  3.13. Dial Scripts

       Sometimes, the built-in modem dialer in TrapDoor is not
     sophisticated enough. It will do fine for a normal telephone
     link between two nodes, but in some cases, two nodes might be
     linked via a packet switched network, a private network
     exchange, PCP, Telnet, Datex-P or whatever else there is.

       In these networks, it is usually necessary to log onto the
     network, identify yourself, and then select the network address
     or data telephone number with which you'd like to connect. Then,
     the network system will connect you, and only after that you
     will be able to establish your normal FidoNet session.

       TrapDoor features a tiny script language to accommodate this
     method of communication. You will have to write ARexx-scripts
     for your specific data network using the @{ "STIMEOUT" Link "4.3.95. STIMEOUT timeout" }, @{ "SWRITE" Link "4.3.98. SWRITE string" },
     @{ "SMODEM" Link "4.3.89. SMODEM modem-command" }, @{ "SLINE" Link "4.3.87. SLINE" }, @{ "SCLEAR" Link "4.3.80. SCLEAR" } and @{ "SWAIT" Link "4.3.96. SWAIT string" } commands. As soon as you have
     connected to the other FidoNet system, you issue the
     @{ "STARTSESSION" Link "4.3.92. STARTSESSION" } command. Then, TrapDoor will take over again and
     proceed with a normal FidoNet session.

       Here is a short example:

          /* This is a Rexx script to connect to some other system
             via a custom data network. TrapDoor should already be
             running in Answer mode. */

          address "TrapDoor"

          @{ "STIMEOUT" Link "4.3.95. STIMEOUT timeout" } 10
          @{ "SMODEM" Link "4.3.89. SMODEM modem-command" } "~~ATZ|"      /* initialize the modem */
          @{ "SWAIT" Link "4.3.96. SWAIT string" } OK
          @{ "STIMEOUT" Link "4.3.95. STIMEOUT timeout" } 60
          @{ "SMODEM" Link "4.3.89. SMODEM modem-command" } "ATDP1234"    /* call the data network */
          @{ "SWAIT" Link "4.3.96. SWAIT string" } CONNECT
          @{ "SWAIT" Link "4.3.96. SWAIT string" } "login:"       /* wait for login prompt */
          @{ "SWRITE" Link "4.3.98. SWRITE string" } "mad max"||d2c(13)    /* send username */
          @{ "SWAIT" Link "4.3.96. SWAIT string" } "password:"
          @{ "SWRITE" Link "4.3.98. SWRITE string" } "secret"||d2c(13)
          @{ "SWAIT" Link "4.3.96. SWAIT string" } "*"                  /* wait for prompt */
          @{ "SWRITE" Link "4.3.98. SWRITE string" } "c 345-17635132#"||d2c(13)
          @{ "SWAIT" Link "4.3.96. SWAIT string" } "connection ok"
          @{ "STARTSESSION" Link "4.3.92. STARTSESSION" }             /* begin the session */




@EndNode
@Node "3.14. Multiple Lines"
  3.14. Multiple Lines

       TrapDoor can be run on multiple telephone lines. In order to
     reduce memory usage, we recommend making TrapDoor resident. This
     is achieved with the AmigaDOS Resident command as in

          Resident Mail:bin/TrapDoor       ; or wherever TrapDoor
                                           ; resides on your system

       Next, you have to start each invocation of TrapDoor with
     different parameters for @{ "SERIALNAME" Link "4.3.83. SERIALNAME serial-device-name" } or at least @{ "SERIALUNIT" Link "4.3.84. SERIALUNIT serial-unit-number" }, and
     @{ "REXXNAME" Link "4.3.75. REXXNAME portname" }. TrapDoor will refuse to open if the serial device or
     the ARexx portname is already in use.

       Let us assume your configuration file contains, among other
     things, the statements

          SerialName "serial.device"
          SerialUnit 0

     Now, the commands

          Run TrapDoor SerialUnit 1 RexxName "TrapDoor-1"
          Run TrapDoor SerialUnit 2 RexxName "TrapDoor-2"
          Run TrapDoor SerialName other.device RexxName "TrapDoor-3"

     will start three copies of TrapDoor. The first one will use
     serial.device, unit 1, and its ARexx-port will be named
     "TrapDoor-1"; the second will use serial.device, unit 2,
     "TrapDoor-2"; and the third one will use a special serial device
     named other.device, unit 0, and an ARexx-port of "TrapDoor-3".

       It is often useful to have separate configuration files for
     multiple lines, and change not only the above parameters, but
     also things like the window positions and sizes (@{ "LOGWINDOW" Link "4.3.53. LOGWINDOW window-specification" },
     @{ "STATWINDOW" Link "4.3.94. STATWINDOW window-specification" }) etc. Also note that there is a special @{ "SCREENMODE" Link "4.3.81. SCREENMODE mode" }
     TRAPDOOR, which is very much like @{ "SCREENMODE" Link "4.3.81. SCREENMODE mode" } CUSTOM, the
     difference being only that all invocations of TrapDoor will open
     their windows on the same shared TrapDoor-screen. (The first
     invocation of TrapDoor will open the screen, and the screen will
     close only after the last copy of TrapDoor has been shut down.).
     If you are using Kickstart 2.04 or higher, you can also use the
     new @{ "SCREENMODE" Link "4.3.81. SCREENMODE mode" } PUBLIC, which works identically to @{ "SCREENMODE" Link "4.3.81. SCREENMODE mode" }
     TRAPDOOR, but takes advantage of the KS 2.04 "Public Screens".
     That means that other programs can also share the TrapDoor
     screen, or TrapDoor can be made to run on other public screens.

       To send ARexx-commands to a specific copy of TrapDoor, use the
     ARexx ADDRESS command to select the port name. Here is an
     example:

          /* This ARexx-script closes down TrapDoor on line 3 */

          address "TrapDoor-3"
          "quit"

       If you use TrapTell or TrapPoll, use the -p switch to select
     the portname, for example:

          TrapTell -pTrapDoor-3 "quit"

@EndNode
@Node "3.15. Logfile Buffering"
  3.15. Logfile Buffering

       Older versions of TrapDoor (up to 1.80) would flush the
     logfile after every single line of log. This would slow down the
     program, especially when the logfile grew large. Thus, TrapDoor
     now allows you to configure a maximum number of lines and a
     maximum number of seconds, during which the logfile will not be
     flushed. If any of the two values has been exceeded, and a new
     line is written to the logfile, the file will be closed and
     reopened, thus forcing all data to be written to the disk.

       This is a two-edged sword: on the one hand, your system will
     become speedier if you don't let your logfile be flushed so
     often; on the other hand, if your system crashes for any reason,
     part of the logfile might not have been updated on the disk and
     you might just miss the important information that lead to the
     crash. So, you should flush the logfile at least after 10
     seconds or so or after 10 lines of information.

       The logfile will always be flushed before an external program
     is run, so that the external software can add data to the
     TrapDoor logfile. Also, the logfile will be kept flushed when
     TrapDoor is idle waiting in answer mode.


@EndNode
@Node "3.16. Automatic Buffer Sizing"
  3.16. Automatic Buffer Sizing

       Some people have been complaining about the CPU usage of
     TrapDoor. The new feature of Automatic Buffer Sizing (@{ "ABS" Link "4.3.3. (NO)ABS" } for
     short), if enabled, will try to reduce the CPU load of TrapDoor
     during Zmodem receiving.


@EndNode
@Node "3.17. Fax Support"
  3.17. Fax Support

       TrapDoor can detect special "fax connect" messages from the
     modem and run some external software to receive an incoming fax.
     See the description of the @{ "FAXSTRING" Link "4.3.39. FAXSTRING string" } and @{ "FAXCOMMAND" Link "4.3.38. FAXCOMMAND commandline" } keywords.

@EndNode
@Node "4. Configuration Commands"
  4. Configuration Commands

        @{ " Main Configuration Commands " Link "Main Configuration Commands" }

        @{ " 4.1. Embedded Percent-Commands " Link "4.1. Embedded Percent-Commands" }
        @{ " 4.2. Modem Commands " Link "4.2. Modem Commands" }
        @{ " 4.3. Keywords " Link "4.3. Keywords" }


@EndNode
@Node "Main Configuration Commands"
       All configuration keywords are listed in the section
     "@{ "Keywords" Link "4.3. Keywords" }". They can be used either in the configuration file or
     on the command line. The keywords are neither case nor position
     sensitive.

       The meanings of the special notes

       (+) ARexx only command
       (@) asynchronous execution possible

     are explained in the "@{"ARexx" Link "3.12. ARexx" }" chapter.

       If you wish to include space characters (blanks) in a string
     parameter, you must surround the string with double-quote
     characters, as in

          @{ "SYSOP" Link "4.3.99. SYSOP sysop's-name" } "Maximilian Hantsch"

       The backslash ('\') is used as an escape-character. For
     example, if you want to include a double-quote within a string,
     you need to use

          @{ "NAME" Link "4.3.63. NAME board's name" } "The \"quoted\" node"

       Of course, if you need a single backslash in a string, you
     need to escape it too, so you have to double each occurrance:

          @{ "BANNER" Link "4.3.15. BANNER bannerline" } "A Slash / and a Backslash \\ ..."

@EndNode
@Node "4.1. Embedded Percent-Commands"
  4.1. Embedded Percent-Commands

       The @{ "AFTERSESSION" Link "4.3.7. AFTERSESSION command-string" }, @{ "BBSCOMMAND" Link "4.3.18. BBSCOMMAND command-string" }, @{ "CREDITS" Link "4.3.30. CREDITS" }, @{ "FAXCOMMAND" Link "4.3.38. FAXCOMMAND commandline" }, @{ "FREQUEST" Link "4.3.43. FREQUEST command-string" } and
     @{ "RINGCOMMAND" Link "4.3.76. RINGCOMMAND commandline" } keywords allow you to specify a commmand-string that
     will be executed. In these command-strings, the following
     embedded %-commands are permitted. All of them are
     case-sensitive.

          %b ... baudrate (between computer and modem)
          %B ... baudrate (of the actual connection)
          %s ... serial device name
          %u ... serial device unit number
          %f ... serial device flags
          %r ... unique random number (timestamp)
          %l ... name of logfile
          %Z ... zone number of the other system
          %N ... net number of the other system
          %F ... fido node number of the other system
          %P ... point number of the other system
          %n ... complete FidoNet address of the other system
          %R ... name of the ARexx port of this TrapDoor
          %p ... name of the public screen
          %I ... name of inbound directory
          %O ... name of outbound directory
          %d ... direction: 1 if inbound call, -1 if outbound call
          %% ... %

       For the @{ "FREQUEST" Link "4.3.43. FREQUEST command-string" } keyword, the following sequences are allowed
     in addition to the above:

          %i ... name of the .REQ file (input file)
          %o ... name of the .RLO file (output file)
          %S ... name of Sysop of other system

       Please note that %b and %B are equivalent unless you use @{ "LOCK" Link "4.3.49. (NO)LOCK" }.
     In that case, %b will reflect the @{ "LOCK" Link "4.3.49. (NO)LOCK" }ed baudrate, whereas %B
     will give you the baudrate of the actual connection (that was
     returned by the modem in a "CONNECT XXXX" message).

@EndNode
@Node "4.2. Modem Commands"
  4.2. Modem Commands

       All the modem commands (@{ "MODEMINIT" Link "4.3.62. MODEMINIT modem-init-string" }, @{ "MODEMDIALPRE" Link "4.3.59. MODEMDIALPRE modem-pre-dial-string" },
     @{ "MODEMDIALPOST" Link "4.3.60. MODEMDIALPOST modem-post-dial-string" }, @{ "MODEMANSWER" Link "4.3.58. MODEMANSWER modem-answer-string" } and @{ "MODEMHANGUP" Link "4.3.61. MODEMHANGUP modem-hangup-string" } -- all explained
     later on) accept a few special characters in the configuration
     string. These are:

          ~ ... short delay
          ^ ... drop DTR, wait a while, raise DTR again
          | ... send a carriage return character
          \ ... escape character, send next character as is

       All other characters will be sent to the modem unchanged and
     without any further action.

       As with configuration keywords, the backslash ('\') is used as
     an escape-character for the following character, which is then
     just sent out unchanged. For example, if you need to send AT~Z4
     to your modem, use

          AT\~Z4|

       If you put this command into the configuration file, beware
     that the backslash needs to be escaped there. So you would have
     to use

          @{ "MODEMINIT" Link "4.3.62. MODEMINIT modem-init-string" } "AT\\~Z4|"

     which gets even worse if you need to send a backslash to the
     modem. For example, some modems know commands such as AT\N0. In
     the configuration file, this looks like this:

          @{ "MODEMINIT" Link "4.3.62. MODEMINIT modem-init-string" } "AT\\\\N0|"

@EndNode
@Node "4.3. Keywords"
  4.3. Keywords

        @{ " 4.3.1.   (NO)7WIRE " Link "4.3.1. (NO)7WIRE" }
        @{ " 4.3.2.   ABORT signals " Link "4.3.2. ABORT signals" }
        @{ " 4.3.3.   (NO)ABS " Link "4.3.3. (NO)ABS" }
        @{ " 4.3.4.   (NO)ACCOUNTING " Link "4.3.4. (NO)ACCOUNTING" }
        @{ " 4.3.5.   ACCTMAX limits " Link "4.3.5. ACCTMAX limits" }
        @{ " 4.3.6.   ADJUST factor " Link "4.3.6. ADJUST factor" }
        @{ " 4.3.7.   AFTERSESSION command-string " Link "4.3.7. AFTERSESSION command-string" }
        @{ " 4.3.8.   AKA akalist " Link "4.3.8. AKA akalist" }
        @{ " 4.3.9.   (NO)ALLOWREFUSING " Link "4.3.9. (NO)ALLOWREFUSING" }
        @{ " 4.3.10.  ANSWER " Link "4.3.10. ANSWER" }
        @{ " 4.3.11.  ARQSTRING string " Link "4.3.11. ARQSTRING string" }
        @{ " 4.3.12.  (NO)AUTOADJUST " Link "4.3.12. (NO)AUTOADJUST" }
        @{ " 4.3.13.  (NO)AUTOOVERSCAN " Link "4.3.13. (NO)AUTOOVERSCAN" }
        @{ " 4.3.14.  (NO)BACKGROUND " Link "4.3.14. (NO)BACKGROUND" }
        @{ " 4.3.15.  BANNER bannerline " Link "4.3.15. BANNER bannerline" }
        @{ " 4.3.16.  BAUD baudrate " Link "4.3.16. BAUD baudrate" }
        @{ " 4.3.17.  BBSCHAR character " Link "4.3.17. BBSCHAR character" }
        @{ " 4.3.18.  BBSCOMMAND command-string " Link "4.3.18. BBSCOMMAND command-string" }
        @{ " 4.3.19.  BBSINOUT device " Link "4.3.19. BBSINOUT device" }
        @{ " 4.3.20.  BBSMESSAGE text " Link "4.3.20. BBSMESSAGE text" }
        @{ " 4.3.21.  BBSMODE mode " Link "4.3.21. BBSMODE mode" }
        @{ " 4.3.22.  (NO)BEEPDISPLAY " Link "4.3.22. (NO)BEEPDISPLAY" }
        @{ " 4.3.23.  BOSS zone:net/node.point " Link "4.3.23. BOSS zone_net_node_point" }
        @{ " 4.3.24.  CALL number | fido-address " Link "4.3.24. CALL number | fido-address" }
        @{ " 4.3.25.  COLORS palette-specification " Link "4.3.25. COLORS palette-specification" }
        @{ " 4.3.26.  COLOURS palette-specification " Link "4.3.25. COLORS palette-specification" }
        @{ " 4.3.27.  CONCEPTS " Link "4.3.27. CONCEPTS" }
        @{ " 4.3.28.  CONFIG config-file " Link "4.3.28. CONFIG config-file" }
        @{ " 4.3.29.  COST " Link "4.3.29. COST" }
        @{ " 4.3.30.  CREDITS " Link "4.3.30. CREDITS" }
        @{ " 4.3.31.  DIALER command-string " Link "4.3.31. DIALER command-string" }
        @{ " 4.3.32.  (NO)DIETIFNA " Link "4.3.32. (NO)DIETIFNA" }
        @{ " 4.3.33.  (NO)DIRECTZAP " Link "4.3.33. (NO)DIRECTZAP" }
        @{ " 4.3.34.  DROPBBSSECS seconds " Link "4.3.34. DROPBBSSECS seconds" }
        @{ " 4.3.35.  (NO)DSR " Link "4.3.35. (NO)DSR" }
        @{ " 4.3.36.  (NO)EMSI " Link "4.3.36. (NO)EMSI" }
        @{ " 4.3.37.  (NO)FASTEMSI " Link "4.3.37. (NO)FASTEMSI" }
        @{ " 4.3.38.  FAXCOMMAND commandline " Link "4.3.38. FAXCOMMAND commandline" }
        @{ " 4.3.39.  FAXSTRING string " Link "4.3.39. FAXSTRING string" }
        @{ " 4.3.40.  FKEY function-key-assignment " Link "4.3.40. FKEY function-key-assignment" }
        @{ " 4.3.41.  (NO)FLOATLOCK " Link "4.3.41. (NO)FLOATLOCK" }
        @{ " 4.3.42.  (NO)FORBID " Link "4.3.42. (NO)FORBID" }
        @{ " 4.3.43.  FREQUEST command-string " Link "4.3.43. FREQUEST command-string" }
        @{ " 4.3.44.  HELP " Link "4.3.44. HELP" }
        @{ " 4.3.45.  (NO)IMMEDIATE " Link "4.3.45. (NO)IMMEDIATE" }
        @{ " 4.3.46.  INBOUND inbound-mail-directory " Link "4.3.46. INBOUND inbound-mail-directory" }
        @{ " 4.3.47.  (NO)INTERLACE " Link "4.3.47. (NO)INTERLACE" }
        @{ " 4.3.48.  (NO)KIWIPULSE " Link "4.3.48. (NO)KIWIPULSE" }
        @{ " 4.3.49.  (NO)LOCK " Link "4.3.49. (NO)LOCK" }
        @{ " 4.3.50.  LOG level:text " Link "4.3.50. LOG level_text" }
        @{ " 4.3.51.  LOGFILE filename " Link "4.3.51. LOGFILE filename" }
        @{ " 4.3.52.  LOGLEVEL group:level " Link "4.3.52. LOGLEVEL group_level" }
        @{ " 4.3.53.  LOGWINDOW window-specification " Link "4.3.53. LOGWINDOW window-specification" }
        @{ " 4.3.54.  (NO)MAXBAUD " Link "4.3.54. (NO)MAXBAUD" }
        @{ " 4.3.55.  MAXLOGLINES number " Link "4.3.55. MAXLOGLINES number" }
        @{ " 4.3.56.  MAXLOGSECS seconds " Link "4.3.56. MAXLOGSECS seconds" }
        @{ " 4.3.57.  MINBAUD baudrate " Link "4.3.57. MINBAUD baudrate" }
        @{ " 4.3.58.  MODEMANSWER modem-answer-string " Link "4.3.58. MODEMANSWER modem-answer-string" }
        @{ " 4.3.59.  MODEMDIALPRE modem-pre-dial-string " Link "4.3.59. MODEMDIALPRE modem-pre-dial-string" }
        @{ " 4.3.60.  MODEMDIALPOST modem-post-dial-string " Link "4.3.60. MODEMDIALPOST modem-post-dial-string" }
        @{ " 4.3.61.  MODEMHANGUP modem-hangup-string " Link "4.3.61. MODEMHANGUP modem-hangup-string" }
        @{ " 4.3.62.  MODEMINIT modem-init-string " Link "4.3.62. MODEMINIT modem-init-string" }
        @{ " 4.3.63.  NAME board's name " Link "4.3.63. NAME board's name" }
        @{ " 4.3.64.  NODE zone:net/node.point " Link "4.3.64. NODE zone_net_node_point" }
        @{ " 4.3.65.  NODELIST nodelist-directory " Link "4.3.65. NODELIST nodelist-directory" }
        @{ " 4.3.66.  OUTBOUND outbound-mail-directory " Link "4.3.66. OUTBOUND outbound-mail-directory" }
        @{ " 4.3.67.  PASSWORD password " Link "4.3.67. PASSWORD password" }
        @{ " 4.3.68.  PICKUP what " Link "4.3.68. PICKUP what" }
        @{ " 4.3.69.  PUBSCREENNAME name " Link "4.3.69. PUBSCREENNAME name" }
        @{ " 4.3.70.  QUIT " Link "4.3.70. QUIT" }
        @{ " 4.3.71.  (NO)QUIET " Link "4.3.71. (NO)QUIET" }
        @{ " 4.3.72.  REDIALDELAY seconds " Link "4.3.72. REDIALDELAY seconds" }
        @{ " 4.3.73.  RESET " Link "4.3.73. RESET" }
        @{ " 4.3.74.  RETRIES count " Link "4.3.74. RETRIES count" }
        @{ " 4.3.75.  REXXNAME portname " Link "4.3.75. REXXNAME portname" }
        @{ " 4.3.76.  RINGCOMMAND commandline " Link "4.3.76. RINGCOMMAND commandline" }
        @{ " 4.3.77.  RINGINGS number " Link "4.3.77. RINGINGS number" }
        @{ " 4.3.78.  RINGS number " Link "4.3.78. RINGS number" }
        @{ " 4.3.79.  RUN command-string " Link "4.3.79. RUN command-string" }
        @{ " 4.3.80.  SCLEAR " Link "4.3.80. SCLEAR" }
        @{ " 4.3.81.  SCREENMODE mode " Link "4.3.81. SCREENMODE mode" }
        @{ " 4.3.82.  SERIALFLAGS serial-flags " Link "4.3.82. SERIALFLAGS serial-flags" }
        @{ " 4.3.83.  SERIALNAME serial-device-name " Link "4.3.83. SERIALNAME serial-device-name" }
        @{ " 4.3.84.  SERIALUNIT serial-unit-number " Link "4.3.84. SERIALUNIT serial-unit-number" }
        @{ " 4.3.85.  (NO)SHARED " Link "4.3.85. (NO)SHARED" }
        @{ " 4.3.86.  (NO)SHOWREXX " Link "4.3.86. (NO)SHOWREXX" }
        @{ " 4.3.87.  SLINE " Link "4.3.87. SLINE" }
        @{ " 4.3.88.  SLOWMODEM modem-command-delay " Link "4.3.88. SLOWMODEM modem-command-delay" }
        @{ " 4.3.89.  SMODEM modem-command " Link "4.3.89. SMODEM modem-command" }
        @{ " 4.3.90.  (NO)SNIFFARQ " Link "4.3.90. (NO)SNIFFARQ" }
        @{ " 4.3.91.  SPAWN command-string " Link "4.3.91. SPAWN command-string" }
        @{ " 4.3.92.  STARTSESSION " Link "4.3.92. STARTSESSION" }
        @{ " 4.3.93.  STATUS what " Link "4.3.93. STATUS what" }
        @{ " 4.3.94.  STATWINDOW window-specification " Link "4.3.94. STATWINDOW window-specification" }
        @{ " 4.3.95.  STIMEOUT timeout " Link "4.3.95. STIMEOUT timeout" }
        @{ " 4.3.96.  SWAIT string " Link "4.3.96. SWAIT string" }
        @{ " 4.3.97.  (NO)SWEPULSE " Link "4.3.97. (NO)SWEPULSE" }
        @{ " 4.3.98.  SWRITE string " Link "4.3.98. SWRITE string" }
        @{ " 4.3.99.  SYSOP sysop's-name " Link "4.3.99. SYSOP sysop's-name" }
        @{ " 4.3.100. TASKPRI priority " Link "4.3.100. TASKPRI priority" }
        @{ " 4.3.101. TESTFREQ " Link "4.3.101. TESTFREQ" }
        @{ " 4.3.102. (NO)TIMESTAMP " Link "4.3.102. (NO)TIMESTAMP" }
        @{ " 4.3.103. (NO)UNLISTEN " Link "4.3.103. (NO)UNLISTEN" }
        @{ " 4.3.104. (NO)WAZOO " Link "4.3.104. (NO)WAZOO" }
        @{ " 4.3.105. (NO)WRAPLINES " Link "4.3.105. (NO)WRAPLINES" }
        @{ " 4.3.106. (NO)XMAIL " Link "4.3.106. (NO)XMAIL" }
        @{ " 4.3.107. (NO)ZEDZAP " Link "4.3.107. (NO)ZEDZAP" }
        @{ " 4.3.108. (NO)ZEDZIP " Link "4.3.108. (NO)ZEDZIP" }

@EndNode
@Node "4.3.1. (NO)7WIRE"
  4.3.1. (NO)7WIRE

       Enable/disable 7-wire cabling. This will instruct the serial
     device to use (or not to use) the CTS and RTS signals. If you
     are using high speed modems with data compression, such as a US
     Robotics Courier HST, you must use 7WIRE handshake and you must
     set your modem to "hardware handshake" mode, otherwise various
     difficulties will arise.

     Examples: 7Wire
               No7Wire
@EndNode
@Node "4.3.2. ABORT signals"
  4.3.2. ABORT signals

       Abort is the ARexx equivalent of ^C, ^D, ^E and ^F. To
     "simulate" such a keypress, just send an "ABORT k" message,
     where k can be any of C, D, E or F. Multiple signals are OK, ie.
     "ABORT CDEF" works as intended. For example, to terminate a
     TrapDoor that runs in answer mode, use "ABORT F".

       (+) ARexx only command
       (@) asynchronous execution possible (@ABORT)

     Example: TrapTell "Abort F"
@EndNode
@Node "4.3.3. (NO)ABS"
  4.3.3. (NO)ABS

       Enables/disables Automatic Buffer Sizing. If this is turned
     on, TrapDoor will try to reduce its CPU usage during Zmodem
     receiving. ABS has no effect whatsoever on
     Telink/@{ "DIETIFNA" Link "4.3.32. (NO)DIETIFNA" }/Xmodem/FTS1 sessions, on the YooHoo or @{ "EMSI" Link "4.3.36. (NO)EMSI" }
     handshake or on Zmodem sending. It defaults to NOABS.

     Examples: ABS
               NoABS
@EndNode
@Node "4.3.4. (NO)ACCOUNTING"
  4.3.4. (NO)ACCOUNTING

       Turn accounting on or off. When enabled, TrapDoor will keep
     track of the number of calls made to a node, the total cost of
     all outgoing calls to that node, the number of calls received
     from that node, the number of successful and failed sessions as
     well as the number of calls that failed because of BUSY, NO
     CONNECTION or VOICE modem result strings.

     Example: Accounting
@EndNode
@Node "4.3.5. ACCTMAX limits"
  4.3.5. ACCTMAX limits

       When @{ "accounting" link "4.3.4. (NO)ACCOUNTING" } is enabled, TrapDoor, when instructed to call
     a certain node, will check whether or not this node exceeds the
     @{ "accounting" Link "4.3.4. (NO)ACCOUNTING" } limits set by this keyword.

       The limits parameter, a single string enclosed in quotes, sets

       - the maximum costs,
       - the number of calls out,
       - number of failed sessions (where a connection could be
         established, but the carrier was lost before the successful
         end of the session),
       - number of "busy" results,
       - number of "no connection/no carrier/no dialtone" results,
       - number of "voice" results,

     in that order. To disable a certain count, just set it to minus
     one.

     Example: AcctMax "100 50 10 -1 -1 0"

     sets the limits for further outgoing calls to

       - Total cost thus far <= 100.
       - Number of calls made <= 50.
       - Number of failed sessions <= 10.
       - Number of BUSY, NO CONNECTION doesn't matter.
       - Number of VOICE <= 0 (ie. don't call when there was VOICE
         only once).
@EndNode
@Node "4.3.6. ADJUST factor"
  4.3.6. ADJUST factor

       NOTE: the following explaination is only valid for AmigaOS up
     to 1.3. The serial device has been dramatically improved in
     AmigaOS 2.04. If you have AmigaOS 2.04 or higher, set ADJUST to
     zero or leave it out completely.

       Unfortunately, the Amiga serial.device software has a small
     problem with baudrates: not only will it calculate the value to
     stuff into the baudrate register of the serial hardware
     incorrectly and therefore use baudrates that are a bit offset
     from the correct value, but also this behaviour is different on
     NTSC and PAL machines, which makes it even worse.

       Some modems will work fine with such slightly wrong baudrates,
     others will not tolerate this and give a lot of transmission
     errors. By the way, this - it seems - is the main reason why
     programs such as BinkleyTerm Amiga fail to work with high-speed
     modems.

       TrapDoor offers you a cure for such problems: ADJUST allows
     you to specify how much TrapDoor will vary any given baudrate
     before it passes it on to the serial.device. This value should
     be given in thousands (1/1000).  An example: at the default
     value of -11, a baudrate of 2400 will be adjusted to 2400-1.1% =
     2400-26.4 = 2373.6 baud. This value will be rounded to an
     integer and passed to the serial.device, which will then
     miscalculate the values for the hardware registers and set the
     hardware to almost exactly 2400 baud.

       Normally, you should leave this parameter at the default
     value. If you have a HST or similar buffering modem, you can try
     to set it to zero.  If you happen to live in the US (or any
     other country using 60 Hz video systems), you will probably have
     to set it to zero, or maybe even something else. Experiment!

     Example: Adjust -11
@EndNode
@Node "4.3.7. AFTERSESSION command-string"
  4.3.7. AFTERSESSION command-string

       As soon as TrapDoor finishes a FidoNet session with another
     mailer, and hangs up the modem, it will call the command you
     specify here. There may be embedded %-commands, which will be
     substituted by the parameters of the session that just ended; a
     list of them can be found in the chapter
     "@{"Embedded Percent-Commands" Link "4.1. Embedded Percent-Commands"}". To turn off the AFTERSESSION command, use
     AFTERSESSION "" or omit the statement completely.

     Examples: AfterSession "run Execute Script:CheckInbound"
               AfterSession ""
@EndNode
@Node "4.3.8. AKA akalist"
  4.3.8. AKA akalist

       During the @{ "EMSI" Link "4.3.36. (NO)EMSI" } handshake, not only your main address, but
     also a list of other "also-known-as" addresses will be sent to
     the other system. Using the AKA keyword, you can specify all
     your AKA addresses. <akalist> should be a single string, listing
     all your other addresses.

       There is a limit of 20 AKAs for your system.

     Example: Aka "2:3160/0 2:31/0 27:47/11"
@EndNode
@Node "4.3.9. (NO)ALLOWREFUSING"
  4.3.9. (NO)ALLOWREFUSING

       Enables (disables) AllowRefusing mode. Default is
     ALLOWREFUSING.

       When AllowRefusing is enabled, TrapDoor respects the other
     end's wishes in the @{ "EMSI" Link "4.3.36. (NO)EMSI" } handshake. When the other end states it
     does not want to receive any compressed mail, for example,
     TrapDoor won't send it. With NoAllowRefusing, TrapDoor will
     always send what has to be sent.

     Examples: AllowRefusing
               NoAllowRefusing
@EndNode
@Node "4.3.10. ANSWER"
  4.3.10. ANSWER

       Forces TrapDoor to operate in "answer mode". TD will then wait
     for a call, answer the phone and try to start a session with the
     remote system.  While in answer mode, TrapDoor will accept
     commands via its ARexx interface.

     Example: Answer
@EndNode
@Node "4.3.11. ARQSTRING string"
  4.3.11. ARQSTRING string

       Tells TrapDoor what string the modem returns when it connects
     to another modem under an error-control protocol. HST modems,
     for example, return the string "ARQ" as in "CONNECT
     9600/ARQ/HST/HST".

       You must setup the correct ARQSTRING for your modem when you
     use @{ "FLOATLOCK" Link "4.3.41. (NO)FLOATLOCK" } and/or @{ "SNIFFARQ" Link "4.3.90. (NO)SNIFFARQ" }.

     Example: ArqString "ARQ"
@EndNode
@Node "4.3.12. (NO)AUTOADJUST"
  4.3.12. (NO)AUTOADJUST

       When AutoAdjust is set, TrapDoor will try to move or resize
     its status and/or log window to make them fit on screen, should
     their position and/or size be inadequate for the screen on which
     TrapDoor opens.  This works only under KS 2.04 and higher.  The
     default is NoAutoAdjust.

     Examples: AutoAdjust
               NoAutoAdjust
@EndNode
@Node "4.3.13. (NO)AUTOOVERSCAN"
  4.3.13. (NO)AUTOOVERSCAN

       When using the @{ "SCREENMODE" Link "4.3.81. SCREENMODE mode" } CUSTOM, @{ "SCREENMODE" Link "4.3.81. SCREENMODE mode" } TRAPDOOR or
     @{ "SCREENMODE" Link "4.3.81. SCREENMODE mode" } PUBLIC option, switching this on forces TrapDoor to
     open its screen not to the standard NTSC or PAL size, but to the
     maximum size of the Workbench screen. If you use a program like
     "MoreRows" to expand your Workbench screen (under Kickstart
     1.2/1.3) or use extended Overscan settings under AmigaOS 2.04
     (or higher), and you would like TrapDoor to use the same
     expanded screen size, use this parameter.

     Examples: AutoOverScan
               NoAutoOverScan
@EndNode
@Node "4.3.14. (NO)BACKGROUND"
  4.3.14. (NO)BACKGROUND

       When BACKGROUND is turned on, TrapDoor will open its screen
     behind all other screens. Also, when the log and status window
     are opened, they will not be activated, so your currently
     activated window will stay activated.
@EndNode
@Node "4.3.15. BANNER bannerline"
  4.3.15. BANNER bannerline

       This line will be sent to the other side when TrapDoor answers
     a call.  This typically identifies your system, says "hi", or
     tells human callers to hang up.

       Instead of a single line, TrapDoor can also send a text file.
     In that case, use "<filename" as your BANNER (where filename
     should indicate your banner file). Note that your banner file
     should not be too long. A few lines will suffice. TrapDoor will
     automatically convert LFs to CRLFs when sending the file.

     Examples: Banner "TrapDoor Development, online 00:00-06:00"
               Banner "<mail:banner.txt"
@EndNode
@Node "4.3.16. BAUD baudrate"
  4.3.16. BAUD baudrate

       This is the baudrate to initially talk to the modem -- after
     power-on or a reset. This speed may change during a session,
     when you did not @{ "lock" Link "4.3.49. (NO)LOCK" } the baud rate (see @{ "LOCK" Link "4.3.49. (NO)LOCK" }) and a different
     speed is reported by the modem.

     Example: Baud 2400
@EndNode
@Node "4.3.17. BBSCHAR character"
  4.3.17. BBSCHAR character

       This option was included to allow for other "drop-to-the-BBS"
     keys, especially useful for users on machines that do not have
     an ESC key (some Macintosh models, C64). The ascii value you
     indicate here will be recognized and treated as if it were ESC,
     in addition to the ESC key.

       There are three ways to specify the character:

       - decimal ASCII code: just specify the decimal digits of the
         ASCII code
       - hexadecimal ASCII code: use a dollar sign ("$") followed by
         the hexadecimal ASCII code
       - the ASCII character itself: either prepend it with a single
         quote ("'"), or use just the character if it does not
         conflict with the other options (such as the dollar sign).

     Examples: BBSChar 35
               BBSChar $21
               BBSChar !
               BBSChar '!'
@EndNode
@Node "4.3.18. BBSCOMMAND command-string"
  4.3.18. BBSCOMMAND command-string

       This is used to set the command line that TrapDoor will
     execute to start a BBS. There may be embedded %-commands, these
     are described in the chapter "@{"Embedded Percent-Commands" Link "4.1. Embedded Percent-Commands"}".

       When a human caller presses ESC, the %-commands will be
     replaced with the corresponding value and then the resulting
     string will be executed.

       BBSCOMMAND will only be used if the @{ "BBSMODE" Link "4.3.21. BBSMODE mode" } is set to @{ "SPAWN" Link "4.3.91. SPAWN command-string" } or
     EXIT.

     Examples: BBSCommand "immed TR0 %b %B"
               BBSCommand "uucico -r0"

@EndNode
@Node "4.3.19. BBSINOUT device"
  4.3.19. BBSINOUT device

       This can be used to set stdin and stdout for the @{ "BBSCOMMAND" Link "4.3.18. BBSCOMMAND command-string" } to
     something else than those of the initial CLI from which TrapDoor
     was started. Just set it to any valid AmigaDOS device, like AUX:

       To switch off this feature, use BBSINOUT "".

     Example: BBSInOut AUX:
@EndNode
@Node "4.3.20. BBSMESSAGE text"
  4.3.20. BBSMESSAGE text

       With this keyword, you can override the standard messages that
     TrapDoor sends out just after the banner has been sent to a
     human caller. As you can see in the description of @{ "BBSMODE" Link "4.3.21. BBSMODE mode" },
     TrapDoor will usually send a different message depending on the
     @{ "BBSMODE" Link "4.3.21. BBSMODE mode" }. Now you can override this message with the BBSMESSAGE
     command.

       A text you set up with BBSMESSAGE will be in effect until
     another BBSMESSAGE command is sent to TrapDoor. Your BBSMESSAGE
     text will even stay active if you change @{ "BBSMODE" Link "4.3.21. BBSMODE mode" }. So don't
     forget to set up the right BBSMESSAGE in your (ARexx) scripts
     when you switch @{ "BBSMODE" Link "4.3.21. BBSMODE mode" }!

       To re-establish the original behaviour (i.e. TrapDoor will
     automatically select a suitable text depending on the @{ "BBSMODE" Link "4.3.21. BBSMODE mode" }),
     use BBSMESSAGE "". This is also the default.

     Examples: BBSMessage "Bitte druecken Sie zweimal Escape."
               BBSMessage "This system is closed until 5:30."
               BBSMessage ""
@EndNode
@Node "4.3.21. BBSMODE mode"
  4.3.21. BBSMODE mode

       There are four modes available for connecting a BBS to
     TrapDoor:

          NONE ... There is no BBS, TrapDoor will display
                   "Mail only system -- please hang up" to
                   human callers.

          @{ "SPAWN" Link "4.3.91. SPAWN command-string" } .. TrapDoor will use the @{ "BBSCOMMAND" Link "4.3.18. BBSCOMMAND command-string" } setting
                   to start the BBS when a human caller
                   enters an ESC character. When the command
                   returns, TrapDoor will reinitialize the
                   modem and continue to wait for a call.

          EXIT ... TrapDoor will start the @{ "BBSCOMMAND" Link "4.3.18. BBSCOMMAND command-string" } just
                   as with @{ "SPAWN" Link "4.3.91. SPAWN command-string" }, but as soon as the command
                   returns, TrapDoor will exit.

          ZMH .... There is a BBS, but at the moment, human
                   access to the BBS is closed due to
                   "Zone Mail Hour". TrapDoor will display
                   "Mail only period -- please call later"
                   to human callers.

     Examples: BBSMode Spawn
               BBSMode None
               BBSMode ZMH
@EndNode
@Node "4.3.22. (NO)BEEPDISPLAY"
  4.3.22. (NO)BEEPDISPLAY

       When BEEPDISPLAY is enabled (the default), TrapDoor will flash
     the screen when the modem sends a CONNECT message. You can
     disable this with NOBEEPDISPLAY.

     Example: NoBeepDisplay
@EndNode
@Node "4.3.23. BOSS zone_net_node_point"
  4.3.23. BOSS zone:net/node.point

       Specifies the FidoNet address of your boss, as in "2:310/3".
     Please be careful as not to leave out the zone and point
     information when your boss node is capable of four dimensional
     addressing.

       Note: the setting of BOSS also specifies what mail will be
     sent to the other system when you call out using a telephone
     number. So, if you are calling 2:310/3 with "TrapDoor call
     0043-1-454330" to request a file, you have to set BOSS to
     2:310/3 for that call, too.

       Just to be on the safe side: if you are running a node, set
     this to your own address.

     Example: Boss 2:310/6
@EndNode
@Node "4.3.24. CALL number | fido-address"
  4.3.24. CALL number | fido-address

       Tells TrapDoor to call out. The number dialed can either be
     set in the configuration file with another CALL statement, or
     given directly in the command line: when the string following
     the CALL keyword is not @{ "BOSS" Link "4.3.23. BOSS zone_net_node_point" }, it will be interpreted as the
     number to call. Otherwise, the number from the configuration
     file will be used.

       If you have enabled nodelist support (see @{ "NODELIST" Link "4.3.65. NODELIST nodelist-directory" }), you can
     also specify a FidoNet node number instead of the telephone
     number. Please note that you always have to prepend a zone
     number to the node number, as TrapDoor will use the
     zone-separating colon (":") to distinguish node numbers from
     phone numbers. When TrapDoor detects that you have given it a
     node number, it will consult the nodelist to find out the
     telephone number, the password and the baudrate (unless @{ "LOCK" Link "4.3.49. (NO)LOCK" }ed)
     for that node and use these settings.

       Here are a few examples:

       To call your boss using the telephone number and node number
     you have specified in the configuration file, use:

          TrapDoor Call Boss

       Note that you should have the statements

          Call 12345678 Boss 2:310/6

     somewhere in your config file.

       To call another system that is not your boss, don't forget to
     change the @{ "BOSS" Link "4.3.23. BOSS zone_net_node_point" } keyword as well as other settings such as
     password, baud rate, etc.:

          TrapDoor Call 87654321 Boss 2:310/3 Password ""

       If you want to call a certain FidoNet node via the nodelist,
     just use

          TrapDoor Call 2:310/3

     and TrapDoor will figure out the password and other important
     configuration data for that node from the nodelist. Note that
     you have to have nodelist support enabled for this function to
     work (see @{ "NODELIST" Link "4.3.65. NODELIST nodelist-directory" }).

     Examples: Call Boss
               Call 0043-1-556-7854
               Call 2:310/6

       (@) asynchronous execution possible (@CALL)

       @CALL can be used to trigger a call if this TrapDoor is not
     currently busy with another session. You can send TrapDoor the
     asynchronous @CALL command, and it will report either OUTGOING
     or INCOMING if it is already making or taking a call, or it will
     return the string CALLING if your @CALL statement is executing.
     So basically, @CALL is a combination of @@{ "STATUS" Link "4.3.93. STATUS what" } S and a CALL
     command, but the operation is atomic. This is necessary for
     external schedulers.

     Example: @Call 2:253/400
@EndNode
@Node "4.3.25. COLORS palette-specification"
  4.3.26. COLOURS palette-specification

       When you use @{ "SCREENMODE" Link "4.3.81. SCREENMODE mode" } CUSTOM, @{ "SCREENMODE" Link "4.3.81. SCREENMODE mode" } TRAPDOOR or
     @{ "SCREENMODE" Link "4.3.81. SCREENMODE mode" } PUBLIC (see @{ "SCREENMODE" Link "4.3.81. SCREENMODE mode" }), you can change the colors
     with this option. The palette specifier looks rather like a
     window specification, starting with color 0 (the background
     color) and continuing to color 3. The value for each color is
     given in decimal, using the formula

         color = red * 256 + green * 16 + blue

     where red, green and blue specify the intensity of each color (0
     is none, 15 is highest intensity). As an alternative, each value
     can also be given in hexadecimal notation, if prepended with a
     dollar sign ("$").

       If you don't specify the colors yourself, TrapDoor will use
     the most stunning internal defaults.

     Examples: Colours 2730/0/2560/10
               Colors $aaa/$000/$a00/$00a
@EndNode
@Node "4.3.27. CONCEPTS"
  4.3.27. CONCEPTS

       Display some ideas about the concepts of ShareWare. Also tells
     you how to register your copy of TrapDoor (and why to register).
     Read this!

     Example: Concepts
@EndNode
@Node "4.3.28. CONFIG config-file"
  4.3.28. CONFIG config-file

       This is for people with a command-linophobia. It allows you to
     put yet another config file in your favorite config directory in
     addition to the standard "TrapDoor.cfg" that TrapDoor looks for.
     The format of such a file is just the same as that of the
     command line -- only that linefeeds will be ignored. Also, you
     may have comments embedded in the config file.  Just preceed
     them with a semicolon (";"), and TrapDoor will ignore the rest
     of the line starting at the semicolon.

       Please note that several config files chaining one to the
     other are quite possible -- but you may have to increase your
     stack size when you have a try at this. Also note that a
     recursive config file (ie. calling itself) is a rather bad idea
     since you may not have set your stack size to plus infinity.

     Example: Config Mail:TrapDoor.cfg
@EndNode
@Node "4.3.29. COST"
  4.3.29. COST

       This allows you to specify a default cost for calls. This cost
     will be in effect if you do not use a nodelist. This cost factor
     should be in units/min.

       You can also use COST to allow calls to undialable nodes. Use
     a special config to set up the @{ "CALL" Link "4.3.24. CALL number | fido-address" } and COST parameter, and your
     TrapDoor will be able to call that node. This is also explained
     in the chapter "@{"Custom Configuration Entries" Link "3.5. Custom Configuration Entries" }".

     Example: Cost 400

@EndNode
@Node "4.3.30. CREDITS"
  4.3.30. CREDITS

       Displays some "About" information. Read this first -- it will
     tell you a bit about this program and its authors.

     Example: Credits
@EndNode
@Node "4.3.31. DIALER command-string"
  4.3.31. DIALER command-string

       Use this if you have a custom dial-out program that will
     perform special PCP-dialing, for example. If a string other than
     "" has been specified and TrapDoor is about to call out, instead
     of sending a dial command to the modem, TrapDoor will call the
     external command. When the external program returns, TrapDoor
     will immediately start the session handshake, just as if the
     @{ "IMMEDIATE" Link "4.3.45. (NO)IMMEDIATE" } option had been used.

       To turn off the special DIALER feature and use the built-in
     modem handling, use DIALER "" or omit the statement completely.
     There may be embedded %-commands, these are described in the
     chapter "@{"Embedded Percent-Commands" Link "4.1. Embedded Percent-Commands"}".

     Examples: Dialer "callpcp"
               Dialer ""
@EndNode
@Node "4.3.32. (NO)DIETIFNA"
  4.3.32. (NO)DIETIFNA

       Enable (disable) DietIfna mode. Choose this, when you only
     transfer small files or when the line quality is rather poor
     since it might then be faster than ZModem.

     Examples: NoDietIfna
               DietIfna
@EndNode
@Node "4.3.33. (NO)DIRECTZAP"
  4.3.33. (NO)DIRECTZAP

       Enable (disable) DirectZap mode. DirectZap is a slight variant
     of the @{ "ZedZap " Link "4.3.107. (NO)ZEDZAP" } transfer protocol, which is a slight variant of
     Zmodem -- on large files, this is the fastest protocol TrapDoor
     has to offer. Like @{ "ZedZap " Link "4.3.107. (NO)ZEDZAP" }, DirectZap will automatically switch
     block sizes depending on modem speed and quality of the line. It
     will also resume an interrupted transfer if possible.

       DirectZap only works in @{ "EMSI" Link "4.3.36. (NO)EMSI" } mode and only if the other side
     also supports it. Also, DirectZap only works on 8-bit
     transparent lines. You should disable it (use NODIRECTZAP) if
     you are working over a non-transparent line like a
     packet-switching network, for example.

     Examples: NoDirectZap
               DirectZap

@EndNode
@Node "4.3.34. DROPBBSSECS seconds"
  4.3.34. DROPBBSSECS seconds

       When TrapDoor cannot detect a Fidonet handshake after
     DROPBBSSECS seconds, it will assume the caller is a human and
     pass the call to the BBS just as if the human had pressed Escape
     twice. You may not set DROPBBSSECS to anything lower than 10
     seconds. It defaults to 20 seconds.

     Example: DropBBSSecs 45
@EndNode
@Node "4.3.35. (NO)DSR"
  4.3.35. (NO)DSR

       After TrapDoor opens the serial.device, it will wait a short
     while (depending on @{ "SLOWMODEM" Link "4.3.88. SLOWMODEM modem-command-delay" }) and then sample the DSR line.
     This line should be activated when a valid data set (i.e. a
     functioning modem) is connected to the serial line. If TrapDoor
     doesn't find DSR activated, it will report "! modem not ready"
     and abort.

       There are a few modems that cannot properly handle DSR. For
     these modems, use the NODSR setting. Note that when using NODSR,
     TrapDoor can't tell whether the modem is powered-on, on-line and
     ready.

       Also note that if you have not connected DSR to the modem (if
     you have a wrong/bad cable), RTS/CTS handshake might not work
     correctly. This is due to the way the Amiga serial.device
     handles things.

     Examples: NoDsr
               Dsr
@EndNode
@Node "4.3.36. (NO)EMSI"
  4.3.36. (NO)EMSI

       Turns the EMSI handshake on or off.

       Note that the EMSI protocol is rather new. Although EMSI is
     designed to be backwards compatible to older mailers, some fail
     when presented an EMSI handshake packet. If you experience any
     session handshake failures with other mailers, try again with
     EMSI disabled (use the NOEMSI switch).

       If you regularly call a node that cannot handle EMSI, you can
     set up a custom configuration string for that node. See the
     chapter "@{"Custom Configuration Entries" Link "3.5. Custom Configuration Entries" }".

     Examples: NoEmsi
               Emsi
@EndNode
@Node "4.3.37. (NO)FASTEMSI"
  4.3.37. (NO)FASTEMSI

       Per default, FASTEMSI is enabled and this is what TrapDoor has
     been doing all the time since it could do @{ "EMSI" Link "4.3.36. (NO)EMSI" }: immediately
     after the connect, it will try to detect whether the other
     system can do @{ "EMSI" Link "4.3.36. (NO)EMSI" }, and if the other end indicates this, it will
     immediately start the handshake.

       This "fast" variant of @{ "EMSI" Link "4.3.36. (NO)EMSI" } can however, under very rare
     circumstances, give problems. One of the things that might lead
     to problems are asterisks '*' in banner texts. If you call a
     system and repeatedly experience @{ "EMSI" Link "4.3.36. (NO)EMSI" } handshake failures, try
     turning off "fast" @{ "emsi" Link "4.3.36. (NO)EMSI" } with the NOFASTEMSI switch.

       When fast @{ "EMSI" Link "4.3.36. (NO)EMSI" } is turned off, @{ "EMSI" Link "4.3.36. (NO)EMSI" } handshakes will be a little
     bit slower (about 1-2 secs).

     Examples: FastEmsi
               NoFastEmsi
@EndNode
@Node "4.3.38. FAXCOMMAND commandline"
  4.3.38. FAXCOMMAND commandline

       When TrapDoor detects a fax connect (it looks for @{ "FAXSTRING" Link "4.3.39. FAXSTRING string" } in
     messages from the modem), it will spawn this external program.
     Using this technique you can run your fax software to accept
     incoming fax calls while at the same time allowing ordinary
     modem callers to go to the bulletin board or to run a FidoNet
     session with your system. There may be embedded %-commands in
     the string, these are described in the chapter
     "@{"Embedded Percent-Commands" Link "4.1. Embedded Percent-Commands"}".

       This will also work on outgoing calls. You can use the
     embedded percent command "d" to tell your fax software if this
     is an outgoing or incoming call.

     Example: FaxCommand "Fax %d"
@EndNode
@Node "4.3.39. FAXSTRING string"
  4.3.39. FAXSTRING string

       Tells TrapDoor what string the modem returns when it connects
     to a fax machine or another fax modem using the fax protocol.
     Some fax modems, for example return the string "FAX" as in
     "CONNECT FAX"; others return "+FCON". You must setup the correct
     FAXSTRING for your modem when you use the @{ "FAXCOMMAND" Link "4.3.38. FAXCOMMAND commandline" } keyword.

     Examples: FaxString "FAX"
               FaxString "+FCON"
@EndNode
@Node "4.3.40. FKEY function-key-assignment"
  4.3.40. FKEY function-key-assignment

       Assign a configuration command string to a function key. The
     keyword must be followed by a single string, starting with the
     number of the function key (F1=1, F2=2,...; Shift-F1=11,
     Shift-F2=12,...), followed by a colon (":"), followed by the
     assignment.

       If you wish to include spaces in the assignment, the argument
     must be enclosed in double-quotes; to include quotes within the
     quoted string, use the backslash ("\") as an escape character.

     Examples: FKey "1:@{ "EMSI" Link "4.3.36. (NO)EMSI" }"
               FKey "11:@{ "NoEMSI" Link "4.3.36. (NO)EMSI" }"
               FKey "5:@{ "Call" Link "4.3.24. CALL number | fido-address" } Boss"
               FKey "6:Run CE"
               FKey "7:Run \"Execute Scripts:Import\""
               FKey "8:Run \"TrapPoll +r\""
@EndNode
@Node "4.3.41. (NO)FLOATLOCK"
  4.3.41. (NO)FLOATLOCK

       HST modems support a mode (&B2) in which they will drop the
     DTE baud rate (the baud rate used between modem and computer)
     when a connection is made without error-correction, but will
     keep the DTE baud rate locked on a connection with
     error-correction. FLOATLOCK allows you to use this mode.

       If you have FLOATLOCK enabled, whenever TrapDoor reads a
     CONNECT xxx string from the modem, it will try to find the
     @{ "ARQSTRING" Link "4.3.11. ARQSTRING string" } string in the CONNECT result. If it finds it, it will
     keep the baudrate locked, otherwise it will switch to the
     baudrate found in the CONNECT string. You have to have LOCK
     enabled when you wish to use FLOATLOCK.

       To turn off FLOATLOCK mode, use NOFLOATLOCK or omit the
     statement completely.

       NOTE: we do not recommend using FLOATLOCK. Instead, set your
     HST to &B1 and S15=8. This can provide slightly higher troughput
     on non-ARQ connections than using &B2 and FLOATLOCK.

     Examples: FloatLock
               NoFloatLock
@EndNode
@Node "4.3.42. (NO)FORBID"
  4.3.42. (NO)FORBID...

       Select what type of mail/files you do _not_ want to be sent.
     In an @{ "EMSI" Link "4.3.36. (NO)EMSI" } handshake, TrapDoor will ask the remote system to not
     send these files (the other end may override this with the
     @{ "NOALLOWREFUSING" Link "4.3.9. (NO)ALLOWREFUSING" } switch):

       - FORBIDXMAIL   Compressed mail and file attaches
       - FORBIDFREQ    File requests
       - FORBIDALL     All of the above

     Examples: ForbidXMail
               NoForbidFreq
@EndNode
@Node "4.3.43. FREQUEST command-string"
  4.3.43. FREQUEST command-string

       Sets the command to be executed as a file-request server on
     received file requests from remote systems. There may be
     embedded %-commands, these are described in the chapter
     "@{"Embedded Percent-Commands" Link "4.1. Embedded Percent-Commands"}".

       The called command should then read the remote's request from
     the %i file, perform any action that it wants to do, and write a
     list of files that it wishes to send to the other side
     (including directory path) to the %o file.

       To turn off the file-request capability, use FREQUEST "".

       Please note that the answering of file-requests is disabled in
     unregistered versions of TrapDoor. The external file-request
     server will not be called.

     Examples: FRequest "rx frequest %i,%o,%l"
               FRequest ""
@EndNode
@Node "4.3.44. HELP"
  4.3.44. HELP

       Output some descriptive text, explaining the usage and
     commandline syntax of TrapDoor.

     Example: Help
@EndNode
@Node "4.3.45. (NO)IMMEDIATE"
  4.3.45. (NO)IMMEDIATE

       If you specify IMMEDIATE, TrapDoor will not care about modem
     commands, dialing, resetting the modem etc, but will go directly
     and immediately to the session handshake (@{ "EMSI" Link "4.3.36. (NO)EMSI" }, YooHoo or
     TSynch). So, if you have two Amigas connected via a serial
     cable, you can use TrapDoor to transfer files between them.

       On the first machine, start TrapDoor with

          TrapDoor ANSWER IMMEDIATE @{ "NODSR" Link "4.3.35. (NO)DSR" }

       TrapDoor will start up, open the serial device, ignore the @{ "DSR" Link "4.3.35. (NO)DSR" }
     line (which has not been set high at that time because the other
     computer has not opened its serial device yet) and wait for
     approximately 30 seconds for a session handshake.

       Now, on the other computer, run

          TrapDoor @{ "CALL" Link "4.3.24. CALL number | fido-address" } @{ "BOSS" Link "4.3.23. BOSS zone_net_node_point" } IMMEDIATE

       TrapDoor will open its windows, and within a few seconds you
     should see the banner line of the other system appear in the
     status window. TrapDoor will then go on as usual with the
     session handshake and the actual file transfers.

       IMMEDIATE has another use: if you send IMMEDIATE to a TrapDoor
     which is waiting in answer mode, it will react just as if it had
     just detected a RING from the modem. TrapDoor will send out the
     @{ "MODEMANSWER" Link "4.3.58. MODEMANSWER modem-answer-string" } command and take an incoming call.

     Example: Immediate

@EndNode
@Node "4.3.46. INBOUND inbound-mail-directory"
  4.3.46. INBOUND inbound-mail-directory

       This should point to the directory where incoming files will
     be put.  Usually "Mail:Inbound". Make sure that the TrapDoor
     inbound directory is the same as the one for your mail tosser,
     or your attempts to import mail will fail miserably.
     Additionally, TrapDoor uses this directory for temporary files
     during receiving and for files that store information about
     aborted/interrupted file transfers, so that receiving these
     files can be resumed in the next @{ "ZedZap " Link "4.3.107. (NO)ZEDZAP" } session. For more
     information, see chapter @{"Inbound Directory" Link "7. The Inbound Directory"}".

     Examples: Inbound "Mail:Inbound"
@EndNode
@Node "4.3.47. (NO)INTERLACE"
  4.3.47. (NO)INTERLACE

       Specify whether TrapDoor should open its screen in the
     interlace mode or not.

     Examples: NoInterlace
               Interlace
@EndNode
@Node "4.3.48. (NO)KIWIPULSE"
  4.3.48. (NO)KIWIPULSE

       Applies a special number translation to the dial string before
     sending it to the modem. Special feature for kiwi people with
     vanilla modems.

     Examples: NoKiwiPulse
               KiwiPulse
@EndNode
@Node "4.3.49. (NO)LOCK"
  4.3.49. (NO)LOCK

       Lock (do not lock) the baudrate. If the baudrate is locked,
     and TrapDoor receives a "CONNECT XXXX" message from the modem,
     TrapDoor will not adjust the baud rate to XXXX, but continue to
     operate at the rate specified with the @{ "BAUD" Link "4.3.16. BAUD baudrate" } keyword. Use this
     for buffered modems that convert the baud rates internally (for
     example, HST). Be sure to also configure the modem for a locked
     baudrate in that case (i.e. on HSTs, use &B1).

     Examples: NoLock
               Lock
@EndNode
@Node "4.3.50. LOG level_text"
  4.3.50. LOG level:text

       Upon receipt of this ARexx command, TrapDoor will write the
     specified text with the specified log level to the log file.

       (+) ARexx only command
       (@) asynchronous execution possible
           !!! not yet implemented !!!

     Example: Log "3:Filerequest TRAPDOOR -> files:TD_1_50.LZH"

@EndNode
@Node "4.3.51. LOGFILE filename"
  4.3.51. LOGFILE filename

       Sets the name of the logfile.

     Example: Logfile "Mail:TrapDoor.Log"
@EndNode
@Node "4.3.52. LOGLEVEL group_level"
  4.3.52. LOGLEVEL group:level

       Sets the amount of logging information to be put into the
     logfile.  There are ten logging groups, each of which deals with
     a different part of messages (such as modem, outbound, session
     protection, file transfers, general messages, external messages
     etc.). Each group maintains its own loglevel, which ranges from
     0 to 7. A list of all log messages together with their groups
     and levels can be found in the file "LogMsgs.doc".

       The groups:

         0  Debugger    ?  debugging messages, internal errors
         1  Link        -  line is too bad, baudrate too low
         2  Transfer    |  receiving xyz.txt, cps rates
         3  System      !  deleting file xyz.txt, user break, out of
                           mem
         4  Modem       ~  NO CARRIER, BUSY, RING, VOICE
         5  Session     =  Begin of session, picking up mail, session
                           aborted, giving mail to, session connect
                           time, cost
         6  Security    *  bad password, unlisted system, node is
                           undialable
         7  Outside     x  spawning dialer, executing aftersession,
                           spawning bbs
         8  Information :  sysop, name, aka, place, flags, using,
                           trxid
         9  Scheduler   +  waiting for call, incoming call detected,
                           calling node

       The levels:

         0  Silent         minimum logging
         1  Terse          terse logging
         2  Discreet       normal logging
         3  Verbose        detailed logging
         4  Talkative      extensive logging
         5  Excessive      very much logging
         6  Annoying       even more logging
         7  Monologue      maximum logging

       Two (Discreet) seems to be a rather nice logging level and is
     the default for all groups. You might want to turn on more
     detailed logging in the Security and Information groups.

     Examples: Loglevel 5:3
               Loglevel 4:4

@EndNode
@Node "4.3.53. LOGWINDOW window-specification"
  4.3.53. LOGWINDOW window-specification

       Use this keyword to change the position and size of the log
     window that TrapDoor opens. The window specification looks
     rather similar to a normal AmigaDOS CON:, RAW: or NEWCON:
     specification, but omit the device name and the window name. The
     correct format is: LeftEdge/TopEdge/Width/Height i.e. something
     like 0/20/640/150

     Example: LogWindow 0/20/640/150
@EndNode
@Node "4.3.54. (NO)MAXBAUD"
  4.3.54. (NO)MAXBAUD

       If turned on, the @{ "MINBAUD" Link "4.3.57. MINBAUD baudrate" } parameter will automatically be set
     to the baudrate of the called system (found in the nodelist) or
     the own baudrate (set with @{ "BAUD" Link "4.3.16. BAUD baudrate" }) on outgoing calls, whichever is
     lower.

       What is this good for? Let us assume you have a 2400 baud
     modem, and you wish to call a node that is also capable of 2400
     baud. His nodelist entry also says he can do 2400 baud. Now, if
     you call him, sometimes, when line noise appears just when the
     modems negotiate the connect speed, this may cause a connection
     only at 1200 baud, or even worse, at 300 baud. If you have
     MAXBAUD enable, TrapDoor will immediately hang up in such a
     case.

       On the other hand, if you are using an HST modem, and you are
     calling a system with a Trailblazer PEP modem, you might have
     problems when you use MAXBAUD: if the nodelist entry for the PEP
     modem specifies 9600 baud, TrapDoor will hang up if the connect
     speed is lower than 9600 baud. But: HST modems and PEP modems
     use a different high speed protocol and can only talk at 2400
     baud to each other. So, TrapDoor will hang up every time you
     call such a system.

       You have to decide whether the usage of MAXBAUD is appropriate
     for you or not. You can also set up custom configuration entries
     to select specific @{ "MINBAUD" Link "4.3.57. MINBAUD baudrate" } values for selected nodes. See the
     chapter "@{"Custom Configuration Entries" Link "3.5. Custom Configuration Entries" }" for more details.

       Note: setconfig <node> NOMAXBAUD won't work. See the chapter
     @{"Bugs? Poof! They're all features!" Link "8. Bugs? Poof! They're all features!" }.

     Examples: NoMaxBaud
               MaxBaud
@EndNode
@Node "4.3.55. MAXLOGLINES number"
  4.3.55. MAXLOGLINES number

       This allows you to specify the number of log-lines that will
     be buffered, i.e. after so many lines have been written to the
     logfile, the file will be flushed (closed and reopened, in order
     to force all the data to disk).

       If you set this to 0, the behaviour is as in TrapDoor 1.80 and
     earlier (and this is also the default): the logfile will be
     flushed after every single line.

     Example: MaxLogLines 5
@EndNode
@Node "4.3.56. MAXLOGSECS seconds"
  4.3.56. MAXLOGSECS seconds

       This specifies the number of seconds that may expire before
     TrapDoor will flush the logfile. It will actually flush it when
     the next line is written to the logfile.

       If you set this to 0, the behaviour is as in TrapDoor 1.80 and
     earlier (and this is also the default): the logfile will be
     flushed after every single line.

     Example: MaxLogSecs 7
@EndNode
@Node "4.3.57. MINBAUD baudrate"
  4.3.57. MINBAUD baudrate

       Minimal baudrate to establish a connection. Connections at
     baud rates below this limit will not be allowed, no matter if
     incoming or outgoing.  TrapDoor will hang up immediately if the
     baud rate is lower than the value specified.

     Example: MinBaud 1200
@EndNode
@Node "4.3.58. MODEMANSWER modem-answer-string"
  4.3.58. MODEMANSWER modem-answer-string

       Modem answer string like "AT~A|". For special characters like
     "~", "^" and "|" that are allowed in the string, see chapter
     "@{"Modem Commands" Link "4.2. Modem Commands" }". The total length of the string may not exceed
     100 characters.

       This string is sent to the modem whenever TrapDoor detects a
     "RING" and wants to answer the phone.

     Example: ModemAnswer "ATA|"
@EndNode
@Node "4.3.59. MODEMDIALPRE modem-pre-dial-string"
  4.3.59. MODEMDIALPRE modem-pre-dial-string

       Modem dial string such as "AT~DP" or "AT~DT". For special
     characters like "~", "^" or "|" that are allowed in the string,
     see chapter "@{"Modem Commands" Link "4.2. Modem Commands" }".  The total length of the string is
     limited to 100 characters.

       This string is sent to the modem whenever TrapDoor wants to
     dial a number. After sending this string, TrapDoor will send the
     telephone number to dial, followed by the @{ "MODEMDIALPOST" Link "4.3.60. MODEMDIALPOST modem-post-dial-string" } string.

     Example: ModemDialPre "ATDP"

@EndNode
@Node "4.3.60. MODEMDIALPOST modem-post-dial-string"
  4.3.60. MODEMDIALPOST modem-post-dial-string

       Modem dial string such as "|". For special characters like
     "~", "^" and "|" that are allowed in the string, see chapter
     "@{"Modem Commands" Link "4.2. Modem Commands" }".  The total length of the string is limited to
     20 characters.

       This string is sent to the modem after the telephone number,
     when TrapDoor wants to dial a number. Also see the description
     of @{ "MODEMDIALPRE" Link "4.3.59. MODEMDIALPRE modem-pre-dial-string" }.

     Example: ModemDialPost "|"
@EndNode
@Node "4.3.61. MODEMHANGUP modem-hangup-string"
  4.3.61. MODEMHANGUP modem-hangup-string

       This string will be sent to the modem whenever TrapDoor wants
     to hang up the line. There are many methods to accomplish this,
     including the strange "~~~+++~~~ATH|" method. We do not
     recommend this. If you have configured your modem according to
     the descriptions in the chapter "@{"The Modem" Link "2.4. The Modem" }", it should hang up
     as soon as DTR is lowered. So, the recommended hangup string is
     "|^|".

       For special characters like "~", "^" and "|" that are allowed
     in the string, see chapter "@{"Modem Commands" Link "4.2. Modem Commands" }". The total length of
     the string is limited to 40 characters.

     Example: ModemHangup "|^|"
@EndNode
@Node "4.3.62. MODEMINIT modem-init-string"
  4.3.62. MODEMINIT modem-init-string

       This string will be sent to the modem during the
     initialization phase of TrapDoor. Things like "AT~S7=20|" can be
     done here. For special characters like "~", "^" and "|" that are
     allowed in the string, see chapter "@{"Modem Commands" Link "4.2. Modem Commands" }". The total
     length of the string is limited to 160 characters.

       TrapDoor will also check if it gets any response from the
     modem after sending this init string. The modem should at least
     send something like "OK". In fact, any carriage-return
     terminated string from the modem will suffice.

       If TrapDoor is unable to detect a response from the modem, it
     will report "Initializing modem failed" and exit.

     Example: ModemInit "ATZ|"
@EndNode
@Node "4.3.63. NAME board's name"
  4.3.63. NAME board's name

       Name of this system -- to be sent to the other system during
     the beginning of a mail session. The length of the string is
     limited to 60 characters.

     Example: Name "The Mad House -- TrapDoor Development"

@EndNode
@Node "4.3.64. NODE zone_net_node_point"
  4.3.64. NODE zone:net/node.point

       Sets your own FidoNet address.

       For points:

            If your boss uses a mailer that is not point smart, be
          sure to insert your private pointnet number here and not
          your full address. In this case, you should not use your
          complete four dimensional address (2:310/3.24), but rather
          the fake pointnet addressing method "2:3000/24".

            FrontDoor, D'Bridge and newer versions of BinkleyTerm on
          the other hand do already support the four dimensional
          addressing method. Use your full address then.

       For nodes:

            Just set this to your own address.

     Examples: Node 2:310/3.14
               Node 2:310/6
@EndNode
@Node "4.3.65. NODELIST nodelist-directory"
  4.3.65. NODELIST nodelist-directory

       Set this to the directory where you keep your nodelist files.
     TrapDoor understands only nodelist files generated by its own
     nodelist processor, TrapList.  TrapDoor now uses the
     "traplist.library", which should be in your LIBS: directory, to
     access the nodelist.

       To disable the nodelist support in TrapDoor, use NODELIST "".

     Examples: Nodelist "Mail:Nodelist"
               Nodelist ""
@EndNode
@Node "4.3.66. OUTBOUND outbound-mail-directory"
  4.3.66. OUTBOUND outbound-mail-directory

       This should point to the directory where outgoing files are
     kept. It should contain all the necessary #?.REQ, #?.FLO, #?.HLO
     and #?.CLO files and the associated mail bundles. TrapDoor will
     automatically maintain and delete these files as they get sent
     out. Usually set to "Mail:Outbound".  For more information, see
     chapter "@{"The Outbound Directory" Link "6. The Outbound Directory" }".

     Example: OutBound "Mail:Outbound"
@EndNode
@Node "4.3.67. PASSWORD password"
  4.3.67. PASSWORD password

       Specifies the password to be used for mail sessions.

       On an outgoing call, if your password does not match the
     password that the other system has set up for you, you will be
     disconnected at the session handshake.

       On incoming calls, if the password of the remote system does
     not match the password you specified here, this will be detected
     during the session handshake, recorded in the log file and the
     caller/callee will politely be shown the way out (i.e.
     disconnected).

       If Nodelist support has been enabled by setting the @{ "NODELIST" Link "4.3.65. NODELIST nodelist-directory" }
     parameter, passwords will be fetched from there, unless the
     other system is not found in the nodelist.

     Example: Password "secret"
@EndNode
@Node "4.3.68. PICKUP what"
  4.3.68. PICKUP what

       Select what mail and files to pickup (receive) from the remote
     system. These "Pickup Preferences" will only work if an @{ "EMSI" Link "4.3.36. (NO)EMSI" }
     handshake was used at the beginning of the session. There are
     three possible pickup values:

       - ALL     Pick up mail and files for all of my addresses
                 (primary address + @{ "AKA" Link "4.3.8. AKA akalist" }s)
       - PRIMARY Pick up mail and files for the primary address only
       - NONE    Do not pick up mail or files at all

     Examples: Pickup Primary
               Pickup All
               Pickup None
@EndNode
@Node "4.3.69. PUBSCREENNAME name"
  4.3.69. PUBSCREENNAME name

       If you use @{ "SCREENMODE" Link "4.3.81. SCREENMODE mode" } PUBLIC, this keyword allows you to
     specify the name of the public screen that TrapDoor should use.
     If a public screen with this name already exists, TrapDoor will
     open its windows there. If it does not exist, TrapDoor will open
     one.

       Expert Notice: when TrapDoor opens the public screen, it will
     AllocVec() a buffer for the screen title. If any other program
     than TrapDoor closes the public screen, a few bytes of memory
     will be lost. If you are confused now and don't quite understand
     what I mean, just ignore it. :-)

       PUBSCREENNAME defaults to "TrapDoor".

     Example: PubScreenName "Hugo"

@EndNode
@Node "4.3.70. QUIT"
  4.3.70. QUIT

       This tells TrapDoor to exit (when waiting in answer mode) and
     is exactly the same as "@{ "ABORT" Link "4.3.2. ABORT signals" } F" or pressing Alt-X or Alt-Q.

       (+) ARexx only command
       (@) asynchronous execution possible

     Examples: Quit
               @Quit
@EndNode
@Node "4.3.71. (NO)QUIET"
  4.3.71. (NO)QUIET

       If enabled, TrapDoor will run quietly in the background
     without opening any windows, screens etc. The logfile will still
     be written and you can still send ARexx commands to a TrapDoor
     running in QUIET mode.

     Examples: NoQuiet
               Quiet
@EndNode
@Node "4.3.72. REDIALDELAY seconds"
  4.3.72. REDIALDELAY seconds

       This specifies the amount of time TrapDoor spends idling
     between calls to a system. Note that TrapDoor will not accept
     incoming calls while in "redial" state, so this option is only
     suited for points and will only work if you start TrapDoor with
     "TrapDoor Call ..." (i.e. you do not start it in answer mode).

     Example: RedialDelay 120
@EndNode
@Node "4.3.73. RESET"
  4.3.73. RESET

       This forces TrapDoor to reset/reinitialize the modem.

       (+) ARexx only command

     Example: Reset
@EndNode
@Node "4.3.74. RETRIES count"
  4.3.74. RETRIES count

       When calling a system, this instructs TrapDoor not to exit on
     a failed call (eg. line is busy), but to try it thus often
     again. Between the calls, TrapDoor will spend @{ "REDIALDELAY" Link "4.3.72. REDIALDELAY seconds" }
     seconds waiting. Note that this automatic redialing does _not_
     apply if you place the call from within @{ "ANSWER" Link "4.3.10. ANSWER" } mode. You have to
     start TrapDoor directly with the @{ "CALL" Link "4.3.24. CALL number | fido-address" } parameter.

     Example: Retries 5

@EndNode
@Node "4.3.75. REXXNAME portname"
  4.3.75. REXXNAME portname

       Using this configuration keyword, you can select the ARexx
     port name (the "host address" in ARexx terminology) of TrapDoor.
     If you run TrapDoor on multiple lines, be sure to set up a
     different REXXNAME for every invocation. TrapDoor will not start
     up if the port name is already in use.

     Example: RexxName "TrapDoor"
@EndNode
@Node "4.3.76. RINGCOMMAND commandline"
  4.3.76. RINGCOMMAND commandline

       This command will be spawned whenever TrapDoor detects a
     "RING" from the modem. When it returns, TrapDoor will answer the
     call (if @{ "RINGS" Link "4.3.78. RINGS number" } "RING"s have passed). You can use it to trigger
     some sound effects, if you like.

     Example: RingCommand "rx \"address upd play 12\""
@EndNode
@Node "4.3.77. RINGINGS number"
  4.3.77. RINGINGS number

       This is the number of times TrapDoor will allow another system
     to keep the phone "ringing" on an outgoing call. TrapDoor
     increments a counter every time it receives the string "RINGING"
     or "RRING" from your modem. When the counter exceeds the number
     specified with RINGINGS, TrapDoor will hang up, report the call
     as "NO ANSWER", and account it as an unanswered call (similar to
     "NO CARRIER").

     Example: Ringings 3
@EndNode
@Node "4.3.78. RINGS number"
  4.3.78. RINGS number

       Number of rings to wait before answering an incoming call. To
     turn off the answering feature, you can set this to any
     high-enough value (RINGS 5000 will probably never answer the
     phone).

     Example: Rings 1
@EndNode
@Node "4.3.79. RUN command-string"
  4.3.79. RUN command-string

       Causes TrapDoor to execute the given command asynchronously.
     If the command includes spaces, it must be enclosed in
     double-quotes; to include quotes within the quoted string, use
     the backslash ("\") as an escape character. Embedded Percent
     Commands can also be used here.

       TrapDoor will not wait until the command returns, but merely
     continue to process ARexx messages and answer incoming calls.
     This is the big difference to the @{ "SPAWN" Link "4.3.91. SPAWN command-string" } keyword. In fact, "Run
     XXX" is exactly the same as "@{ "SPAWN" Link "4.3.91. SPAWN command-string" } \"Run XXX\"".

       (+) ARexx only command

     Examples: Run "ed mail:TrapDoor.cfg"
               Run "echo \"This command was started from TrapDoor.\""
@EndNode
@Node "4.3.80. SCLEAR"
  4.3.80. SCLEAR

       This command will clear the serial (receive) buffer.

       (+) ARexx only command

     Example: SClear
@EndNode
@Node "4.3.81. SCREENMODE mode"
  4.3.81. SCREENMODE mode

       This allows you to specify the screen where TrapDoor opens its
     windows.  There are five possible modes:

          WORKBENCH -- TrapDoor will open its windows on the
        workbench screen.

          CUSTOM -- TrapDoor will open its own screen and place the
        windows there.

          TRAPDOOR -- Similar to CUSTOMSCREEN, TrapDoor will open its
        windows on its own screen. However, if you have multiple
        TrapDoors running at the same time, all invocations of
        TrapDoor will share the same "TrapDoor" screen. The screen
        will only close when the last copy of TrapDoor quits
        running.

          PUBLIC -- Similar to TRAPDOOR, but will use a Kickstart
        2.04 Public Screen instead of the proprietary and
        undocumented method that SCREENMODE TRAPDOOR uses. Thus,
        other programs can open their windows on the public TrapDoor
        screen, too. Or you can also make TrapDoor open its windows
        on a foreign public screen if you use SCREENMODE PUBLIC in
        conjunction with @{ "PUBSCREENNAME" Link "4.3.69. PUBSCREENNAME name" } (to define the name of the
        public screen that TrapDoor should use).

          ACTIVE -- TrapDoor will use the screen with the currently
        active window and open its windows there. Note that this is
        rather dangerous as TrapDoor cannot control when the other
        program will close the screen. If this happens, TrapDoor will
        try to write to a screen that no longer exists and this will
        in most cases immediately crash the machine.

          In spite of these restrictions, SCREENMODE ACTIVE looks
        very nice in conjunction with Chameleon, a wonderful message
        editor written by Jürgen Hermann. Try sticking the following
        command into your 'CE.CFG' file:

                External CustomScreen "Call Boss" \
                        "TrapDoor call boss screenmode active"

          Now start Chameleon, pull down the "External" menu, select
        this item and see for yourself ...

     Examples: ScreenMode Workbench
               ScreenMode TrapDoor
@EndNode
@Node "4.3.82. SERIALFLAGS serial-flags"
  4.3.82. SERIALFLAGS serial-flags

       If you use some other device than "serial.device", you might
     need to change this, too. Consult the documentation that came
     with your other device or use zero as default.

     Example: SerialFlags 0
@EndNode
@Node "4.3.83. SERIALNAME serial-device-name"
  4.3.83. SERIALNAME serial-device-name

       If you happen to have a modem connected to some other device
     than the standard Amiga "serial.device", you can use this
     parameter to set up the correct device name. Usually,
     "serial.device" will just be about perfect.  For Supra 2400zi
     modems, use SERIALNAME "modem0.device".

     Example: SerialName "serial.device"
@EndNode
@Node "4.3.84. SERIALUNIT serial-unit-number"
  4.3.84. SERIALUNIT serial-unit-number

       If your modem is connected to some other unit number than zero
     (on the device you set with @{ "SERIALNAME" Link "4.3.83. SERIALNAME serial-device-name" }), change this
     appropriately.

     Example: SerialUnit 0
@EndNode
@Node "4.3.85. (NO)SHARED"
  4.3.85. (NO)SHARED

       (Don't) Open the serial device in shared mode. If you are
     running TrapDoor in conjunction with a BBS program or similar,
     you need to switch the serial device to SHARED mode, so that
     both programs can have it open at the same time.

     Examples: NoShared
               Shared
@EndNode
@Node "4.3.86. (NO)SHOWREXX"
  4.3.86. (NO)SHOWREXX

       In SHOWREXX mode, TrapDoor will display all ARexx commands
     that it processes in the status window.

       You can toggle showrexx mode from the keyboard using Alt-S.

     Examples: NoShowRexx
               ShowRexx

@EndNode
@Node "4.3.87. SLINE"
  4.3.87. SLINE

       This command will receive one line of text from the serial
     port and return it in the ARexx RESULT variable. The timeout
     specified with @{ "STIMEOUT" Link "4.3.95. STIMEOUT timeout" } will be used.

       (+) ARexx only command

     Example: SLine
@EndNode
@Node "4.3.88. SLOWMODEM modem-command-delay"
  4.3.88. SLOWMODEM modem-command-delay

       Some modems won't understand incoming data at full speed while
     in command mode. Others take some time after a reset (ATZ or DTR
     dropped) until they will react to incoming commands again. If
     your modem doesn't seem to understand the commands TrapDoor is
     trying to send, feel free to change (increase) this parameter.
     Also see chapter "@{"The Modem" Link "2.4. The Modem" }" for some suggested values.

       SLOWMODEM changes a number of timings in TrapDoor, the most
     important being:

       (a) the time that TrapDoor waits between lowering and raising
           of DTR when it tries to reset the modem or hang up,

       (b) the time that TrapDoor waits when it encounters a tilde
           ("~") character in a modem command string (@{ "MODEMINIT" Link "4.3.62. MODEMINIT modem-init-string" },
           MODEMDIAL, @{ "MODEMANSWER" Link "4.3.58. MODEMANSWER modem-answer-string" }).

     Example: SlowModem 7
@EndNode
@Node "4.3.89. SMODEM modem-command"
  4.3.89. SMODEM modem-command

       This ARexx-only command will send a command to the modem. It
     is similar to @{ "SWRITE" Link "4.3.98. SWRITE string" }, but the specified string will be run
     through the modem command processor first, allowing the use of
     "~", "^" and "|" special characters. For more information about
     these characters, see chapter "@{"Modem Commands" Link "4.2. Modem Commands" }".

       (+) ARexx only command

     Example: SModem "~~AT~H1|~~"
@EndNode
@Node "4.3.90. (NO)SNIFFARQ"
  4.3.90. (NO)SNIFFARQ

       If you have a modem that will detect MNP, LAP-M, V42 and
     similar error-correction protocols, you can enable @{ "SNIFFARQ" Link "4.3.90. (NO)SNIFFARQ" }.
     With @{ "SNIFFARQ" Link "4.3.90. (NO)SNIFFARQ" }, TrapDoor will minimize session-startup delays.

       The default is @{ "NOSNIFFARQ" Link "4.3.90. (NO)SNIFFARQ" }. You should _not_ use @{ "SNIFFARQ" Link "4.3.90. (NO)SNIFFARQ" } with
     modems that have no error correction. You must specify the
     correct @{ "ARQSTRING" Link "4.3.11. ARQSTRING string" } for your modem if you use @{ "SNIFFARQ" Link "4.3.90. (NO)SNIFFARQ" }.

     Examples: NoSniffArq
               SniffArq
@EndNode
@Node "4.3.91. SPAWN command-string"
  4.3.91. SPAWN command-string

       Causes TrapDoor to execute the given command. If the command
     includes spaces, it must be enclosed in double-quotes; to
     include quotes within the quoted string, use the backslash ("\")
     as an escape character. Embedded Percent Commands can also be
     used here.

       TrapDoor will wait until the command returns. It will not
     execute any other ARexx commands, nor will it answer incoming
     calls while the command is executing.

       (+) ARexx only command

     Examples: Spawn "ed mail:TrapDoor.cfg"
               Spawn "echo \"Spawned from TrapDoor!\""
@EndNode
@Node "4.3.92. STARTSESSION"
  4.3.92. STARTSESSION

       When TrapDoor receives this command, it will immediately start
     waiting for a banner line from the remote system, then begin
     with the session handshake.

       This command is intended to be used in outdialing scripts as
     the final command, giving control to TrapDoor to begin a
     session.

       (+) ARexx only command

     Example: StartSession
@EndNode
@Node "4.3.93. STATUS what"
  4.3.93. STATUS what

       Depending on the argument, this command will return various
     information about the state TrapDoor is in, the result of
     previous calls etc.

       The following status specifiers are recognized:

       C ... Returns the cost of the last call made.

       D ... Reports the result string of the dial (or call), such as
             BUSY, NO DIALTONE.

       F ... Reports the number of files that have been sent and
             received during the last session, separated by a slash
             ('/').

       S ... Reports the serial status of TrapDoor, which indicates
             whether TrapDoor is currently waiting for a call,
             answering a call or making an outgoing call. Valid
             return values are:

             IDLE:     TrapDoor is idle, waiting for a call
             OUTGOING: TrapDoor is making an outgoing call
             INCOMING: TrapDoor is answering an incoming call

       X ... Queries the status of the last transfer. It returns an
             integer number, where:

             0: everything okay
             1: (internal) unused
             2: protocol error (too many retries)
             3: (internal) end-of-transmission, Telink complete
             4: (internal) file skipped
             5: user break (Ctrl-C or ESC)
             6: carrier lost
             7: disk i/o error
             8: remote canceled transmission
             9: internal program error
             10: human caller detected
             11: remote didn't answer
             12: (internal) object in use, can't send

       (+) ARexx only command
       (@) asynchronous execution possible

     Examples: Status D
               @Status S
@EndNode
@Node "4.3.94. STATWINDOW window-specification"
  4.3.94. STATWINDOW window-specification

       Similar to @{ "LOGWINDOW" Link "4.3.53. LOGWINDOW window-specification" }, this changes the position and size of
     the status window.

     Example: StatWindow 30/155/580/37
@EndNode
@Node "4.3.95. STIMEOUT timeout"
  4.3.95. STIMEOUT timeout

       Sets the timeout, in seconds, for the @{ "SWAIT" Link "4.3.96. SWAIT string" } and @{ "SLINE" Link "4.3.87. SLINE" }
     commands.

     Example: STimeout 3

@EndNode
@Node "4.3.96. SWAIT string"
  4.3.96. SWAIT string

       Waits until the given string is received on the serial line,
     or until the timeout set with @{ "STIMEOUT" Link "4.3.95. STIMEOUT timeout" } has expired.

     Example: SWait "login:"
@EndNode
@Node "4.3.97. (NO)SWEPULSE"
  4.3.97. (NO)SWEPULSE

       Applies a special number translation to the dial string before
     sending it to the modem. Special feature for swedish people with
     non-swedish modems.

     Examples: NoSwePulse
               SwePulse
@EndNode
@Node "4.3.98. SWRITE string"
  4.3.98. SWRITE string

       Sends the given string to the modem. The string will be sent
     as given, without any modification.

     Example: SWrite "Mad Max"
@EndNode
@Node "4.3.99. SYSOP sysop's-name"
  4.3.99. SYSOP sysop's-name

       Sysop's name, will be sent to the other system during session
     negotiation. The length of this string is limited to 20
     characters in the YooHoo/@{ "WaZoo " Link "4.3.104. (NO)WAZOO" } handshake and to 30 characters
     when using @{ "EMSI" Link "4.3.36. (NO)EMSI" }.

     Example: Sysop "Maximilian Hantsch"
@EndNode
@Node "4.3.100. TASKPRI priority"
  4.3.100. TASKPRI priority

       Use this to select the AmigaDOS/Exec task priority of
     TrapDoor. Normal tasks operate at priority 0. It is often
     advisable to set the priority of TrapDoor to 1 or 2, so that
     mail sessions are not slowed down by other activity such as mail
     importing/exporting.

       If the keyword is not used, TrapDoor will run at the priority
     of the invoking process.

     Example: TaskPri 1
@EndNode
@Node "4.3.101. TESTFREQ"
  4.3.101. TESTFREQ

       To be able to test your file request server programs and
     scripts, call TrapDoor with "TrapDoor testfreq". This will cause
     TrapDoor to look for a TrapDoor.FReq file in the inbound
     directory and, if one is found, call the file request server
     (specified with the @{ "FREQUEST" Link "4.3.43. FREQUEST command-string" } keyword). The result of the file
     request server should be a .RLO file in your outbound directory,
     which you can check to see whether everything works all right.

        Please note that the request file should be called
     "TrapDoor.FReq", or to be more exact,
     "<name-of-your-arexx-port>.FReq".

     Example: TestFreq
@EndNode
@Node "4.3.102. (NO)TIMESTAMP"
  4.3.102. (NO)TIMESTAMP

       If TIMESTAMP is switched on, TrapDoor will always use
     timestamps for converting 4D echomail bundle names to 2D for
     sending. Note: this might be incompatible with some old Echomail
     tossers when they are switched to "check security" mode.

       If NOTIMESTAMP is in effect (the default), TrapDoor will try
     to use the standard hex net/node difference naming, unless:

       - either system has a point address.
       - the main addresses of the two systems are in different
         zones, but have the same net and node numbers.

                   "Fidonet peculiarities? Don't worry,
                   we got them all under control... ;-)"

     Examples: NoTimeStamp
               TimeStamp
@EndNode
@Node "4.3.103. (NO)UNLISTEN"
  4.3.103. (NO)UNLISTEN

       Make TrapDoor terminate all its serial I/O. It will still keep
     the serial device open, but not send any I/O requests to it.
     TrapDoor will keep hanging around idle until you send it a
     NOUNLISTEN ARexx message. If you tell TrapDoor to make an
     outgoing call, it will do so, but return to its silent UNLISTEN
     state as soon as the call is over.

     Examples: UnListen
               NoUnListen
@EndNode
@Node "4.3.104. (NO)WAZOO"
  4.3.104. (NO)WAZOO

       Enable (disable) WaZoo mode. With WaZoo disabled, TrapDoor
     will only attempt to connect using the FTS-0001 (Lotek) protocol
     or @{ "EMSI" Link "4.3.36. (NO)EMSI" } handshake. No YooHoo will be done.

     Examples: NoWaZOO
               WaZOO
@EndNode
@Node "4.3.105. (NO)WRAPLINES"
  4.3.105. (NO)WRAPLINES

       With WrapLines enabled, TrapDoor will try to wrap lines that
     are sent to the log window and continue them in the next line,
     if they are too long to be displayed on a single line. The
     logfile will be unaffected by the setting of this switch. Only
     the output in the window is reformatted.

     Examples: WrapLines
               NoWrapLines
@EndNode
@Node "4.3.106. (NO)XMAIL"
  4.3.106. (NO)XMAIL

       Enable (disable) eXtended Mail, whatever that is. There is a
     flag in the @{ "EMSI" Link "4.3.36. (NO)EMSI" } handshake packet called "XMA". The @{ "EMSI" Link "4.3.36. (NO)EMSI" }
     documentation is very unclear about what it means. Anyway, you
     got the choice now :-)

       This keyword defaults to XMAIL, as this was the behaviour of
     TrapDoor 1.80.

     Examples: NoXMail
               XMail
@EndNode
@Node "4.3.107. (NO)ZEDZAP"
  4.3.107. (NO)ZEDZAP

       Enable (disable) ZedZap mode. ZedZap is a slight variant of
     the ZModem transfer protocol -- on large files, this is one of
     the fastest protocols around. ZedZap will automatically switch
     block sizes depending on modem speed and quality of the line. It
     will also resume an interrupted transfer if possible.

       ZedZap only works in @{ "WaZoo " Link "4.3.104. (NO)WAZOO" } or @{ "EMSI" Link "4.3.36. (NO)EMSI" } mode and only if the other
     side also supports it.

     Examples: NoZedZap
               ZedZap
@EndNode
@Node "4.3.108. (NO)ZEDZIP"
  4.3.108. (NO)ZEDZIP

       Enable (disable) ZedZip mode. ZedZip is the ZModem transfer
     protocol -- it will not switch block sizes, but use a fixed
     block size of 1kb. It will resume an interrupted transfer if
     possible.

       ZedZip only works in @{ "WaZoo " Link "4.3.104. (NO)WAZOO" } or @{ "EMSI" Link "4.3.36. (NO)EMSI" } mode and only if the other
     side also supports it.

     Examples: NoZedZip
               ZedZip

@EndNode
@Node "5. Example Setup"
  5. Example Setup

          ; ****************************************************
          ; **                                                **
          ; **    TrapDoor 1.83 Example Configuration File    **
          ; **                                                **
          ; ****************************************************

          ; This is my FidoNet node number

          @{ "NODE" Link "4.3.64. NODE zone_net_node_point" } 2:310/6.0

          ; here are my @{ "AKA" Link "4.3.8. AKA akalist" }s

          @{ "AKA" Link "4.3.8. AKA akalist" } "2:3160/0 7:123/456 13:13/42"

          ; This is my node's name

          @{ "NAME" Link "4.3.63. NAME board's name" } "The Mad House -- TrapDoor Development"

          ; This is the sysop's name

          @{ "SYSOP" Link "4.3.99. SYSOP sysop's-name" } "Maximilian Hantsch"

          ; Point setup: set up the password for your boss node here.
          ; Leave this unset ("") to operate a node or set it to
          ; something else to not accept calls from unlisted nodes.

          @{ "PASSWORD" Link "4.3.67. PASSWORD password" } ""

          ; Here I set up the baudrate that TrapDoor should use to
          ; talk to the modem

          @{ "BAUD" Link "4.3.16. BAUD baudrate" } 19200

          ; For modems that can @{ "lock" Link "4.3.49. (NO)LOCK" } the baudrate, use @{ "LOCK" Link "4.3.49. (NO)LOCK" }.

          @{ "LOCK" Link "4.3.49. (NO)LOCK" }

          ; This is the minimum baudrate at which TrapDoor will
          ; keep a connection. If the modem responds with a
          ; "CONNECT xxx" message where xxx is lower than
          ; the @{ "MINBAUD" Link "4.3.57. MINBAUD baudrate" } value, TrapDoor will hang up.

          @{ "MINBAUD" Link "4.3.57. MINBAUD baudrate" } 300

          ; Point setup: set this to your boss' FidoNet address.
          ; Set this to your own address when running a node.

          @{ "BOSS" Link "4.3.23. BOSS zone_net_node_point" } 2:310/6.0

          ; Point setup: set this to the telephone number of your
          ; boss. When operating with a nodelist, you can also put
          ; the FidoNet address of your boss here and TrapDoor will
          ; consult the nodelist to find out the phone number.
          ; Note that TrapDoor uses the colon (":") in the FidoNet
          ; node number ot distinguish it from a telephone number,
          ; so always specify the zone if you want to give it a
          ; nodenumber.

          @{ "CALL" Link "4.3.24. CALL number | fido-address" } 2:310/6

          ; The path to your outbound directory where .FLO, .OUT
          ; and such stuff is.

          @{ "OUTBOUND" Link "4.3.66. OUTBOUND outbound-mail-directory" } "Mail:Outbound"

          ; The path to your inbound directory where incoming files
          ; are put.

          @{ "INBOUND" Link "4.3.46. INBOUND inbound-mail-directory" } "Mail:Inbound"

          ; If you specify a path here, TrapDoor will use this
          ; directory to find nodelist index/extra files.
          ; To disable nodelist support, use @{ "NODELIST" Link "4.3.65. NODELIST nodelist-directory" } "".

          @{ "NODELIST" Link "4.3.65. NODELIST nodelist-directory" } "NodeList:"

          ; Use @{ "MAXBAUD" Link "4.3.54. (NO)MAXBAUD" } to automatically adjust @{ "MINBAUD" Link "4.3.57. MINBAUD baudrate" } to the
          ; highest possible baudrate.

          @{ "MAXBAUD" Link "4.3.54. (NO)MAXBAUD" }

          ; This is the number of rings that TrapDoor will wait
          ; before answering the phone. If you don't want TrapDoor
          ; to answer the phone, just set this to @{ "RINGS" Link "4.3.78. RINGS number" } 9999.

          @{ "RINGS" Link "4.3.78. RINGS number" } 1

          ; A banner line that will be displayed to human callers.
          ; Instead of specifying a string, you could also send out
          ; a complete banner file here. The second line gives you
          ; an example of that.

          @{ "BANNER" Link "4.3.15. BANNER bannerline" } "TrapDoor Development, online Mon-Sun 00:00-06:00"
          ; @{ "BANNER" Link "4.3.15. BANNER bannerline" } "<mail:Banner"

          ; This is the commandline that TrapDoor will execute when
          ; a user presses Escape to enter the BBS.
          ; To disable the BBS, use @{ "BBSMODE" Link "4.3.21. BBSMODE mode" } NONE or leave it out.

          ; @{ "BBSCOMMAND" Link "4.3.18. BBSCOMMAND command-string" } "DLG:immed TR0 %b %B -w"
          ; @{ "BBSINOUT" Link "4.3.19. BBSINOUT device" } ""
          ; @{ "BBSMODE" Link "4.3.21. BBSMODE mode" } @{ "SPAWN" Link "4.3.91. SPAWN command-string" }

          ; In addition to the Escape key, you can specify another
          ; character that users can press twice to enter the BBS.
          ; WARNING: Do not use an asterisk ('*') here!

          ; @{ "BBSCHAR" Link "4.3.17. BBSCHAR character" } '.'

          ; This defines the name of the logfile for TrapDoor.

          @{ "LOGFILE" Link "4.3.51. LOGFILE filename" } "Mail:TrapDoor.Log"

          ; Here are the loglevels for various logging groups.

          @{ "LOGLEVEL" Link "4.3.52. LOGLEVEL group_level" } 0:2            ; debugger
          @{ "LOGLEVEL" Link "4.3.52. LOGLEVEL group_level" } 1:2            ; link
          @{ "LOGLEVEL" Link "4.3.52. LOGLEVEL group_level" } 2:2            ; transfer
          @{ "LOGLEVEL" Link "4.3.52. LOGLEVEL group_level" } 3:2            ; system
          @{ "LOGLEVEL" Link "4.3.52. LOGLEVEL group_level" } 4:2            ; modem
          @{ "LOGLEVEL" Link "4.3.52. LOGLEVEL group_level" } 5:2            ; session
          @{ "LOGLEVEL" Link "4.3.52. LOGLEVEL group_level" } 6:7            ; security
          @{ "LOGLEVEL" Link "4.3.52. LOGLEVEL group_level" } 7:2            ; outside
          @{ "LOGLEVEL" Link "4.3.52. LOGLEVEL group_level" } 8:7            ; information
          @{ "LOGLEVEL" Link "4.3.52. LOGLEVEL group_level" } 9:2            ; scheduler

          ; I want faster logging.

          @{ "MAXLOGSECS" Link "4.3.56. MAXLOGSECS seconds" } 5
          @{ "MAXLOGLINES" Link "4.3.55. MAXLOGLINES number" } 10

          ; If you have a "slow" modem, set this to higher values.

          @{ "SLOWMODEM" Link "4.3.88. SLOWMODEM modem-command-delay" } 10

          ; @{ "MODEMINIT" Link "4.3.62. MODEMINIT modem-init-string" }     will be sent to the modem to reset it.
          ; @{ "MODEMDIALPRE" Link "4.3.59. MODEMDIALPRE modem-pre-dial-string" } will be sent to the modem to dial out,
          ;               followed by the phone number, followed by
          ; @{ "MODEMDIALPOST" Link "4.3.60. MODEMDIALPOST modem-post-dial-string" }
          ; @{ "MODEMANSWER" Link "4.3.58. MODEMANSWER modem-answer-string" } will be sent to answer the phone.
          ; @{ "MODEMHANGUP" Link "4.3.61. MODEMHANGUP modem-hangup-string" } will be sent to hangup the modem.

          @{ "MODEMINIT" Link "4.3.62. MODEMINIT modem-init-string" } "~~ATZ|~~~~"
          @{ "MODEMHANGUP" Link "4.3.61. MODEMHANGUP modem-hangup-string" } "||^|"
          @{ "MODEMDIALPRE" Link "4.3.59. MODEMDIALPRE modem-pre-dial-string" } "~~ATS7=60B1X7DP"
          @{ "MODEMDIALPOST" Link "4.3.60. MODEMDIALPOST modem-post-dial-string" } "|"
          @{ "MODEMANSWER" Link "4.3.58. MODEMANSWER modem-answer-string" } "~~ATS7=25B0A|"

          ; If your modem is an error correcting modem, @{ "ARQSTRING" Link "4.3.11. ARQSTRING string" }
          ; tells TrapDoor what the modem returns when it
          ; establishes a connection under error control. If you
          ; have such a modem, you can also specify @{ "SNIFFARQ" Link "4.3.90. (NO)SNIFFARQ" } and
          ; handshakes can become a bit faster.

          ; @{ "ARQSTRING" Link "4.3.11. ARQSTRING string" } "ARQ"
          ; @{ "SNIFFARQ" Link "4.3.90. (NO)SNIFFARQ" }

          ; This informs TrapDoor which Amiga device is your
          ; serial device. For example, a Supra 2400zi modem
          ; needs @{ "SERIALNAME" Link "4.3.83. SERIALNAME serial-device-name" } "modem0.device".

          @{ "SERIALNAME" Link "4.3.83. SERIALNAME serial-device-name" } "serial.device"
          @{ "SERIALUNIT" Link "4.3.84. SERIALUNIT serial-unit-number" } 0
          @{ "SERIALFLAGS" Link "4.3.82. SERIALFLAGS serial-flags" } 0

          ; If you want to spawn a BBS, you must use the @{ "SHARED" Link "4.3.85. (NO)SHARED" }
          ; option. Otherwise, you can use @{ "NOSHARED" Link "4.3.85. (NO)SHARED" } to prevent
          ; other programs from using the serial device when
          ; TrapDoor has it open.

          @{ "SHARED" Link "4.3.85. (NO)SHARED" }

          ; If your modem does not support the @{ "DSR" Link "4.3.35. (NO)DSR" } line, use @{ "NODSR" Link "4.3.35. (NO)DSR" }.
          ; Otherwise, use @{ "DSR" Link "4.3.35. (NO)DSR" } and TrapDoor will be able to tell
          ; whether your modem is switched on or not.

          @{ "DSR" Link "4.3.35. (NO)DSR" }

          ; If you have a buffering modem, you need to have a full
          ; 7-wire cable and enable hardware handshaking with @{ "7WIRE" Link "4.3.1. (NO)7WIRE" }.

          @{ "7WIRE" Link "4.3.1. (NO)7WIRE" }

          ; Please read TrapDoor's manual for a more detailed
          ; explanation of the @{ "ADJUST" Link "4.3.6. ADJUST factor" } parameter. If you are not
          ; sure what to do with it, leave it at -11.
          ; If you have AmigaOS 2.0 or higher, use @{ "ADJUST" Link "4.3.6. ADJUST factor" } 0 or
          ; leave it out completely.

          ;@{ "ADJUST" Link "4.3.6. ADJUST factor" } -11

          ; This tells TrapDoor what command to execute to handle
          ; incoming File Requests. Please consult the manual for
          ; a more detailed description.
          ; To turn off File Requests, use @{ "FREQUEST" Link "4.3.43. FREQUEST command-string" } "".

          @{ "FREQUEST" Link "4.3.43. FREQUEST command-string" } "RequestHandler %i,%o,%l"

          ; This is the name of TrapDoor's ARexx port.
          ; If you have multiple lines, you need to change this
          ; for each line.

          @{ "REXXNAME" Link "4.3.75. REXXNAME portname" } "TrapDoor"

          ; Where should TrapDoor put its windows?
          ; Note that on NTSC machines and their smaller screens,
          ; you will have to change the value of @{ "STATWINDOW" Link "4.3.94. STATWINDOW window-specification" }.

          @{ "LOGWINDOW" Link "4.3.53. LOGWINDOW window-specification" } 30/15/580/133
          @{ "STATWINDOW" Link "4.3.94. STATWINDOW window-specification" } 30/155/580/93
          ; @{ "STATWINDOW" Link "4.3.94. STATWINDOW window-specification" } 30/155/580/44 ; use this on NTSC

          ; Use @{ "SCREENMODE" Link "4.3.81. SCREENMODE mode" } CUSTOM to have TrapDoor open its own
          ; screen, @{ "SCREENMODE" Link "4.3.81. SCREENMODE mode" } WORKBENCH to have it open its
          ; windows on the Workbench Screen, @{ "SCREENMODE" Link "4.3.81. SCREENMODE mode" } ACTIVE
          ; to open the windows on the currently active screen,
          ; and @{ "SCREENMODE" Link "4.3.81. SCREENMODE mode" } TRAPDOOR for special magic.
          ; If you have AmigaOS 2.04, you might also want to
          ; try @{ "SCREENMODE" Link "4.3.81. SCREENMODE mode" } PUBLIC.
          ; Beware: Please read the instructions in the manual
          ; before using @{ "SCREENMODE" Link "4.3.81. SCREENMODE mode" } ACTIVE.

          @{ "SCREENMODE" Link "4.3.81. SCREENMODE mode" } TRAPDOOR

          ; If you want TrapDoor to open its screen in the
          ; background, use @{ "BACKGROUND" Link "4.3.14. (NO)BACKGROUND" }.
          ; To have it open the screen to the same size your
          ; Workbench Screen has (including overscan set with
          ; MoreRows), use @{ "AUTOOVERSCAN" Link "4.3.13. (NO)AUTOOVERSCAN" }.
          ; If you don't want any screens or windows, use
          ; @{ "QUIET" Link "4.3.71. (NO)QUIET" }.

          @{ "NOBACKGROUND" Link "4.3.14. (NO)BACKGROUND" }
          @{ "AUTOOVERSCAN" Link "4.3.13. (NO)AUTOOVERSCAN" }
          ; @{ "QUIET" Link "4.3.71. (NO)QUIET" }

          ; For a nice colorful TrapDoor screen, change this as
          ; desired.

          @{ "COLORS" Link "4.3.25. COLORS palette-specification" } 2560/4095/10/160

          ; Point setup: If a call to your boss fails (BUSY,
          ; VOICE, NO CARRIER ...), you can use these keywords
          ; to have TrapDoor redial automatically after a
          ; certain amount of time. Use @{ "RETRIES" Link "4.3.74. RETRIES count" } to set the maximum
          ; number of retries and @{ "REDIALDELAY" Link "4.3.72. REDIALDELAY seconds" } to specify the number
          ; of seconds to wait between calls.

          @{ "RETRIES" Link "4.3.74. RETRIES count" } 0
          @{ "REDIALDELAY" Link "4.3.72. REDIALDELAY seconds" } 3

          ; Enable @{ "accounting" link "4.3.4. (NO)ACCOUNTING" } with @{ "ACCOUNTING" Link "4.3.4. (NO)ACCOUNTING" } and specify
          ; @{ "accounting" link "4.3.4. (NO)ACCOUNTING" } limits. The template for @{ "ACCTMAX" Link "4.3.5. ACCTMAX limits" } is:
          ; ACCTMAX "cost calls-out failed busy nocarrier voice"

          @{ "ACCOUNTING" Link "4.3.4. (NO)ACCOUNTING" }
          @{ "ACCTMAX" Link "4.3.5. ACCTMAX limits" } "3000 20 2 20 5 2"

          ; Node systems: If you want your TrapDoor to automatically
          ; start in answer mode when you just "run TrapDoor",
          ; specify @{ "ANSWER" Link "4.3.10. ANSWER" }

          ; @{ "ANSWER" Link "4.3.10. ANSWER" }

          ; Some function key assignments

          @{ "FKey" Link "4.3.40. FKEY function-key-assignment" } "1:@{ "EMSI" Link "4.3.36. (NO)EMSI" }"
          @{ "FKey" Link "4.3.40. FKEY function-key-assignment" } "11:@{ "NOEMSI" Link "4.3.36. (NO)EMSI" }"
          @{ "FKey" Link "4.3.40. FKEY function-key-assignment" } "2:@{ "WAZOO" Link "4.3.104. (NO)WAZOO" }"
          @{ "FKey" Link "4.3.40. FKEY function-key-assignment" } "12:@{ "NOWAZOO" Link "4.3.104. (NO)WAZOO" }"
          @{ "FKey" Link "4.3.40. FKEY function-key-assignment" } "3:@{ "ZEDZAP" Link "4.3.107. (NO)ZEDZAP" } @{ "ZEDZIP" Link "4.3.108. (NO)ZEDZIP" } @{ "DIRECTZAP" Link "4.3.33. (NO)DIRECTZAP" }"
          @{ "FKey" Link "4.3.40. FKEY function-key-assignment" } "13:@{ "NOZEDZAP" Link "4.3.107. (NO)ZEDZAP" } @{ "NOZEDZIP" Link "4.3.108. (NO)ZEDZIP" } @{ "NODIRECTZAP" Link "4.3.33. (NO)DIRECTZAP" }"
          @{ "FKey" Link "4.3.40. FKEY function-key-assignment" } "4:@{ "DIETIFNA" Link "4.3.32. (NO)DIETIFNA" }"
          @{ "FKey" Link "4.3.40. FKEY function-key-assignment" } "14:@{ "NODIETIFNA" Link "4.3.32. (NO)DIETIFNA" }"
          @{ "FKey" Link "4.3.40. FKEY function-key-assignment" } "5:BBSMODE @{ "SPAWN" Link "4.3.91. SPAWN command-string" }"
          @{ "FKey" Link "4.3.40. FKEY function-key-assignment" } "15:BBSMODE ZMH"
          @{ "FKey" Link "4.3.40. FKEY function-key-assignment" } "6:Run \"CE\""
          @{ "FKey" Link "4.3.40. FKEY function-key-assignment" } "16:Run \"FFSA Node 2:310/6 ActiveScreen\""
          @{ "FKey" Link "4.3.40. FKEY function-key-assignment" } "7:Run \"Execute DLGConfig:Batch/UnPackMail\""
          @{ "FKey" Link "4.3.40. FKEY function-key-assignment" } "17:@{ "SMODEM" Link "4.3.89. SMODEM modem-command" } |~ATH1|~~~~~~~~~~~~~~~~~|~ATH0|~"
          @{ "FKey" Link "4.3.40. FKEY function-key-assignment" } "8:Run \"Execute DLGConfig:Batch/PackMail\""
          @{ "FKey" Link "4.3.40. FKEY function-key-assignment" } "18:Run \"Execute DLGConfig:Batch/NComm.batch\""
          @{ "FKey" Link "4.3.40. FKEY function-key-assignment" } "9:Run \"Execute DLGConfig:Batch/Poll\""
          @{ "FKey" Link "4.3.40. FKEY function-key-assignment" } "19:acctmax \"-1 -1 -1 -1 -1 -1\""
          @{ "FKey" Link "4.3.40. FKEY function-key-assignment" } "10:Run \"local\""
          @{ "FKey" Link "4.3.40. FKEY function-key-assignment" } "20:Run \"getport -p tr0:\""

          ; NOTE: Not all possible configuration keywords are used
          ;       in this example configuration. Please see the
          ;       chapter "@{"Configuration Commands" Link "4. Configuration Commands" }" for a more
          ;       detailed and more complete description of
          ;       TrapDoor's configuration.

@EndNode
@Node "6. The Outbound Directory"
  6. The Outbound Directory

       The outbound directory stores packet files (#?.OUT, #?.CUT,
     #?.DUT, #?.HUT), file attach files (#?.FLO, #?.CLO, #?.DLO,
     #?.HLO) and request files (#?.REQ).

       TrapDoor uses two different methods of naming these files.
     First, there are the "compatibility" names for compatibility
     with existing packers.  Second, there are full 4-dimensional
     filenames for hopefully soon-to-come new packers that want to
     make use of full 4-dimensional FidoNet addressing.

        @{ " 6.1. 'Compatibility' Filenames " Link "6.1. 'Compatibility' Filenames" }
        @{ " 6.2. 4-dimensional Filenames " Link "6.2. 4-dimensional Filenames" }
        @{ " 6.3. Extensions " Link "6.3. Extensions" }
        @{ " 6.4. Packet files " Link "6.4. Packet files" }
        @{ " 6.5. Flow files " Link "6.5. Flow files" }
        @{ " 6.6. Compressed Mail files " Link "6.6. Compressed Mail files" }
        @{ " 6.7. Request files " Link "6.7. Request files" }
        @{ " 6.8. Examples " Link "6.8. Examples" }

@EndNode
@Node "6.1. 'Compatibility' Filenames"
  6.1. 'Compatibility' Filenames

       The first eight characters of the filename indicate the net
     and node number for which this file is designated. These numbers
     are encoded in hexadecimal and expanded to 4 digits each
     (leading zeros).

       Zone and Point information is not included in these filenames.
     This is a major disadvantage, but unfortunately all current mail
     Scanners/Tossers for the Amiga only support this format.
@EndNode
@Node "6.2. 4-dimensional Filenames"
  6.2. 4-dimensional Filenames

       This release of TrapDoor continues our quest for a new method
     of naming files in the outbound directory. It understands
     "4-dimensional" filenames "zone.net.node.point.ext", with all
     fields in decimal. This naming scheme is still under discussion
     -- use it for now, it works, but it might be changed again in
     future releases.
@EndNode
@Node "6.3. Extensions"
  6.3. Extensions

       File extensions tell TrapDoor how to treat a certain file.
@EndNode
@Node "6.4. Packet files"
  6.4. Packet files

       These files contain packed mail (Note: not compressed
     (ARC)mail). This is often used for matrix mail, as these packets
     are easily built and matrix mail normally doesn't get so large
     that it needs compression. They are sent 'as is' to the other
     system. During the transfer, the name of such a file is changed
     to "abcdefgh.PKT", where "abcdefgh" is a unique 8-digits
     hexadecimal number (in fact, a timestamp).

          #?.OUT ... Normal, meaning that this packet hasn't been
                     processed further.  If left unprocessed, it will
                     be treated the same as a .DUT packet.
          #?.HUT ... Hold this packet for pickup by the remote
                     system.
          #?.CUT ... The other system can receive Continuous Mail.
          #?.DUT ... Direct, meaning the other system can NOT receive
                     Continuous Mail.

@EndNode
@Node "6.5. Flow files"
  6.5. Flow files

       Files are also sent through FidoNet. File attach files tell
     TrapDoor what files to send (or hold) for whom. File attach
     files are also called 'flow files' after the .FLO file
     extension.

       Flow files store the path and name of files that should be
     sent to the other system. Each line in the flow file refers to
     one file. Additionally, there may be one of the following
     special characters at the first position in the line, indicating
     that the file needs special processing after sending.

       Valid special characters:

          # ... Truncate this file to zero length
          ^ ... Delete this file (with logging)
          - ... Delete this file (without logging)
          ~ ... Don't send this file (has been sent previously)

       Examples:

          DH0:Files/outgoing/special/sendme.zoo
          t:trapdoor.zoo
          #MAIL:Outbound/FFEB0034.MO1
          -t:delete.me

       Flow file extensions are:

          #?.FLO ... Normal, meaning that this flow file hasn't been
                     processed further. If left unprocessed, it will
                     be treated the same as a .DLO flow file.
          #?.HLO ... Hold these files for pickup by the remote
                     system.
          #?.CLO ... The other system can receive Continuous Mail.
          #?.DLO ... Direct, meaning the other system can NOT receive
                     Continuous Mail.
@EndNode
@Node "6.6. Compressed Mail files"
  6.6. Compressed Mail files

       These files are not automatically sent. Their names must be
     listed in one of the #?.?LO files. Usually, the filename of
     these files follows a 2-dimensional naming method: The first 4
     hex digits contain the difference between the net numbers of the
     originating and the destination system, the second 4 hex digits
     the difference between the node numbers.

       The extension of compressed mail files is built of the first
     two digits of the name of a weekday, i.e. MO, TU, WE, TH, FR, SA
     or SU, plus one decimal digit to prevent duplicates, for
     example, "MO3" or "FR0".

       TrapDoor 1.70 and higher now also support 4-dimensional
     compressed mail bundles. These are named just like the other
     4-dimensional files, with the same extension as their
     2-dimensional counterpart, for example "2.310.6.4.TU3". The
     names of 4-dimensional compressed mail files must be listed in
     #?.?LO files, just as with their 2D counterpart.
@EndNode
@Node "6.7. Request files"
  6.7. Request files

       These files are sent to the other system 'as is' for further
     processing. Each line in these files contain the name of a file
     you'd like to request from the other system and possibly,
     following a space and an exclamation mark, a password for the
     file.

       Example:

          FILES
          TRAPDOOR.ZOO
          SECRET.ARC !ILBM
@EndNode
@Node "6.8. Examples"
  6.8. Examples

          0136000b.out ... a normal mail packet for 310/11
          01360003.clo ... a file attach file for 310/3, will be sent
                           as continuous mail
          0136000c.hlo ... a file attach file, held for pickup by
                           310/12

       Or, using the new 4-dimensional naming scheme:

          1.163.109.0.hut ... a normal mail packet, held for pickup
                              by 1:163/109
          2.310.6.5.dlo ..... a direct file attach file for 2:310/6.5
          2.310.6.4.MO2 ..... a compressed mail bundle for 2:310/6.4
          2.246.3.0.req ..... a request file for 2:246/3

@EndNode
@Node "7. The Inbound Directory"
  7. The Inbound Directory

        @{ " 7.1. Bumping Filenames " Link "7.1. Bumping Filenames" }

       The inbound directory stores all files received from other
     systems.  TrapDoor does not associate inbound filenames with a
     certain meaning, this is left for the Scanner/Tosser software
     (i.e. TrapToss, ConfMail).

       TrapDoor currently manages the inbound directory filenames &
     filenotes like this:

        <filename> := <msdos_filename>
                      '!.' <msdos_filename> '.' <fido_adr>
        <fido_adr> := <zone> '.' <net> '.' <node> '.' <point>
        <zone>     := integer
        <net>      := integer
        <node>     := integer
        <point>    := integer

        <filenote> := <field> <field> ...
        <field>    := <tag> ' ' <contents> '; '
        <tag>      := anything_except_space
        <contents> := anything_except_semicolon

        Currently defined tags are:

             FileName
             From
             Length
             Secure
             Trx

       When a file comes in, it is received under a temporary
     filename. When the file has been received successfully, it is
     renamed to the final filename.  Should a file with this name
     already exist, TrapDoor does the usual filename bumping (see
     "@{ "Bumping Filenames" Link "7.1. Bumping Filenames" }"), but stores the original filename in the
     filenote in a "FileName" field. Additionally, each inbound file
     is tagged with a "From" field in the filenote.

       When a file transfer fails (carrier lost etc.), the temporary
     file is renamed to "!.filename.zz.nnn.ooo.pp", where <filename>
     is the original filename, and <zz.nnn.ooo.pp> is the FidoNet
     address of the sender. These files are also tagged with a
     "FileName" field in the FileNote. Additionally, TrapDoor adds a
     "Length" field to the FileNote, which specifies how long the
     file should be.

       When TrapDoor begins to receive a new file, it tries to find a
     "!.filename.zz.nnn.ooo.pp" file that matches the incoming file.
     If such a file exists, and the filesize compares successfully
     (remember: "Length" tag in the filenote!), TrapDoor will resume
     transfer (@{ "ZedZap " Link "4.3.107. (NO)ZEDZAP" } sessions) at the end of the file. FTS-1 and
     @{ "DIETIFNA" Link "4.3.32. (NO)DIETIFNA" } can't resume transfer, but you can abort such a file
     transfer and later on resume with @{ "ZedZap " Link "4.3.107. (NO)ZEDZAP" }.

       When TrapDoor resumes receiving a file, it will first rename
     it to a temporary filename again and clear the filenote. Further
     actions are taken as described above.

       The "Secure" tag stores the security measures under which a
     file was received. Files received from systems listed in the
     nodelist get the "NL" flag, and files received during
     password-protected sessions are marked "PW". Both flags can be
     set if a file was received from a listed system in a
     password-protection session, in which case they will be
     separated by a comma (",").

       The "Trx" tag is used to store the Transaction ID of the
     session in which the file was received. Every session, or
     "transaction" with another system is associated with a unique
     identifier, the "transaction id". This identifier is also listed
     in the logfile as "TrxID". A transaction id consists of one
     single hexadecimal number, plus possibly a slash and another
     hexadecimal number giving the transaction id which the remote
     system associated with this particular transaction. The latter
     is only shown if the other end sent us their transaction id,
     which can only happen in an @{ "EMSI" Link "4.3.36. (NO)EMSI" } handshake.

       Please note that the order of the filenote fields is
     insignificant.

       Examples:

          Normal inbound file, received from a known node with
          password-protection:
               ffeb0034.mo1
               : From 2:310/3; Secure NL,PW; Trx 27b23ba7;

          Bumped inbound file:
               ffeb0034.mo1,1
               : From 2:310/3; FileName ffeb0034.mo1; Trx 27c138f7/27c138fb;

          Aborted transfer:
               !.ffeb0034.mo1.2.310.3.0
               : FileName ffeb0034.mo1; Length 23862; Trx 27c139ae;

       This format should be rather flexible if future extensions
     have to be added (limit is 80 chars for all the filenote
     fields), but still remains totally compatible with ConfMail &
     other utilities that assume MS-Dos style filenames.

@EndNode
@Node "7.1. Bumping Filenames"
  7.1. Bumping Filenames

       TrapDoor does not overwrite inbound files. Instead, the
     incoming filename is "bumped", i.e. a unique name is created by
     cautiously modifying the original filename until a new, unique
     name is found.

       Bumping proceeds like this:

       (a) If the filename matches "#?.?UT", it is renamed to a
           random "#?.PKT" file. This is necessary, as some MS-Dos
           software does not rename .OUT files into .PKT when
           transmitting them with the @{ "DIETIFNA" Link "4.3.32. (NO)DIETIFNA" } protocol. Therefore,
           TrapDoor tries to correct this mistake. After this step,
           bumping continues at (b). [00bf13f4.OUT -> 27bc34f5.PKT]

       The following steps will only be performed as long as the name
       is not unique, i.e. as long as there exists already a file
       with that name.

       (b) If the filename matches "#?.PKT", it is given some random
           hexadecimal number plus the ".PKT" extension again. Thus,
           packet files stay packet files, even when bumped. Only if
           a unique name cannot be found within ten tries, method (d)
           is used for renaming the file. [27bc34f5.PKT ->
           28c39d7f.PKT]

       (c) If the filename matches
           "#?.(MO|TU|WE|TH|FR|SA|SU)([0-9])", the very last digit of
           the filename is modified. If a unique name cannot be found
           by changing the last digit, method (d) is used.
           [00bf3f55.mo0 -> 00bf3f55.mo1]

       (d) If the filename is not unique, TrapDoor will append a
           comma (",") and a number. The number will be incremented
           as long as the name is not unique. [test.txt -> test.txt,1
           -> test.txt,2 -> etc.]

       (e) continue at (d) until a unique name is found.

@EndNode
@Node "8. Bugs? Poof! They're all features!"
  8. Bugs? Poof! They're all features!

        @{ " 8.1. Real Bugs " Link "8.1. Real Bugs" }


       Most problems we have encountered are caused by wrong or
     incomplete RS232 cabling, modem settings, and last, but not
     least, people not reading the documentation. Be sure to
     especially examine the chapter about the @{ "modem" Link "2.4. The Modem" } carefully if you
     encounter problems.

       There is a minor inconvenience for people using NTSC Amigas:
     You have to change the default setting of @{ "STATWINDOW" Link "4.3.94. STATWINDOW window-specification" }, as this
     window won't open on a standard non-interlaced NTSC screen.

       If you find that you have trouble communicating with another
     Fidonet system, you might try using different protocols.
     Experiment with the @{ "(NO)EMSI" Link "4.3.36. (NO)EMSI" }, @{ "(NO)WAZOO" Link "4.3.104. (NO)WAZOO" }, @{ "(NO)DIRECTZAP" Link "4.3.33. (NO)DIRECTZAP" },
     @{ "(NO)ZEDZAP" Link "4.3.107. (NO)ZEDZAP" }, @{ "(NO)ZEDZIP" Link "4.3.108. (NO)ZEDZIP" } and @{ "(NO)WAZOO" Link "4.3.104. (NO)WAZOO" } keywords.

       @{ "(NO)MAXBAUD" Link "4.3.54. (NO)MAXBAUD" } does not have any effect if used in custom
     configuration entries (set via setconfig). You need to set a
     @{ "MINBAUD" Link "4.3.57. MINBAUD baudrate" } value instead. So, instead of

          setconfig 2:310/6 "@{ "NOMAXBAUD" Link "4.3.54. (NO)MAXBAUD" }"     ; WRONG!
     use
          setconfig 2:310/6 "@{ "MINBAUD" Link "4.3.57. MINBAUD baudrate" } 2400"  ; much better.

       TrapDoor usually runs with the standard 4000 bytes stack size.
     Should you experience strange hangups, crashes or Guru
     Meditations, try raising the stack size with the CLI command
     "Stack" before running TrapDoor.

       If you place a call using a telephone number (as opposed to
     calling via a nodelist), be sure to also set the @{ "BOSS" Link "4.3.23. BOSS zone_net_node_point" } parameter
     to the node number of the system you are calling, and @{ "PASSWORD" Link "4.3.67. PASSWORD password" }
     to the correct password (or "") for that node. Here is an
     example:

          TrapDoor Call 02236-87178 Boss 2:310/48 Password ""




            "Remember, any minor imperfections in this product
              are just evidence of its hand crafted nature."



@EndNode
@Node "8.1. Real Bugs"
  8.1. Real Bugs

       When sending in bug reports, please state exactly under what
     circumstances the bug occurred, what equipment was used and what
     happened. If possible, please give us a step-by-step description
     of how to reproduce the bug. Statements like "TrapDoor sometimes
     crashes on my system" don't help us to track down the problem.

@EndNode
@Node "9. Past & Future"
  9. Past & Future

       TrapDoor started back in spring 1989, when our boss got his
     first dual standard HST modem. Suddenly, BinkleyTerm Amiga
     stopped working, it could not successfully send/receive files.
     So mjl and I sat down and started writing a new mailer that
     would overcome this and many other disadvantages of BinkleyTerm
     Amiga, at that time the only mailer available for the Amiga.
     First, we created a point version; simple to use, it allowed you
     to setup a state-of-the-art point system. The point version was
     released in October 1989, and no major bugs have been found.
     That was version is 1.11; Registered users were shipped 1.12,
     which was almost the same, except the ShareWare reminders, which
     always open when you start the unregistered version, had been
     removed in that version.

       After the enormous feedback we received from the first
     version, we decided we'd go ahead and make TrapDoor a fully
     node-capable mailer. We implemented the basic FidoNet protocol
     that all mailers must support, FTS-1, added ARexx capabilities,
     bbs spawning, nodelist support and all the other nice features
     noone wants to miss anymore. The first node capable version of
     TrapDoor 1.50, was followed by TrapDoor 1.80 a year later. This
     version enhanced the original node version with a couple of
     exciting new features: it offered new nodelist support via the
     traplist.library, improved ARexx commands, new bbs handling
     modes, special dialer and special node-dependent configuration
     options, @{ "EMSI" Link "4.3.36. (NO)EMSI" } session handshake, and lots more. As always, this
     node version could also be used in a point environment.

       Unfortunately, a few annoying bugs had crept into version
     1.80. The program was working fine in the general case, but some
     points could not receive mail from their bosses. So we had to
     sit down and look into these problems. Still we included some
     more features in TrapDoor as they came in handy. So this is our
     fourth release version, and this number is also the reason for
     the name of this TrapDoor's manual.

       Of course, development does not stop here. We will continue to
     improve TrapDoor and its related utilities to give you the
     hopefully most advanced mailer on the Amiga. Our future work
     will go especially in the direction of providing you with an
     integrated package which takes away a lot of the hassle
     currently involved in writing AmigaDOS or ARexx scripts to
     handle event scheduling and putting together the different tools
     necessary for a FidoNet system. Depending on your ShareWare
     registration efforts and our time permitting, one day there will
     hopefully be a much better and more beautiful TrapDoor II.

       When this new and majorly improved TrapDoor becomes ready,
     already registered users will receive the new version for a
     moderate update fee.

@EndNode
@Node "10. Registration"
  10. Registration

       TrapDoor is a copyrighted product that has been made available
     to you under the concept of "Shareware". It has never been, nor
     will it ever be in the "Public Domain". You are granted a
     limited license in order to evaluate these programs. If, after a
     3 or 4 week period of evaluation, you find that TrapDoor suits
     your telecommunication needs, please register. By cooperating
     with this concept you help to ensure continued development of
     this product.

       Registered users will be shipped a disk with the latest
     release version of TrapDoor together with a keyfile. This
     keyfile, once copied to your system, will disable the ShareWare
     reminders that always open when you start or quit TrapDoor.

       Site license information for commercial and government use as
     well as source code licenses can be obtained directly from the
     authors.

       No person(s) or businesses other than the authors are
     authorized to accept any registration or distribution fees in
     any form whatsoever, except the official registration and
     support centers as specified by the authors. The only people who
     will be acknowledged as registered users are those who have sent
     ATS 350,- (plus another ATS 150,- if you send foreign cheques or
     money orders) to:

                           TrapDoor Development
                            Maximilian Hantsch
                      Matzleinsdorfer Platz 3-4/3/10
                                A-1050 Wien
                             Austria / Europe

     or registered at one of the registration and support centers as
     specified by the authors. A list of these can be found in the
     file "SupportCenters.txt".

       As one of the safest and possibly easiest ways to send in your
     registration fee from other countries, we would suggest an
     international postal money order -- your local post office will
     happily provide you with more information about this. It also
     has the advantage that the exchange of currencies is handled
     automatically and the surcharge is negligible.

       Alternatively, you can either send us a Eurocheque payable to
     Maximilian Hantsch in Austrian Schillings or have your bank
     transfer the registration fee to the "Österreichische
     Postsparkasse (PSK)" (BLZ 60000), account 6.777.234, "Maximilian
     Hantsch". Beware: international transfers via banks are rather
     expensive.

       Note: IF YOU SEND CHEQUES, PLEASE SEND ONLY EUROCHEQUES MADE
     OUT IN AUSTRIAN SCHILLINGS! We have to impose a surcharge of ATS
     150,- on all other cheques, money orders or bank drafts.

       Until now, we have accepted other foreign cheques, money
     orders and bank drafts as well, but our bank has raised the
     charge for these by more than 50% over the past two years to
     more than ATS 100,- per cheque. We can no longer afford this and
     are thus forced to pass on this charge. Sorry.

       In any case, be sure to provide us with your name, address,
     fido-nodenumber and international phone number for our files.
     You can send this information via electronic mail, if you wish.
     If you don't mind, this data will be stored and processed in
     electronic form. There is also a sample registration form you
     can fill out in the file "Registration.txt".

       Please allow up to eight weeks for delivery.

                  You, too, can have a receding hairline,
                        suffer a nervous breakdown,
                and precipitate disputes with your spouse.
                           Here is all you need.

@EndNode
@Node "11. Politics"
  11. Politics

        @{ " 11.1. Distribution " Link "11.1. Distribution" }
        @{ " 11.2. Support " Link "11.2. Support" }
        @{ " 11.3. License " Link "11.3. License" }
        @{ " 11.4. No Warranty " Link "11.4. No Warranty" }
        @{ " 11.5. Disclaimer " Link "11.5. Disclaimer" }

@EndNode
@Node "11.1. Distribution"
  11.1. Distribution

       In a nutshell, TrapDoor may be distributed freely as long as
     the following restrictions are met:

       The distributor may only charge a fee up to the costs of
     obtaining a public domain diskette from Fred Fish. The
     distributor agrees to cease distributing the programs and data
     involved if requested to do so by the authors. The distributor
     may only distribute an unmodified copy of the original program,
     with all the supplied documentation and copyright notices
     intact.

       For more details, see the chapter called "@{ "License " Link "11.3. License" }".


@EndNode
@Node "11.2. Support"
  11.2. Support

       The latest version of TrapDoor (with all its associated tools)
     is always available for filerequest from FidoNet node 2:310/6,
     "The Mad House" under the magic filename "TRAPDOOR".

       If you have any suggestions, bug reports etc., feel free to
     contact the authors of TrapDoor at the address given in the
     chapter "@{ "Registration" Link "10. Registration" }". Additionally, you can reach us at:

          Maximilian Hantsch              Martin Laubach
          Fido:   2:310/6                 Fido:   2:310/3.14
          Uucp:   max@madvie.at           Uucp:   mjl@alison.at

       Also, there is a FidoNet Echomail conference called TRAPDOOR,
     which should be available at major backbones. This conference is
     in English and intended for the users of TrapDoor. There, you
     can freely exchange your experience with TrapDoor, discuss
     future enhancements you would like to see etc. Both authors will
     participate in the conference and try to assist you. The
     availability of new versions of TrapDoor will be announced
     there, too.


@EndNode
@Node "11.3. License"
  11.3. License

       1. This license applies to the product called "TrapDoor", a
     set of programs for the Amiga computer, published by Maximilian
     Hantsch and Martin Laubach under the concepts of ShareWare, and
     the accompanying documentation, example files and anything else
     that comes with the original distribution. The terms "Programs"
     and "TrapDoor" below, refer to this product. The licensee is
     addressed as "you".

       2. You may copy and distribute verbatim copies of the
     programs' executable code and documentation as you receive it,
     in any medium, provided that you conspicuously and appropriately
     publish only the original, unmodified programs, with all
     copyright notices and disclaimers of warranty intact and
     including all the accompanying documentation, example files and
     anything else that came with the original.

       3. You may not copy and/or distribute these programs without
     the accompanying documentation and other additional files that
     came with the original. You may not copy and/or distribute
     modified versions of these programs.

       4. You may not copy, modify, sublicense, distribute or
     transfer the programs except as expressly provided under this
     license. Any attempt otherwise to copy, modify, sublicense,
     distribute or transfer the programs is void, and will
     automatically terminate your rights to use the programs under
     this license. However, parties who have received copies, or
     rights to use copies, from you under this license will not have
     their licenses terminated so long as such parties remain in full
     compliance.

       5. By copying, distributing and/or using the programs you
     indicate your acceptance of this license to do so, and all its
     terms and conditions.

       6. Each time you redistribute the programs, the recipient
     automatically receives a license from the original licensor to
     copy, distribute and/or use the programs subject to these terms
     and conditions.  You may not impose any further restrictions on
     the recipients' exercise of the rights granted herein.

       7. You may not disassemble, decompile, re-source or otherwise
     reverse engineer the programs.

       8. You may use the programs for a period of up to 30 days for
     evaluation.  After that, you have to register.

       9. If you wish to incorporate parts of the programs into other
     programs, write to the authors to ask for permission.

       10. You agree to cease distributing the programs and data
     involved if requested to do so by the authors.

       11. You may charge a fee to recover distribution costs. The
     fee for diskette distribution may not be more than the cost to
     obtain a public domain diskette from Fred Fish.

@EndNode
@Node "11.4. No Warranty"
  11.4. No Warranty

       THERE IS NO WARRANTY FOR THE PROGRAMS, TO THE EXTENT PERMITTED
     BY APPLICABLE LAW.  EXCEPT WHEN OTHERWISE STATED IN WRITING THE
     COPYRIGHT HOLDERS AND/OR OTHER PARTIES PROVIDE THE PROGRAMS "AS
     IS" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED OR IMPLIED,
     INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
     MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE
     ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE OF THE PROGRAMS IS
     WITH YOU.  SHOULD THE PROGRAMS PROVE DEFECTIVE, YOU ASSUME THE
     COST OF ALL NECESSARY SERVICING, REPAIR OR CORRECTION.

       IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN
     WRITING WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY
     REDISTRIBUTE THE PROGRAMS AS PERMITTED ABOVE, BE LIABLE TO YOU
     FOR DAMAGES, INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR
     CONSEQUENTIAL DAMAGES ARISING OUT OF THE USE OR INABILITY TO USE
     THE PROGRAMS (INCLUDING BUT NOT LIMITED TO LOSS OF DATA OR DATA
     BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY YOU OR THIRD
     PARTIES OR A FAILURE OF THE PROGRAMS TO OPERATE WITH ANY OTHER
     PROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED
     OF THE POSSIBILITY OF SUCH DAMAGES.



@EndNode
@Node "11.5. Disclaimer"
  11.5. Disclaimer

       No warranty, either express or implied, is made with respect
     to the fitness or merchantability of TrapDoor.

       Maximilian Hantsch and Martin Laubach (referred to as "the
     authors"), reserve the right to not develop any future versions
     of TrapDoor.

       The authors will try to make a good faith attempt at
     correcting any problems if any are discovered, but are in no way
     required, nor bound to correct them.

       The authors neither assume nor accept any responsibility for
     the use or misuse of these programs. They also will not be held
     liable for damages or any compensation beyond the original
     registration fee due to loss of profit or any other damages
     arising out of the use, or inability to use these programs.

       Neither Maximilian Hantsch nor Martin Laubach will be liable
     for any damage arising from the failure of these programs to
     perform as described, or any destruction of other programs or
     data residing on a system attempting to run the programs.  While
     we know of no damaging errors, the user of these programs uses
     it at his or her own risk.

@EndNode
@Node "12. Acknowledgements"
  12. Acknowledgements

       The following names are either trademarks or the efforts of
     the person and/or company listed:

       Amiga and AmigaDOS are trademarks of Commodore-Amiga, Inc.
       ARexx by William S. Hawes, Wishful Thinking Development Corp.
       BinkleyTerm Amiga by Jürgen Hermann.
       BinkleyTerm by Alan D. Applegate, Robert Hartman
                      and Vincent Perriello.
       Chameleon Editor by Jürgen Hermann.
       ConfMail by Bob Hartman, Spark Software Inc.
       D'Bridge by Chris Irwin.
       Diamonds & Pearls by Prince
       DLG Professional by TelePro Technologies.
       EchoMail by Jeff Rush.
       @{ "EMSI" Link "4.3.36. (NO)EMSI" } by the EMSC.
       Falcon CBCS by Brian "I'm an IRCaholic" Fehdrau.
       FFSA by Carl-Christian Kanne.
       Fido and FidoNet are trademarks of Tom Jennings, Fido Software.
       FrontDoor by Joaquim Homrighausen.
       "Hey, there's Another Feature!"-Award: Roger Nordin.
       Inspiration by US Robotics' Dual HST.
       Jessi, our TrapBunny ;)
       License Agreement inspired by Jack Radigan
                      and the GNU General Public License.
       Many Thanks to Alexander Holy, Andreas Levenitschnig,
                      Arnout Grootveld, Café Heine, Felix Kasza,
                      Heiko Richter, Iljitsch van Beijnum, Johannes
                      Mistelbauer, Manfred Schädler, Many Others,
                      Marcus Kuba, Peer Hasselmeyer, Roger Nordin,
                      Tony Miller, Werner Schlagnitweit and Zteve Lewiz.
       Moral Support by MTNLION.
       More Moral Support from Tasmania.
       MS-DOS is a trademark of Microsoft Corporation.
       Opus by Wynn Wagner III.
       Paragon by Jon Radoff.
       Proofreading of this manual by Arnout Grootveld.
       SEAlink, SEAdog are trademarks of System Enhancement Associates.
       Spaces, Pigs, Ships and their Stars.
       Special Thanks to all our Registered Users.
       TrapDog by Peter Wlcek.
       TrapDoor is a registered trademark of Maximilian Hantsch
                                         and Martin Laubach.
       TrapList, TrapPoll, TrapTell and traplist.library
                      by Maximilian Hantsch and Martin Laubach.
       TrapToss by René Hexel.
       Typesetting of this manual by proff.
       YooHoo by Wynn Wagner III.
       ZModem by Chuck Forsberg.


@EndNode
@Node Index "Table"

    @{ " 1. Introduction " Link "1. Introduction" }

    @{ " 2. Installation " Link "2. Installation" }
        @{ " 2.1. The Keyfile " Link "2.1. The Keyfile" }
        @{ " 2.2. Point Setup " Link "2.2. Point Setup" }
        @{ " 2.3. Node Setup " Link "2.3. Node Setup" }
        @{ " 2.4. The Modem " Link "2.4. The Modem" }
        @{ " 2.5. Example Modem Settings " Link "2.5. Example Modem Settings" }
            @{ " 2.5.1. US Robotics Courier HST Modems " Link "2.5.1. US Robotics Courier HST Modems" }
            @{ " 2.5.2. Ordinary 2400 Baud Modems " Link "2.5.2. Ordinary 2400 Baud Modems" }
            @{ " 2.5.3. Internal Supra 2400zi Modems " Link "2.5.3. Internal Supra 2400zi Modems" }
            @{ " 2.5.4. Supra V.32bis " Link "2.5.4. Supra V.32bis" }
            @{ " 2.5.5. ZyXEL Modems " Link "2.5.5. ZyXEL Modems" }

    @{ " 3. Basics " Link "3. Basics" }
        @{ " 3.1. FidoNet " Link "3.1. FidoNet" }
        @{ " 3.2. Mailer Operation " Link "3.2. Mailer Operation" }
        @{ " 3.3. Nodelist " Link "3.3. Nodelist" }
        @{ " 3.4. Compatibility " Link "3.4. Compatibility" }
        @{ " 3.5. Custom Configuration Entries " Link "3.5. Custom Configuration Entries" }
        @{ " 3.6. Accounting " Link "3.6. Accounting" }
        @{ " 3.7. Security " Link "3.7. Security" }
        @{ " 3.8. File Tagging " Link "3.8. File Tagging" }
        @{ " 3.9. Refusing and Pickup Preferences " Link "3.9. Refusing and Pickup Preferences" }
        @{ " 3.10. The Keyboard " Link "3.10. The Keyboard" }
        @{ " 3.11. Return Values " Link "3.11. Return Values" }
        @{ " 3.12. ARexx " Link "3.12. ARexx" }
        @{ " 3.13. Dial Scripts " Link "3.13. Dial Scripts" }
        @{ " 3.14. Multiple Lines " Link "3.14. Multiple Lines" }
        @{ " 3.15. Logfile Buffering " Link "3.15. Logfile Buffering" }
        @{ " 3.16. Automatic Buffer Sizing " Link "3.16. Automatic Buffer Sizing" }
        @{ " 3.17. Fax Support " Link "3.17. Fax Support" }

    @{ " 4. Configuration Commands " Link "4. Configuration Commands" }
        @{ " 4.1. Embedded Percent-Commands " Link "4.1. Embedded Percent-Commands" }
        @{ " 4.2. Modem Commands " Link "4.2. Modem Commands" }
        @{ " 4.3. Keywords " Link "4.3. Keywords" }
            @{ " 4.3.1. (NO)7WIRE " Link "4.3.1. (NO)7WIRE" }
            @{ " 4.3.2. ABORT signals " Link "4.3.2. ABORT signals" }
            @{ " 4.3.3. (NO)ABS " Link "4.3.3. (NO)ABS" }
            @{ " 4.3.4. (NO)ACCOUNTING " Link "4.3.4. (NO)ACCOUNTING" }
            @{ " 4.3.5. ACCTMAX limits " Link "4.3.5. ACCTMAX limits" }
            @{ " 4.3.6. ADJUST factor " Link "4.3.6. ADJUST factor" }
            @{ " 4.3.7. AFTERSESSION command-string " Link "4.3.7. AFTERSESSION command-string" }
            @{ " 4.3.8. AKA akalist " Link "4.3.8. AKA akalist" }
            @{ " 4.3.9. (NO)ALLOWREFUSING " Link "4.3.9. (NO)ALLOWREFUSING" }
            @{ " 4.3.10. ANSWER " Link "4.3.10. ANSWER" }
            @{ " 4.3.11. ARQSTRING string " Link "4.3.11. ARQSTRING string" }
            @{ " 4.3.12. (NO)AUTOADJUST " Link "4.3.12. (NO)AUTOADJUST" }
            @{ " 4.3.13. (NO)AUTOOVERSCAN " Link "4.3.13. (NO)AUTOOVERSCAN" }
            @{ " 4.3.14. (NO)BACKGROUND " Link "4.3.14. (NO)BACKGROUND" }
            @{ " 4.3.15. BANNER bannerline " Link "4.3.15. BANNER bannerline" }
            @{ " 4.3.16. BAUD baudrate " Link "4.3.16. BAUD baudrate" }
            @{ " 4.3.17. BBSCHAR character " Link "4.3.17. BBSCHAR character" }
            @{ " 4.3.18. BBSCOMMAND command-string " Link "4.3.18. BBSCOMMAND command-string" }
            @{ " 4.3.19. BBSINOUT device " Link "4.3.19. BBSINOUT device" }
            @{ " 4.3.20. BBSMESSAGE text " Link "4.3.20. BBSMESSAGE text" }
            @{ " 4.3.21. BBSMODE mode " Link "4.3.21. BBSMODE mode" }
            @{ " 4.3.22. (NO)BEEPDISPLAY " Link "4.3.22. (NO)BEEPDISPLAY" }
            @{ " 4.3.23. BOSS zone:net/node.point " Link "4.3.23. BOSS zone:net/node.point" }
            @{ " 4.3.24. CALL number | fido-address " Link "4.3.24. CALL number | fido-address" }
            @{ " 4.3.25. COLORS palette-specification " Link "4.3.25. COLORS palette-specification" }
            @{ " 4.3.26. COLOURS palette-specification " Link "4.3.26. COLOURS palette-specification" }
            @{ " 4.3.27. CONCEPTS " Link "4.3.27. CONCEPTS" }
            @{ " 4.3.28. CONFIG config-file " Link "4.3.28. CONFIG config-file" }
            @{ " 4.3.29. COST " Link "4.3.29. COST" }
            @{ " 4.3.30. CREDITS " Link "4.3.30. CREDITS" }
            @{ " 4.3.31. DIALER command-string " Link "4.3.31. DIALER command-string" }
            @{ " 4.3.32. (NO)DIETIFNA " Link "4.3.32. (NO)DIETIFNA" }
            @{ " 4.3.33. (NO)DIRECTZAP " Link "4.3.33. (NO)DIRECTZAP" }
            @{ " 4.3.34. DROPBBSSECS seconds " Link "4.3.34. DROPBBSSECS seconds" }
            @{ " 4.3.35. (NO)DSR " Link "4.3.35. (NO)DSR" }
            @{ " 4.3.36. (NO)EMSI " Link "4.3.36. (NO)EMSI" }
            @{ " 4.3.37. (NO)FASTEMSI " Link "4.3.37. (NO)FASTEMSI" }
            @{ " 4.3.38. FAXCOMMAND commandline " Link "4.3.38. FAXCOMMAND commandline" }
            @{ " 4.3.39. FAXSTRING string " Link "4.3.39. FAXSTRING string" }
            @{ " 4.3.40. FKEY function-key-assignment " Link "4.3.40. FKEY function-key-assignment" }
            @{ " 4.3.41. (NO)FLOATLOCK " Link "4.3.41. (NO)FLOATLOCK" }
            @{ " 4.3.42. (NO)FORBID " Link "4.3.42. (NO)FORBID" }
            @{ " 4.3.43. FREQUEST command-string " Link "4.3.43. FREQUEST command-string" }
            @{ " 4.3.44. HELP " Link "4.3.44. HELP" }
            @{ " 4.3.45. (NO)IMMEDIATE " Link "4.3.45. (NO)IMMEDIATE" }
            @{ " 4.3.46. INBOUND inbound-mail-directory " Link "4.3.46. INBOUND inbound-mail-directory" }
            @{ " 4.3.47. (NO)INTERLACE " Link "4.3.47. (NO)INTERLACE" }
            @{ " 4.3.48. (NO)KIWIPULSE " Link "4.3.48. (NO)KIWIPULSE" }
            @{ " 4.3.49. (NO)LOCK " Link "4.3.49. (NO)LOCK" }
            @{ " 4.3.50. LOG level:text " Link "4.3.50. LOG level:text" }
            @{ " 4.3.51. LOGFILE filename " Link "4.3.51. LOGFILE filename" }
            @{ " 4.3.52. LOGLEVEL group:level " Link "4.3.52. LOGLEVEL group:level" }
            @{ " 4.3.53. LOGWINDOW window-specification " Link "4.3.53. LOGWINDOW window-specification" }
            @{ " 4.3.54. (NO)MAXBAUD " Link "4.3.54. (NO)MAXBAUD" }
            @{ " 4.3.55. MAXLOGLINES number " Link "4.3.55. MAXLOGLINES number" }
            @{ " 4.3.56. MAXLOGSECS seconds " Link "4.3.56. MAXLOGSECS seconds" }
            @{ " 4.3.57. MINBAUD baudrate " Link "4.3.57. MINBAUD baudrate" }
            @{ " 4.3.58. MODEMANSWER modem-answer-string " Link "4.3.58. MODEMANSWER modem-answer-string" }
            @{ " 4.3.59. MODEMDIALPRE modem-pre-dial-string " Link "4.3.59. MODEMDIALPRE modem-pre-dial-string" }
            @{ " 4.3.60. MODEMDIALPOST modem-post-dial-string " Link "4.3.60. MODEMDIALPOST modem-post-dial-string" }
            @{ " 4.3.61. MODEMHANGUP modem-hangup-string " Link "4.3.61. MODEMHANGUP modem-hangup-string" }
            @{ " 4.3.62. MODEMINIT modem-init-string " Link "4.3.62. MODEMINIT modem-init-string" }
            @{ " 4.3.63. NAME board's name " Link "4.3.63. NAME board's name" }
            @{ " 4.3.64. NODE zone:net/node.point " Link "4.3.64. NODE zone:net/node.point" }
            @{ " 4.3.65. NODELIST nodelist-directory " Link "4.3.65. NODELIST nodelist-directory" }
            @{ " 4.3.66. OUTBOUND outbound-mail-directory " Link "4.3.66. OUTBOUND outbound-mail-directory" }
            @{ " 4.3.67. PASSWORD password " Link "4.3.67. PASSWORD password" }
            @{ " 4.3.68. PICKUP what " Link "4.3.68. PICKUP what" }
            @{ " 4.3.69. PUBSCREENNAME name " Link "4.3.69. PUBSCREENNAME name" }
            @{ " 4.3.70. QUIT " Link "4.3.70. QUIT" }
            @{ " 4.3.71. (NO)QUIET " Link "4.3.71. (NO)QUIET" }
            @{ " 4.3.72. REDIALDELAY seconds " Link "4.3.72. REDIALDELAY seconds" }
            @{ " 4.3.73. RESET " Link "4.3.73. RESET" }
            @{ " 4.3.74. RETRIES count " Link "4.3.74. RETRIES count" }
            @{ " 4.3.75. REXXNAME portname " Link "4.3.75. REXXNAME portname" }
            @{ " 4.3.76. RINGCOMMAND commandline " Link "4.3.76. RINGCOMMAND commandline" }
            @{ " 4.3.77. RINGINGS number " Link "4.3.77. RINGINGS number" }
            @{ " 4.3.78. RINGS number " Link "4.3.78. RINGS number" }
            @{ " 4.3.79. RUN command-string " Link "4.3.79. RUN command-string" }
            @{ " 4.3.80. SCLEAR " Link "4.3.80. SCLEAR" }
            @{ " 4.3.81. SCREENMODE mode " Link "4.3.81. SCREENMODE mode" }
            @{ " 4.3.82. SERIALFLAGS serial-flags " Link "4.3.82. SERIALFLAGS serial-flags" }
            @{ " 4.3.83. SERIALNAME serial-device-name " Link "4.3.83. SERIALNAME serial-device-name" }
            @{ " 4.3.84. SERIALUNIT serial-unit-number " Link "4.3.84. SERIALUNIT serial-unit-number" }
            @{ " 4.3.85. (NO)SHARED " Link "4.3.85. (NO)SHARED" }
            @{ " 4.3.86. (NO)SHOWREXX " Link "4.3.86. (NO)SHOWREXX" }
            @{ " 4.3.87. SLINE " Link "4.3.87. SLINE" }
            @{ " 4.3.88. SLOWMODEM modem-command-delay " Link "4.3.88. SLOWMODEM modem-command-delay" }
            @{ " 4.3.89. SMODEM modem-command " Link "4.3.89. SMODEM modem-command" }
            @{ " 4.3.90. (NO)SNIFFARQ " Link "4.3.90. (NO)SNIFFARQ" }
            @{ " 4.3.91. SPAWN command-string " Link "4.3.91. SPAWN command-string" }
            @{ " 4.3.92. STARTSESSION " Link "4.3.92. STARTSESSION" }
            @{ " 4.3.93. STATUS what " Link "4.3.93. STATUS what" }
            @{ " 4.3.94. STATWINDOW window-specification " Link "4.3.94. STATWINDOW window-specification" }
            @{ " 4.3.95. STIMEOUT timeout " Link "4.3.95. STIMEOUT timeout" }
            @{ " 4.3.96. SWAIT string " Link "4.3.96. SWAIT string" }
            @{ " 4.3.97. (NO)SWEPULSE " Link "4.3.97. (NO)SWEPULSE" }
            @{ " 4.3.98. SWRITE string " Link "4.3.98. SWRITE string" }
            @{ " 4.3.99. SYSOP sysop's-name " Link "4.3.99. SYSOP sysop's-name" }
            @{ " 4.3.100. TASKPRI priority " Link "4.3.100. TASKPRI priority" }
            @{ " 4.3.101. TESTFREQ " Link "4.3.101. TESTFREQ" }
            @{ " 4.3.102. (NO)TIMESTAMP " Link "4.3.102. (NO)TIMESTAMP" }
            @{ " 4.3.103. (NO)UNLISTEN " Link "4.3.103. (NO)UNLISTEN" }
            @{ " 4.3.104. (NO)WAZOO " Link "4.3.104. (NO)WAZOO" }
            @{ " 4.3.105. (NO)WRAPLINES " Link "4.3.105. (NO)WRAPLINES" }
            @{ " 4.3.106. (NO)XMAIL " Link "4.3.106. (NO)XMAIL" }
            @{ " 4.3.107. (NO)ZEDZAP " Link "4.3.107. (NO)ZEDZAP" }
            @{ " 4.3.108. (NO)ZEDZIP " Link "4.3.108. (NO)ZEDZIP" }

    @{ " 5. Example Setup " Link "5. Example Setup" }

    @{ " 6. The Outbound Directory " Link "6. The Outbound Directory" }
        @{ " 6.1. 'Compatibility' Filenames " Link "6.1. 'Compatibility' Filenames" }
        @{ " 6.2. 4-dimensional Filenames " Link "6.2. 4-dimensional Filenames" }
        @{ " 6.3. Extensions " Link "6.3. Extensions" }
        @{ " 6.4. Packet files " Link "6.4. Packet files" }
        @{ " 6.5. Flow files " Link "6.5. Flow files" }
        @{ " 6.6. Compressed Mail files " Link "6.6. Compressed Mail files" }
        @{ " 6.7. Request files " Link "6.7. Request files" }
        @{ " 6.8. Examples " Link "6.8. Examples" }

    @{ " 7. The Inbound Directory " Link "7. The Inbound Directory" }
        @{ " 7.1. Bumping Filenames " Link "7.1. Bumping Filenames" }

    @{ " 8. Bugs? Poof! They're all features! " Link "8. Bugs? Poof! They're all features!" }
        @{ " 8.1. Real Bugs " Link "8.1. Real Bugs" }

    @{ " 9. Past & Future " Link "9. Past & Future" }

    @{ " 10. Registration " Link "10. Registration" }

    @{ " 11. Politics " Link "11. Politics" }
        @{ " 11.1. Distribution " Link "11.1. Distribution" }
        @{ " 11.2. Support " Link "11.2. Support" }
        @{ " 11.3. License " Link "11.3. License" }
        @{ " 11.4. No Warranty " Link "11.4. No Warranty" }
        @{ " 11.5. Disclaimer " Link "11.5. Disclaimer" }

    @{ " 12. Acknowledgements " Link "12. Acknowledgements" }

@EndNode
