<!-- This HTML file has been created by texi2html 1.29af
     from ../AmigaFAQ.texinfo on 26 September 1995 -->

<TITLE>Amiga-FAQ - Pipe</TITLE>

<PRE><I>
&lt;&lt; <A HREF="AmigaFAQ_10.html">Dot-Replacement</A>
&gt;&gt; <A HREF="AmigaFAQ_12.html">Shellpipe</A>
<HR>
</I></PRE>

<A NAME="IDX21"></A>
<A NAME="IDX22"></A>
<H2><A NAME="SEC11" HREF="AmigaFAQ_toc.html#SEC11">The PIPE: queue-handler</A></H2>
In the AmigaOS release 2.04, a new handler for passing data between
programs was introduced. This handler is called <TT>`L:Queue-Handler'</TT>,
better known as the <TT>`PIPE:'</TT> device.
<P>
<TT>`PIPE:'</TT> implements a true <CODE>pipe</CODE> familiar from UNIX systems.
Its function is to pass the output of one program to another program as
input. You can chain several programs together using multiple pipes.
<P>
The advantages of using pipes are:
<OL>
<LI>No need for a lot of RAM to keep the temporary files, or, no need
to slow things down by storing temporary files on the HD.
<LI>Faster operation since the intermediate data doesn't need to be
stored anywhere between programs.
</OL>
<P>
The <TT>`PIPE:'</TT> device differs from the UNIX pipes in two important
respects:
<OL>
<LI>It is a device, so the input and output of the programs doesn't
need to be a redirected standard output, although that is the
general case. You can also use <TT>`PIPE:'</TT> instead of files, with two
restrictions; you can not read a directory from <TT>`PIPE:'</TT>, and the
<TT>`PIPE:'</TT> `file' can not be `seeked' in.
<LI>It does not support a flush operation. If all of the data written
in a <TT>`PIPE:'</TT> device is not read out, it will stay there,
buffered. Thus you must always `empty' a pipe before closing it.
<LI>Because of the above, if unread data exceeds the size of the
<TT>`PIPE:'</TT> internal buffer, the program writing to the pipe will
`block' (that is, suspend operation) until the data is read. See
below on how to manually flush a pipe.
</OL>
<P>
The PIPE: handler name syntax is <TT>`PIPE:name/bufsize/bufnum'</TT>, where
<TT>`name'</TT> is the name for the pipe channel. Using names you can have
several simultaneous pipe operations. The optional arguments
<CODE>bufsize</CODE>and <CODE>bufnum</CODE> specify the size and number of the
buffers used by <TT>`PIPE:'</TT>. Normally, you would just use
<TT>`PIPE:name'</TT>.
<P>
The default buffer size of <TT>`PIPE:'</TT> is 4096 bytes, and the number of
buffers (ie. channels) is unlimited.
<P>
<UL>
<LI><A HREF="AmigaFAQ_12.html#SEC12">Shellpipe</A>: Using PIPE: in a standard AmigaShell environment
<LI><A HREF="AmigaFAQ_13.html#SEC13">Pipe command</A>: The Pipe command
<LI><A HREF="AmigaFAQ_14.html#SEC14">Pipe support</A>: Pipe command support in AmigaShell
<LI><A HREF="AmigaFAQ_15.html#SEC15">Quick usage</A>: Quick usage guide
<LI><A HREF="AmigaFAQ_16.html#SEC16">_mchar</A>: Related things
<LI><A HREF="AmigaFAQ_17.html#SEC17">Troubleshooting</A>: Troubleshooting
</UL>
<P>
Osma Ahvenlampi (Osma.Ahvenlampi@hut.fi)
<P>

<PRE><I>
<HR>
&lt;&lt; <A HREF="AmigaFAQ_10.html">Dot-Replacement</A>
&gt;&gt; <A HREF="AmigaFAQ_12.html">Shellpipe</A>
</I></PRE>
