<!-- This HTML file has been created by texi2html 1.29af
     from ../AmigaFAQ.texinfo on 26 September 1995 -->

<TITLE>Amiga-FAQ - Amiga Libraries</TITLE>

<PRE><I>
&lt;&lt; <A HREF="AmigaFAQ_42.html">Inline Headers</A>
&gt;&gt; <A HREF="AmigaFAQ_44.html">Installation</A>
<HR>
</I></PRE>

<A NAME="IDX89"></A>
<H3><A NAME="SEC43" HREF="AmigaFAQ_toc.html#SEC43">Amiga Libraries</A></H3>
<P>
Starting from this release an AmigaDOS compliant library is provided,
thanks to libnix authors (Matthias Fleischer and Gunther Nikl).
<P>
Anyway if you want to rebuild one, there are two methods:
<P>
1) Using hunk2gcc; the AmigaDOS object converter made by Markus Wild. To
achieve this, simply grab a copy of latest amiga.lib (from
Commodore Development Kit, see  <A HREF="AmigaFAQ_27.html#SEC27">Where do I get the Amiga includes?</A>) and make a new directory
where you want your converted object files to go, cd into it, and enter
<P>
<PRE>
	hunk2gcc amiga.lib [..further libs if you like..]
</PRE>
<P>
This generates an a.out object file for every program unit present in the
hunk file (in this case, from amiga.lib).
<P>
As the final step convert all those files into an a.out style library by
issuing:
<P>
<PRE>
	ar qc libamiga.a obj.*
	ranlib libamiga.a
</PRE>
<P>
The ranlib run builds a symbol table in the archive, and makes accesses to
the library much faster.
<P>
2) Creating a libamiga.a library with libnix is fairly easy, but takes some
time. Just uncompress sources.lha from libnix distribution and run a
<TT>`make libamiga.a'</TT>.
<P>
<STRONG>Note:</STRONG> As long as you make no AmigaDOS specific calls, you can create a dummy
library using:
<P>
<PRE>
  cat "int dummy;" &#62;dummy.c
  gcc -c dummy.c
  ar crv libamiga.a dummy.o
  mv libamiga.a gcc:lib
</PRE>
<P>

<PRE><I>
<HR>
&lt;&lt; <A HREF="AmigaFAQ_42.html">Inline Headers</A>
&gt;&gt; <A HREF="AmigaFAQ_44.html">Installation</A>
</I></PRE>
