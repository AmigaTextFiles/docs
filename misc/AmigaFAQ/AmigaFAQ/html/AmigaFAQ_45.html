<!-- This HTML file has been created by texi2html 1.29af
     from ../AmigaFAQ.texinfo on 26 September 1995 -->

<TITLE>Amiga-FAQ - Compiling</TITLE>

<PRE><I>
&lt;&lt; <A HREF="AmigaFAQ_44.html">Installation</A>
&gt;&gt; <A HREF="AmigaFAQ_46.html">How to get help</A>
<HR>
</I></PRE>

<A NAME="IDX91"></A>
<A NAME="IDX92"></A>
<H3><A NAME="SEC45" HREF="AmigaFAQ_toc.html#SEC45">Compiling</A></H3>
<P>
What about a nice Hello World ?
<P>
<PRE>
#include &#60;stdio.h&#62;

main()
{
  printf("Hello World!\n");
}
</PRE>
<P>
This was pretty simple ;-) Now we have to compile it.
There's a lot of options in gcc but simplest way to compile this would be:
<P>
<PRE>
CLI&#62; gcc -o hello hello.c
</PRE>
<P>
Simple ?
<P>
Here's more options.
<P>
Target processor for Motorola family:
You can compile plain 68000 code, 68020, 68030, 68040, 68881 (have a look at
GCC documentation, either in info or AmigaGuide format, chapter
<TT>`Invoking Gcc/SubModel Options/M680X0 Options for Motorola specific compilation flags'</TT>).
<P>
<PRE>
CLI&#62; gcc -m68020 -m68881 -o hello hello.c
</PRE>
<P>
This will compile your programs using 68020 code and direct calls to
math-processor, and will link with accelerated libraries, located in
<TT>`GCC:lib/lib020'</TT>.
<P>
Optimization:
Either you don't want optimization, or you can provide <TT>`-O'</TT>, which will
optimize your code, or if you really want top optimization, use <TT>`-O2'</TT> flag (for
more discussion about optimization, read info or AmigaGuide doc chapter
Invoking Gcc/Optimize Options). There's now even a <TT>`-O3'</TT> optimization option,
which will go even further.
<P>
<PRE>
CLI&#62; gcc -O2 -o hello hello.c
</PRE>
<P>
You'll never have a "Hello World" program running so fast ;-)
<P>
Code generation:
Perhaps you want to generate resident programs.
Flag is -resident, at compile and link stage.
<P>
<PRE>
CLI&#62; gcc -resident -o hello hello.c
</PRE>
<P>
Of course you can mix all options, resulting in:
<P>
<PRE>
CLI&#62; gcc -O2 -m68020 -m68881 -resident -o hello hello.c
</PRE>
<P>
This will make a 68020+68881 executable highly optimized and resident.
<P>
IMPORTANT:
If you only use AmigaDOS functions or you don't want to use ixemul for
philosophical reasons, you can get rid of ixemul.library with:
<P>
<PRE>
CLI&#62; gcc -noixemul -o foobar foobar.c
</PRE>
<P>
provided you have libnix distribution (included with 2.6.0 distribution).
<P>

<PRE><I>
<HR>
&lt;&lt; <A HREF="AmigaFAQ_44.html">Installation</A>
&gt;&gt; <A HREF="AmigaFAQ_46.html">How to get help</A>
</I></PRE>
