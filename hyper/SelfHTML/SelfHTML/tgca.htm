<html>
<head>
<title>SELFHTML: CGI/Perl / Perl-Sprachelemente / Grunds&auml;tzliches zu Perl-Scripts</title>
<meta name="description" content="(SELFHTML 7.0) Wie der Perl-Interpreter aufgerufen wird, wie Perl-Scripts grundsätzlich aussehen müssen, wie einfache Anweisungen notiert werden.">
<meta name="keywords" content="SELFHTML, Perl, Perl-Interpreter, Anweisungen, Anweisungsblöcke, Kommentare">
<link rel=stylesheet type="text/css" href="wselfhtm.css"> 
</head>
<body bgcolor=#FFFFFF text=#000000 link=#AA5522 vlink=#772200 alink=#000000>

<p><nobr><a class="an" name="top"><img src="x2.gif" width=16 height=13 border=0></a> <a href="selfhtml.htm"><b>SELFHTML</b></a>/<a href="tq.htm" target="_parent">Quickbar</a>&#160;
<img src="x2.gif" width=16 height=13 border=0> <a href="tg.htm"><b>CGI/Perl</b></a>&#160;
<img src="x2.gif" width=16 height=13 border=0> <a href="tgc.htm"><b>Perl-Sprachelemente</b></a></nobr></p>
<hr noshade size=1>
<table cellpadding=4 cellspacing=1 width=100%>
<tr>
<td bgcolor=#EEEEEE class="doc" width=110><img src="xweb.gif" width=106 height=109></td>
<td bgcolor=#EEEEEE class="doc" valign=bottom width=100%><h2>Grunds&auml;tzliches zu Perl-Scripts</h2></td>
</tr>
<tr>
<td bgcolor=#EEEEEE class="doc" valign=top align=center>
<img src="x5.gif" width=30 height=20 vspace=6 border=0 alt="Diese Seite ist ein Dokument mit Informationstext">
</td>
<td bgcolor=#FFFFFF valign=top nowrap>

<p>
<img src="xgdown.gif" width=14 height=10 border=0>&nbsp;<a href="#a1"><b>Aufrufm&ouml;glichkeiten des Perl-Interpreters</b></a> <br>
<img src="xgdown.gif" width=14 height=10 border=0>&nbsp;<a href="#a2"><b>Regeln f&uuml;r Perl-Scripts und Kommentare in Perl</b></a><br>
<img src="xgdown.gif" width=14 height=10 border=0>&nbsp;<a href="#a3"><b>Anweisungen notieren</b></a><br>
<img src="xgdown.gif" width=14 height=10 border=0>&nbsp;<a href="#a4"><b>Anweisungsbl&ouml;cke notieren</b></a><br>
<img src="xgdown.gif" width=14 height=10 border=0>&nbsp;<a href="#a5"><b>Selbstvergebene Namen</b></a>
</p>

</td>
</tr><tr><td colspan=2 bgcolor=#EEEEEE class="doc"><a href="#bottom"><img src="xgdown.gif" width=14 height=10 border=0></a>&#160;</td></tr>
</table>



<h2 class="Sh2"><a class="an" name="a1">Aufrufm&ouml;glichkeiten des Perl-Interpreters</a></h2>


<p>Um eigene Perl-Scripts auszuf&uuml;hren bzw. zu testen, m&uuml;ssen Sie den <img src="x3.gif" width=15 height=10 border=0>&nbsp;<a href="tgbb.htm"><b>Perl-Interpreter installiert</b></a> haben. Um Perl als Sprache f&uuml;r CGI-Scripts einzusetzen, mu&szlig; au&szlig;erdem ein <img src="x3.gif" width=15 height=10 border=0>&nbsp;<a href="tgba.htm"><b>WWW-Server installiert</b></a> sein.</p>

<p>Aufrufen k&ouml;nnen Sie den Perl-Interpreter mit einem Perl-Script, also einer Datei mit Perl-Code. Solche Dateien haben die Standard-Dateinamenendung <tt>.pl</tt>. Der Perl-Interpreter wird normalerweise einfach mit <tt>perl</tt> gestartet. Wenn Sie beispielsweise ein Perl-Script namens <tt>hallowelt.pl</tt> haben, k&ouml;nnen Sie dieses Script mit <tt>perl hallowelt.pl</tt> starten. Gegebenenfalls m&uuml;ssen Sie beide Dateien mit ihren korrekten Pfadnamen aufrufen, also z.B. <tt>c:\www\bin\perl.exe c:\scripts\perl\hallowelt.pl</tt> (im Beispiel: Pfadsyntax nach MS-Windows).</p> 

<p>Daneben gibt es etliche Optionen beim Aufruf des Perl-Interpreters. Die Optionen folgen unmittelbar hinter dem Programmdateinamen und vor dem Namen des Perl-Scripts, also etwa <tt>perl -c test.pl</tt>. Sie k&ouml;nnen auch mehrere Optionen aneinanderh&auml;ngen. Notieren Sie dazu nur ein Minuszeichen mit allen gew&uuml;nschten Optionsbuchstaben hintereinander, z.B. <tt>perl -cwT test.pl</tt></p>

<p>Die folgende Liste enth&auml;lt wichtige Optionen beim Aufruf des Perl-Interpreters.</p>

<table cellpadding=3>
<tr>
<th bgcolor=#EEEEEE class="doc" align=left>Option</th>
<th bgcolor=#EEEEEE class="doc" align=left>Bedeutung</th>
</tr>
<tr>
<td class="code" bgcolor=#FFFFE0 valign=top><tt>-c</tt></td>
<td class="tabxpl" bgcolor=#EEEEFF valign=top>Das Perl-Script wird nicht ausgef&uuml;hrt, sondern nur auf syntaktische Richtigkeit &uuml;berpr&uuml;ft</td>
</tr>
<tr>
<td class="code" bgcolor=#FFFFE0 valign=top><tt>-d</tt></td>
<td class="tabxpl" bgcolor=#EEEEFF valign=top>Das Perl-Script wird im Debug-Modus ausgef&uuml;hrt. Der Debug-Modus erlaubt das Austesten des Perl-Scripts.</td>
</tr>
<tr>
<td class="code" bgcolor=#FFFFE0 valign=top><tt>-S</tt></td>
<td class="tabxpl" bgcolor=#EEEEFF valign=top>Das Script braucht nur als Dateiname ohne Pfad angegeben werden. Wenn es in einem der Verzeichnisse liegt, die in der path-Variablen des Betriebssystems genannt sind, findet der Perl-Interpreter das Script auch ohne Pfadangabe.</td>
</tr>
<tr>
<td class="code" bgcolor=#FFFFE0 valign=top><tt>-T</tt></td>
<td class="tabxpl" bgcolor=#EEEEFF valign=top>Das Script wird w&auml;hrend der Ausf&uuml;hrung streng auf Fehlerfreiheit &uuml;berpr&uuml;ft.</td>
</tr>
<tr>
<td class="code" bgcolor=#FFFFE0 valign=top><tt>-v</tt></td>
<td class="tabxpl" bgcolor=#EEEEFF valign=top>Gibt die Version und den genauen Stand des Perl-Interpreters aus.</td>
</tr>
<tr>
<td class="code" bgcolor=#FFFFE0 valign=top><tt>-w</tt></td>
<td class="tabxpl" bgcolor=#EEEEFF valign=top>Bewirkt, da&szlig; der Perl-Interpreter nicht nur offensichtliche Fehlermeldungen bei Syntaxfehlern ausgibt, sondern auch Warnungen bei m&ouml;glichen Fehlern und logisch zweifelhaften Anweisungsfolgen.</td>
</tr>
</table>

<h3 class="inf">Tip:</h3>

<p>Wenn Sie die Beispiele, die in den Perl-Beschreibungen in diesem Dokument vorkommen, selbst ausprobieren m&ouml;chten, kopieren Sie sich die Beispiele aus dem WWW-Browser &uuml;ber die Zwischenablage Ihres Betriebssystems in einen Texteditor. Speichern Sie den Inhalt in einer Perl-Datei ab, z.B. unter dem Namen <tt>test.pl</tt>. Rufen Sie den Perl-Interpreter mit dieser Datei auf. Das sollten Sie m&ouml;glichst auf der Kommandozeilenebene (DOS oder Unix-Shell beispielsweise) tun, da viele der Beispiele ihre Ergebnisse auf die Standardausgabe schreiben.</p> 







<table bgcolor=#EEEEEE class="doc" width=100%><tr><td>
<a href="#top"><img src="xgoup.gif" width=14 height=10 border=0></a><a href="#bottom"><img src="xgdown.gif" width=14 height=10 border=0></a>&#160;
</td></tr></table>
<h2 class="Sh2"><a class="an" name="a2">Regeln f&uuml;r Perl-Scripts und Kommentare in Perl</a></h2>

<p>Perl-Scripts k&ouml;nnen Sie mit jedem ASCII-Editor erstellen und bearbeiten. Ideal ist ein leistungsf&auml;higer Programmierer-Editor, der sich so konfigurieren l&auml;&szlig;t, da&szlig; er das Programmieren in Perl optimal unterst&uuml;tzt, etwa durch gespeicherte Sprachbausteine.</p>

<p>Speichern Sie Perl-Scripts unter einem Dateinamen mit der Endung <tt>.pl</tt> ab.</p> 

<p>Zum Aufbau eines Perl-Scripts gibt es nur eine feste Regel: in der ersten Zeile sollte eine Anweisung stehen, die angibt, in welchem Verzeichnis sich die ausf&uuml;hrbare Datei des Perl-Interpreters befindet.</p>

<h3 class="xmp">Beispiel eines vollst&auml;ndigen Perl-Scripts:</h3>
<table width=100% cellpadding=10><tr><td class="xmpcode" bgcolor=#FFFFE0><pre>
#!/usr/bin/perl
print &quot;Hallo Welt\n&quot;;
</pre></td></tr></table>

<h3 class="xpl">Erl&auml;uterung:</h3>

<p>Die Anweisung zur Lage des Perl-Interpreters auf dem Rechner beginnt mit den Zeichen <tt>#!</tt> - gefolgt von der Pfadangabe. Ab der n&auml;chsten Zeile k&ouml;nnen Sie <img src="xgdown.gif" width=14 height=10 border=0>&nbsp;<a href="#a3"><b>Anweisungen</b></a> in der Sprache Perl notieren, wie im Beispiel die Ausgabe der beiden W&ouml;rter &quot;Hallo Welt&quot; auf die Standardausgabe.</p>

<p>Die Anweisung zur Lage des Perl-Interpreters auf dem Rechner wird vor allem von Unix- und Unix-kompatiblen Systemen verwertet, und zwar dann, wenn die Perl-Datei auf den Modus &quot;ausf&uuml;hrbar&quot; gesetzt ist. Die Datei kann dann direkt aufgerufen werden und startet den Perl-Interpreter. Wenn Sie unter anderen Umgebungen als Unix arbeiten, notieren Sie einfach die &uuml;bliche Zeile mit der &uuml;blichen Pfadangabe (<tt>#!/usr/bin/perl</tt>) in der ersten Zeile Ihres Perl-Scripts. Sollte das Script dann nicht ausgef&uuml;hrt werden, notieren Sie den genauen Pfad der ausf&uuml;hrbaren Datei des Perl-Interpreters. Benutzen Sie dabei immer einfache Schr&auml;gstriche zur Trennung von Verzeichnissen, auch wenn es sich um einen DOS-/Windows-Rechner handelt.</p>

<p>Die Zeile mit der Anweisung zur Lage des Perl-Interpreters ist zugleich ein Kommentar laut Perl-Syntax. Kommentare beginnen mit dem Gatterzeichen <tt>#</tt>. Alles zwischen diesem Zeichen und dem Ende der gleichen Zeile wird vom Perl-Interpreter ignoriert. F&uuml;r mehrzeilige Kommentare m&uuml;ssen Sie alle betroffenen Zeilen mit einem <tt>#</tt> beginnen.</p>

<h3 class="inf">Beachten Sie:</h3>

<p>Wenn Sie Perl im Zusammenhang mit einem modernen WWW-Server mit CGI-Unterst&uuml;tzung installiert haben, ist die Zeile f&uuml;r die Lage des Perl-Interpreters h&auml;ufig auch nicht von Bedeutung. Denn zur <img src="x3.gif" width=15 height=10 border=0>&nbsp;<a href="tgba.htm#a3"><b>Konfiguration des WWW-Servers</b></a> geh&ouml;rt mittlerweile auch die Angabe des Pfades zum Perl-Interpreter. Wenn dann bei eingeschaltetem WWW-Server ein Perl-Script &uuml;ber das HTTP-Protokoll ausgef&uuml;hrt wird, ruft der WWW-Server den Perl-Interpreter entsprechend seiner Konfiguration auf.</p>


<table bgcolor=#EEEEEE class="doc" width=100%><tr><td>
<a href="#top"><img src="xgoup.gif" width=14 height=10 border=0></a><a href="#bottom"><img src="xgdown.gif" width=14 height=10 border=0></a>&#160;
</td></tr></table>
<h2 class="Sh2"><a class="an" name="a3">Anweisungen notieren</a></h2>

<p>Perl besteht wie andere Programmiersprachen aus einer kontrollierten Anordnung von Anweisungen. Das sind Befehle, die der Perl-Interpreter bewertet und in Maschinencode umsetzt, der auf dem Rechner des Anwenders ausf&uuml;hrbar ist.</p>

<p>Es gibt einfache und komplexere Anweisungen.</p>

<h3 class="xmp">Beispiele:</h3>
<table width=100% cellpadding=10><tr><td class="xmpcode" bgcolor=#FFFFE0><pre>
#!/usr/bin/perl

$Zahl = 42;
$Quadrat = $Zahl * $Zahl;
print &quot;Das Quadrat von &quot;, $Zahl, &quot; = &quot;, $Quadrat, &quot;\n&quot;;
</pre></td></tr></table>

<h3 class="xpl">Erl&auml;uterung:</h3>

<p>Eine Anweisung in Perl besteht aus einem Befehl, der normalerweise mit einem Strichpunkt <tt>;</tt> abgeschlossen wird.</p>

<p>Eine Anweisung ist es zum Beispiel:</p> 
<ul>
<li>wenn Sie einer <img src="x3.gif" width=15 height=10 border=0>&nbsp;<a href="tgcb.htm"><b>Variablen</b></a> einen Wert zuweisen, wie oben in Beispiel in der Anweisung <tt>$Zahl = 42;</tt>.</li>
<li>wenn Sie mit Variablen oder Werten eine Operation durchf&uuml;hren, wie oben in der zweiten Anweisung.</li>
<li>wenn Sie eine <img src="x3.gif" width=15 height=10 border=0>&nbsp;<a href="tgci.htm#a4"><b>Perl-Funktion</b></a> aufrufen, wie oben in der dritten Anweisung.</li>
</ul>


<table bgcolor=#EEEEEE class="doc" width=100%><tr><td>
<a href="#top"><img src="xgoup.gif" width=14 height=10 border=0></a><a href="#bottom"><img src="xgdown.gif" width=14 height=10 border=0></a>&#160;
</td></tr></table>
<h2 class="Sh2"><a class="an" name="a4">Anweisungsbl&ouml;cke notieren</a></h2>

<p>Ein Anweisungsblock besteht aus <img src="xgoup.gif" width=14 height=10 border=0>&nbsp;<a href="#a3"><b>
Anweisungen</b></a>, die innerhalb einer &uuml;bergeordneten Anweisung stehen. So k&ouml;nnen Anweisungsbl&ouml;cke beispielsweise innerhalb einer <img src="x3.gif" width=15 height=10 border=0>&nbsp;<a href="tgcd.htm#a1"><b>bedingten Anweisung</b></a> oder innerhalb einer <img src="x3.gif" width=15 height=10 border=0>&nbsp;<a href="tgce.htm"><b>Schleife</b></a> stehen. Auch alle Anweisungen, die innerhalb eines <img src="x3.gif" width=15 height=10 border=0>&nbsp;<a href="tgci.htm#a1"><b>Unterprogramms</b></a> stehen, bilden einen Anweisungsblock.</p>

<h3 class="xmp">Beispiel 1:</h3>
<table width=100% cellpadding=10><tr><td class="xmpcode" bgcolor=#FFFFE0><pre>
if($Zahl &gt; 1000)
 {
  $Zahl = 0;
 }  
</pre></td></tr></table>
<h3 class="xmp">Beispiel 2:</h3>
<table width=100% cellpadding=10><tr><td class="xmpcode" bgcolor=#FFFFE0><pre>
while($i &lt;= 99)
 {
  print &quot;Das Quadrat von &quot;, $i, &quot; ist &quot;, $i * $i, &quot;\n&quot;;
  $i = $i + 1;
 }  
</pre></td></tr></table>

<h3 class="xpl">Erl&auml;uterung:</h3>

<p>Ein Anweisungsblock wird durch eine &ouml;ffnende geschweifte Klammer <tt>{</tt> begonnen und durch eine schlie&szlig;ende geschweifte Klammer <tt>}</tt> beendet.</p> 

<p>Bei bedingten Anweisungen (wie in Beispiel 1 oben) oder bei Schleifen (wie in Beispiel 2 oben) m&uuml;ssen Sie solche Anweisungsbl&ouml;cke <b>immer</b> notieren, auch wenn nur eine einzige Anweisung von der Bedingung oder der Schleifenbedingung abh&auml;ngig ausgef&uuml;hrt werden soll.</p> 

<p>Anweisungsbl&ouml;cke k&ouml;nnen nat&uuml;rlich auch verschachtelt sein.</p>

<table bgcolor=#EEEEEE class="doc" width=100%><tr><td>
<a href="#top"><img src="xgoup.gif" width=14 height=10 border=0></a><a href="#bottom"><img src="xgdown.gif" width=14 height=10 border=0></a>&#160;
</td></tr></table>
<h2 class="Sh2"><a class="an" name="a5">Selbstvergebene Namen</a></h2>

<p>An vielen Stellen in Perl m&uuml;ssen Sie selbst Namen vergeben, zum Beispiel f&uuml;r <img src="x3.gif" width=15 height=10 border=0>&nbsp;<a href="tgcb.htm"><b>Variablen</b></a>.</p>

<h3 class="xmp">Beispiel:</h3>
<table width=100% cellpadding=10><tr><td class="xmpcode" bgcolor=#FFFFE0><pre>
$Daten = $ENV{'QUERY_STRING'};
</pre></td></tr></table>

<h3 class="xpl">Erl&auml;uterung:</h3>

<p>Bei selbst vergebenen Namen gelten folgende Regeln:</p>
<ul>
<li>sie d&uuml;rfen keine Leerzeichen enthalten</li>
<li>sie sollten maximal 32 Zeichen L&auml;nge haben</li>
<li>sie d&uuml;rfen nur aus Buchstaben und Ziffern bestehen - das erste Zeichen sollte ein Buchstabe sein; es sind Gro&szlig;- und Kleinbuchstaben erlaubt</li>
<li>sie d&uuml;rfen keine deutschen Umlaute oder scharfes S enthalten</li>
<li>sie d&uuml;rfen als einziges Sonderzeichen den Unterstrich &quot;_&quot; enthalten</li>
</ul>
<p>Vergeben Sie sprechende Namen, die Ihnen auch ein halbes Jahr, nachdem Sie das Perl-Script geschrieben haben, noch signalisieren, welche Bedeutung sie haben. Es d&uuml;rfen ruhig auch deutschsprachige W&ouml;rter sein, solange die genannten Regeln eingehalten werden.</p>

<table cellpadding=4 cellspacing=1 width=100%>
<tr><td colspan=2 bgcolor=#EEEEEE class="doc">
<a href="#top"><img src="xgoup.gif" width=14 height=10 border=0></a>
</td></tr>
<tr><td bgcolor=#EEEEEE class="doc" align=right width=110>weiter:<a href="tgcb.htm"><img src="xgnext.gif" width=10 height=10 border=0 hspace=10></a></td>
<td bgcolor=#FFFFFF><img src="x3.gif" width=15 height=10 border=0> <a href="tgcb.htm"><b>Variablen und Datentypen</b></a>
</td></tr>
<tr>
<td bgcolor=#EEEEEE class="doc" align=right width=110>zur&uuml;ck:<a href="tgbf.htm"><img src="xgprev.gif" width=10 height=10 border=0 hspace=10></a></td>
<td bgcolor=#FFFFFF width=100%><img src="x3.gif" width=15 height=10 border=0> <a href="tgbf.htm"><b>HTML-Formulare und CGI</b></a>
</td>
</tr>
<tr><td colspan=2 bgcolor=#EEEEEE class="doc">&#160;</td></tr>
</table>
<hr noshade size=1>
<p><nobr><img src="x2.gif" width=16 height=13 border=0> <a href="selfhtml.htm"><b>SELFHTML</b></a>/<a href="tq.htm" target="_parent">Quickbar</a>&#160;
<img src="x2.gif" width=16 height=13 border=0> <a href="tg.htm"><b>CGI/Perl</b></a>&#160;
<img src="x2.gif" width=16 height=13 border=0> <a href="tgc.htm"><b>Perl-Sprachelemente</b></a></nobr></p>
<p><nobr><a class="an" name="bottom">&copy; 1998</A> <img src="xgmail.gif" width=15 height=10 border=0>&nbsp;<a href="mailto:muenz@csi.com">Stefan M&uuml;nz, muenz@csi.com</a></nobr></p>



</body>
</html>