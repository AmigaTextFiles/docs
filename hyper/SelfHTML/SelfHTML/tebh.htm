<html>
<head>
<title>SELFHTML: JavaScript /  Sprachelemente / Schleifen (while/for/do-while)</title>
<meta name="description" content="(SELFHTML 7.0) welche Aufgaben Schleifen haben und wie Sie solche Anweisungen in JavaScript notieren.">
<meta name="keywords" content="SELFHTML, JavaScript, while, for, Schleifen">
<link rel=stylesheet type="text/css" href="wselfhtm.css">
</head>
<body bgcolor=#ffffff text=#000000 link=#aa5522 vlink=#772200 alink=#000000>

<p><nobr><a class="an" name="top"><img src="x2.gif" width=16 height=13 border=0></a> <a href="selfhtml.htm"><b>SELFHTML</b></a>/<a href="tq.htm" target="_parent">Quickbar</a>&#160;
<img src="x2.gif" width=16 height=13 border=0> <a href="te.htm"><b>JavaScript</b></a>&#160;
<img src="x2.gif" width=16 height=13 border=0> <a href="teb.htm"><b>Sprachelemente</b></a></nobr></p>
<hr noshade size=1>
<table cellpadding=4 cellspacing=1 width=100%>
<tr>
<td bgcolor=#EEEEEE class="doc" width=110><img src="xweb.gif" width=106 height=109></td>
<td bgcolor=#EEEEEE class="doc" valign=bottom width=100%><h2>Schleifen (while/for/do-while)</h2></td>
</tr>
<tr>
<td bgcolor=#EEEEEE class="doc" valign=top align=center>
<img src="x5.gif" width=30 height=20 vspace=6 border=0 alt="Diese Seite ist ein Dokument mit Informationstext">
</td>
<td bgcolor=#ffffff valign=top nowrap>

<p>
<img src="xgdown.gif" width=14 height=10 border=0>&nbsp;<a href="#a1"><b>Schleifen mit &quot;while&quot;</b></a> <br>
<img src="xgdown.gif" width=14 height=10 border=0>&nbsp;<a href="#a2"><b>Schleifen mit &quot;for&quot;</b></a><br>
<img src="xgdown.gif" width=14 height=10 border=0>&nbsp;<a href="#a3"><b>Schleifen mit &quot;do-while&quot;</b></a><br>
<img src="xgdown.gif" width=14 height=10 border=0>&nbsp;<a href="#a4"><b>Kontrolle innerhalb von Schleifen - break und continue</b></a><br>
</p>

</td>
</tr><tr><td colspan=2 bgcolor=#EEEEEE class="doc"><a href="#bottom"><img src="xgdown.gif" width=14 height=10 border=0></a>&#160;</td></tr>
</table>



<h2 class="Sh2"><a class="an" name="a1"><img src="xjavs10.gif" width=30 height=30 alt="JavaScript 1.0" border="0"><img src="xnetsi2.gif" width=30 height=30 alt="Netscape2.0" border="0"><img src="xmsie3.gif" width=30 height=30 alt="MS IE3.0" border="0"> Schleifen mit &quot;while&quot;</a></h2>

<p><img src="xview.gif" width=30 height=20 border=0 alt="Beispiel" align=absmiddle> <a href="tebha.htm"><b>Anzeigebeispiel: So sieht's aus</b></a></p>

<p>Mit Hilfe von while-Schleifen k&ouml;nnen Sie Programmanweisungen solange wiederholen, wie die Bedingung, die in der Schleife formuliert wird, erf&uuml;llt ist.</p>

<h3 class="xmp">Beispiel:</h3>

<table width=100% cellpadding=10><tr><td class="xmpcode" bgcolor=#FFFFE0><pre>
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;User checken&lt;/title&gt;
&lt;script language=&quot;JavaScript&quot;&gt;
&lt;!--
 var Passwort = &quot;Traumtaenzer&quot;;
 var UserEingabe = &quot;&quot;;
 var Zaehler = 0;
 while((UserEingabe != Passwort)&amp;&amp;(Zaehler &lt;= 3))
 {
  UserEingabe = window.prompt(Zaehler + &quot;. Versuch: geben Sie das Passwort ein&quot;,&quot;&quot;);
  Zaehler++;
  }  
 if(UserEingabe != Passwort)
   history.back();
 else
   document.location.href=&quot;geheim.htm&quot;;
// --&gt;
&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre></td></tr></table>

<h3 class="xpl">Erl&auml;uterung:</h3>

<p>Eine while-Schleife beginnt mit dem Wort <tt>while</tt> (<i>while = solange</i>). Dahinter folgt, in Klammern stehend, die Bedingung. Um eine Bedingung zu formulieren, brauchen Sie <img src="x3.gif" width=15 height=10 border=0>&nbsp;<a href="tebf.htm#a2"><b>Vergleichsoperatoren</b></a>. Der Inhalt der Schleife wird solange wiederholt, wie die Schleifenbedingung wahr ist.</p>

<p>In der Regel enth&auml;lt eine while-Schleife mehrere Anweisungen, die innerhalb der Schleife stehen. Notieren Sie alle Anweisungen innerhalb geschweifter Klammern <tt>{</tt> und <tt>}</tt>, so wie im Beispiel (siehe auch den Abschnitt &uuml;ber <img src="x3.gif" width=15 height=10 border=0>&nbsp;<a href="teba.htm#a2"><b>Anweisungsbl&ouml;cke</b></a>).</p>

<p>Das obige Beispiel stellt eine einfache Passwortabfrage dar. Der Anwender hat drei Versuche, das Passwort richtig einzugeben. Dazu wird eine Schleife eingesetzt.</p>

<h3 class="inf">Beachten Sie:</h3>

<p>Achten Sie bei solchen Schleifen immer darauf, da&szlig; es mindestens eine M&ouml;glichkeit gibt, um die Schleife nach einer angemessenen Zeit zu beenden. Andernfalls erzeugen Sie eine sogenannte &quot;Endlosschleife&quot;, aus der der Anwender nur durch gewaltsames Beenden des WWW-Browsers herauskommt. Das ist besonders bei Online-Sitzungen im WWW sehr &auml;rgerlich!</p>

<p>Um Endlosschleifen zu vermeiden, brauchen Sie irgendetwas, das irgendwann zu einem Ausweg aus der Schleife f&uuml;hrt. Meistens werden zu diesem Zweck sogenannte &quot;Z&auml;hler&quot; definiert, im Beispiel die <img src="x3.gif" width=15 height=10 border=0>&nbsp;<a href="tebb.htm#a1"><b>Variable</b></a> <tt>Zaehler</tt>. Diese Variable hat im Beispiel einen Anfangswert von 0 und wird innerhalb der Schleife bei jedem Durchgang mit der Anweisung <tt>Zaehler++;</tt> um 1 erh&ouml;ht. Wenn im Beispiel der Z&auml;hlerstand gr&ouml;&szlig;er gleich 3 ist, wird abgebrochen.</p>

<p>Weitere M&ouml;glichkeiten, um Schleife abzubrechen, werden <img src="xgdown.gif" width=14 height=10 border=0>&nbsp;<a href="#a4"><b>weiter unten</b></a> beschrieben.</p>




<table bgcolor=#EEEEEE class="doc" width=100%><tr><td>
<a href="#top"><img src="xgoup.gif" width=14 height=10 border=0></a><a href="#bottom"><img src="xgdown.gif" width=14 height=10 border=0></a>&#160;
</td></tr></table>
<h2 class="Sh2"><a class="an" name="a2"><img src="xjavs10.gif" width=30 height=30 alt="JavaScript 1.0" border="0"><img src="xnetsi2.gif" width=30 height=30 alt="Netscape2.0" border="0"><img src="xmsie3.gif" width=30 height=30 alt="MS IE3.0" border="0"> Schleifen mit &quot;for&quot;</a></h2>

<p>Mit Hilfe von for-Schleifen vermeiden Sie die Probleme von <img src="xgoup.gif" width=14 height=10 border=0>&nbsp;<a href="#a1"><b>while-Schleifen</b></a>. Die Schleifenbedingung einer for-Schleife sieht von vorneherein einen Z&auml;hler und eine Abbruchbedingung vor.</p>

<h3 class="xmp">Beispiel:</h3>

<table width=100% cellpadding=10><tr><td class="xmpcode" bgcolor=#FFFFE0><pre>
&lt;html&gt;&lt;head&gt;&lt;title&gt;Test&lt;/title&gt;
&lt;/head&gt;&lt;body&gt;
&lt;script language=&quot;JavaScript&quot;&gt;
&lt;!--
 for(i = 1; i &lt;= 100; i++)
  {
   var x = i * i;
   document.write(&quot;&lt;br&gt;Das Quadrat von &quot; + i + &quot; ist &quot; + x);
// --&gt;
&lt;/script&gt;
&lt;/body&gt;&lt;/html&gt;
</pre></td></tr></table>

<h3 class="xpl">Erl&auml;uterung:</h3>

<p>Eine for-Schleife beginnt mit dem Wort <tt>for</tt>. Dahinter wird, in Klammern stehend, die Schleifenbedingung formuliert. Bei der for-Schleife gilt dabei eine feste Syntax. Innerhalb der Schleifenbedingung werden drei Anweisungen notiert. In der ersten Anweisung wird ein Schleifenz&auml;hler definiert und initialisiert. Im Beispiel wird ein Z&auml;hler <tt>i</tt> definiert und mit dem Wert 1 initialisiert. Die zweite Anweisung enth&auml;lt die Bedingung, ab der die Schleife beendet wird. Dazu brauchen Sie <img src="x3.gif" width=15 height=10 border=0>&nbsp;<a href="tebf.htm#a2"><b>Vergleichsoperatoren</b></a>. In der dritten Anweisung wird der Schleifenz&auml;hler so ver&auml;ndert, da&szlig; er irgendwann die in der zweiten Anweisung notierte Bedingung erf&uuml;llt. Im Beispiel wird <tt>i</tt> bei jedem Schleifendurchgang um 1 erh&ouml;ht, so da&szlig; der Wert irgendwann gr&ouml;&szlig;er 100 ist und damit die Bedingung der zweiten Anweisung erf&uuml;llt.<br>
Das Beispiel benutzt den Schleifenz&auml;hler, um bei jedem Schleifendurchgang das Quadrat des aktuellen Werts zu ermitteln. Das Ergebnis wird dann HTML-formatiert ins aktuelle Dokumentfenster geschrieben.</p>

<p>Eine spezielle Abart der for-Schleife ist die for-in-Schleife.</p>

<h3 class="xmp">Beispiel:</h3>

<table width=100% cellpadding=10><tr><td class="xmpcode" bgcolor=#FFFFE0><pre>
&lt;script language=&quot;JavaScript&quot;&gt;
&lt;!--
  function Objekteigenschaften(Objekt, ObjName)
   {
    var Ergebnis = &quot;&quot;;
    for (var Eigenschaft in Objekt)
     {
      Ergebnis += ObjName + &quot;.&quot; + Eigenschaft + &quot; = &quot; + Objekt[Eigenschaft] + &quot;&lt;br&gt;&quot;;
     }
    return Ergebnis;
   }
// --&gt;
&lt;/script&gt;
</pre></td></tr></table>

<h3 class="xpl">Erl&auml;uterung:</h3>

<p>In diesem Beispiel ermittelt die Funktion <i>Objekteigenschaften</i> alle Eigenschaften eines <img src="x3.gif" width=15 height=10 border=0>&nbsp;<a href="tebc.htm#a1"><b>JavaScript-Objekts</b></a>. Die ermittelten Eigenschaften sammelt die Funktion in einer HTML-formatierten Zeichenkette und gibt diese an eine aufrufende Funktion zur&uuml;ck.</p>




<table bgcolor=#EEEEEE class="doc" width=100%><tr><td>
<a href="#top"><img src="xgoup.gif" width=14 height=10 border=0></a><a href="#bottom"><img src="xgdown.gif" width=14 height=10 border=0></a>&#160;
</td></tr></table>
<h2 class="Sh2"><a class="an" name="a3"><img src="xjavs12.gif" width=30 height=30 alt="JavaScript 1.0" border="0"><img src="xnetsi4.gif" width=30 height=30 alt="Netscape4.0" border="0"><img src="xmsie4.gif" width=30 height=30 alt="MS IE4.0" border="0"> Schleifen mit &quot;do-while&quot;</a></h2>

<p>Die do-while-Schleife ist eine Variante der normalen <img src="xgoup.gif" width=14 height=10 border=0>&nbsp;<a href="#a1"><b>while-Schleife</b></a>. Der Unterschied zwischen beiden ist, da&szlig; bei der normalen while-Schleife <b>vor</b> dem Ausf&uuml;hren des Codes die Schleifenbedingung &uuml;berpr&uuml;ft wird, w&auml;hrend bei der do-while-Schleife <b>zuerst</b> der Code ausgef&uuml;hrt und erst danach die Schleifenbedingung &uuml;berpr&uuml;ft wird. Auf diese Weise k&ouml;nnen Sie erzwingen, da&szlig; Anweisungen innerhalb der Schleife auf jeden Fall mindestens einmal ausgef&uuml;hrt werden, auch wenn sich die Schleifenbedingung gleich am Anfang als unwahr herausstellt.</p>

<p></p>

<h3 class="xmp">Beispiel:</h3>

<table width=100% cellpadding=10><tr><td class="xmpcode" bgcolor=#FFFFE0><pre>
Einmal so:
&lt;script language=&quot;JavaScript&quot;&gt;
&lt;!--
var x = 10;
do
 {
  document.write(&quot;&lt;br&gt;x * x = &quot; + (x * x));
  x = x + 1;
 } 
while(x &lt; 10);
// --&gt;
&lt;/script&gt;
&lt;p&gt;
Und einmal so:
&lt;script language=&quot;JavaScript&quot;&gt;
&lt;!--
var x = 10;
while(x &lt; 10)
{
  document.write(&quot;&lt;br&gt;x * x = &quot; + (x * x));
    x = x + 1;
}
// --&gt;
&lt;/script&gt;
</pre></td></tr></table>

<h3 class="xpl">Erl&auml;uterung:</h3>

<p>Im Beispiel werden zwei kleine JavaScript-Bereiche definiert. In beiden Bereichen wird eine <img src="x3.gif" width=15 height=10 border=0>&nbsp;<a href="tebb.htm"><b>Variable</b></a> <tt>x</tt> definiert und mit dem Wert 10 vorbelegt. Im ersten Bereich wird solange das Quadrat von x (das bei jedem Schleifendurchlauf um 1 erh&ouml;ht wird) geschrieben, wie x kleiner als 10 ist. Da x ja schon am Beginn den Wert 10 hat, ist die Abbruchbedingung eigentlich schon von vorneherein erf&uuml;llt. Trotzdem wird ein mal das Quadrat von x ausgegeben, da die &Uuml;berpr&uuml;fung der Schleifenbedingung erst nach dem Ausf&uuml;hren der Anweisungen innerhalb der Schleife erfolgt.<br>
Im zweiten Script-Bereich herrschen die gleichen Bedingungen, jedoch wird dort eine normale while-Schleife notiert. Da x von vorneherein nicht kleiner als 10 ist, werden die Anweisungen der while-Schleife kein einziges mal ausgef&uuml;hrt. Die &Uuml;berpr&uuml;fung der Schleifenbedingung, die am Anfang stattfindet, verhindert dies.</p>





<table bgcolor=#EEEEEE class="doc" width=100%><tr><td>
<a href="#top"><img src="xgoup.gif" width=14 height=10 border=0></a><a href="#bottom"><img src="xgdown.gif" width=14 height=10 border=0></a>&#160;
</td></tr></table>
<h2 class="Sh2"><a class="an" name="a4"><img src="xjavs10.gif" width=30 height=30 alt="JavaScript 1.0" border="0"><img src="xnetsi2.gif" width=30 height=30 alt="Netscape2.0" border="0"><img src="xmsie3.gif" width=30 height=30 alt="MS IE3.0" border="0"> Kontrolle innerhalb von Schleifen - break und continue</a></h2>

<p>Schleifen sind &quot;kritische Faktoren&quot; innerhalb eines Scripts. Bei komplizierteren Aufgaben ist es manchmal nicht einfach, eine Schleife so zu programmieren, da&szlig; die Schleife in jedem Fall irgendwann mal abgebrochen wird. Deshalb gibt es zus&auml;tzliche Befehle, um innerhalb einer Schleife das Geschehen zu kontrollieren.</p>

<h3 class="xmp">Beispiel 1:</h3>
<table width=100% cellpadding=10><tr><td class="xmpcode" bgcolor=#FFFFE0><pre>
&lt;script language=&quot;JavaScript&quot;&gt;
&lt;!--
 var i = 0;
 while (i &lt; 6)
 {
  if (i == 3) break;
  i++;
 }
alert(&quot;i = &quot; + i);
// --&gt;
&lt;/script&gt;
</pre></td></tr></table>

<h3 class="xpl">Erl&auml;uterung:</h3>

<p>Mit <tt>break</tt> k&ouml;nnen Sie eine Schleife sofort beenden. Dazu m&uuml;ssen Sie innerhalb des Schleifenk&ouml;rpers eine if-Abfrage notieren und abh&auml;ngig davon das Wort <tt>break</tt> als Anweisung notieren. Im Beispiel bricht die Schleife bereits ab, wenn <tt>i</tt> den Wert 3 hat, obwohl laut Schleifenbedingung das Hochz&auml;hlen bis 6 erlaubt.</p>


<h3 class="xmp">Beispiel 2:</h3>
<table width=100% cellpadding=10><tr><td class="xmpcode" bgcolor=#FFFFE0><pre>
&lt;script language=&quot;JavaScript&quot;&gt;
&lt;!--
 var i = 0;
 while (i &lt; 6)
 {
  Ende:  
  if (i == 3)
   {
    alert(&quot;Das war's, denn i ist gleich &quot; + i);
	break Ende;
   }
  i++;
 }
// --&gt;
&lt;/script&gt;
</pre></td></tr></table>

<h3 class="xpl">Erl&auml;uterung:</h3>

<p>Dies ist eine besondere Variante von <tt>break</tt>. Sie k&ouml;nnen vor einer Abfrage, von der Sie eine break-Anweisung abh&auml;ngig machen, ein &quot;Label&quot; notieren. Das ist ein selbstvergebener Name mit einem Doppelpunkt dahinter, im Beispiel <tt>Ende:</tt>. Hinter dem Wort <tt>break</tt> k&ouml;nnen Sie dann den Namen des Labels angeben. So stellen Sie im Beispiel sicher, da&szlig; sich die break-Anweisung auf jeden Fall auf jene if-Abfrage bezieht, in der abgefragt wird, ob <tt>i</tt> gleich 3 ist. In einfachen F&auml;llen wie im obigen Beispiel ist das eigentlich &uuml;berfl&uuml;ssig. Aber behalten Sie die M&ouml;glichkeit im Auge, falls Sie einmal verschachtelte if-Abfragen innerhalb von Schleifen programmieren und dort auch break-Anweisungen benutzen. Beachten Sie jedoch, da&szlig; diese Variante der break-Anweisung JavaScript 1.2 ist und bei Netscape unter Version 4.x und MS Internet Explorer unter 4.x zu einer Fehlermeldung f&uuml;hrt, da die Syntax mit dem Doppelpunkt f&uuml;r das Label dort nicht bekannt ist.</p>


<h3 class="xmp">Beispiel 3:</h3>
<table width=100% cellpadding=10><tr><td class="xmpcode" bgcolor=#FFFFE0><pre>
&lt;script language=&quot;JavaScript&quot;&gt;
&lt;!--
 var i = 0, j = 0;
 while (i &lt; 6)
 {
  i++;
  if (i == 3) continue;
  j++;
 }
alert(&quot;i ist gleich &quot; + i + &quot; und j ist gleich &quot; + j);
&lt;/script&gt;
</pre></td></tr></table>

<h3 class="xpl">Erl&auml;uterung:</h3>

<p>Mit <tt>continue</tt> erzwingen Sie sofort den n&auml;chsten Schleifendurchlauf. Nachfolgende Anweisungen innerhalb der Schleife werden bei diesem Schleifendurchlauf nicht mehr ausgef&uuml;hrt. Im Beispiel werden zwei Z&auml;hler <tt>i</tt> und <tt>j</tt> bei jedem Schleifendurchlauf um 1 erh&ouml;ht. Wenn <tt>i</tt> gleich 6 ist, wird die Schleife abgebrochen. Zwischendurch hat <tt>i</tt> auch mal den Wert 3. Dieser Fall wird mit einer if-Abfrage behandelt. Wenn <tt>i</tt> gleich 3 ist, wird sofort der n&auml;chste Schleifendurchgang gestartet. Die Anweisung <tt>j++;</tt> wird dadurch in diesem Schleifendurchlauf nicht mehr ausgef&uuml;hrt. Am Ende hat dadurch <tt>i</tt> den Wert 6 und <tt>j</tt> nur den Wert 5.</p>




<table cellpadding=4 cellspacing=1 width=100%>
<tr><td colspan=2 bgcolor=#EEEEEE class="doc">
<a href="#top"><img src="xgoup.gif" width=14 height=10 border=0></a>
</td></tr>
<tr><td bgcolor=#EEEEEE class="doc" align=right width=110>weiter:<a href="tebi.htm"><img src="xgnext.gif" width=10 height=10 border=0 hspace=10></a></td>
<td bgcolor=#ffffff><img src="x3.gif" width=15 height=10 border=0> <a href="tebi.htm"><b>Reservierte W&ouml;rter</b></a>
</td></tr>
<tr>
<td bgcolor=#EEEEEE class="doc" align=right width=110>zur&uuml;ck:<a href="tebg.htm"><img src="xgprev.gif" width=10 height=10 border=0 hspace=10></a></td>
<td bgcolor=#ffffff width=100%><img src="x3.gif" width=15 height=10 border=0> <a href="tebg.htm"><b>Bedingte Anweisungen (if-else/switch)</b></a>
</td>
</tr>
<tr><td colspan=2 bgcolor=#EEEEEE class="doc">&#160;</td></tr>
</table>
<hr noshade size=1>
<p><nobr><img src="x2.gif" width=16 height=13 border=0> <a href="selfhtml.htm"><b>SELFHTML</b></a>/<a href="tq.htm" target="_parent">Quickbar</a>&#160;
<img src="x2.gif" width=16 height=13 border=0> <a href="te.htm"><b>JavaScript</b></a>&#160;
<img src="x2.gif" width=16 height=13 border=0> <a href="teb.htm"><b>Sprachelemente</b></a></nobr></p>
<p><nobr><a class="an" name="bottom">&copy; 1998</A> <img src="xgmail.gif" width=15 height=10 border=0>&nbsp;<a href="mailto:muenz@csi.com">Stefan M&uuml;nz, muenz@csi.com</a></nobr></p>


</body>
</html>