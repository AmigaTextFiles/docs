<html>
<head>
<title>SELFHTML: CGI/Perl / Perl-Sprachelemente / Regul&auml;re Ausdr&uuml;cke</title>
<meta name="description" content="(SELFHTML 7.0) Was regul&auml;re Ausdr&uuml;cke in Perl sind und wie Sie sie verwenden.">
<meta name="keywords" content="SELFHTML, Perl, regul&auml;re Ausdr&uuml;cke, regular expressions">
<link rel=stylesheet type="text/css" href="wselfhtm.css"> 
</head>
<body bgcolor=#FFFFFF text=#000000 link=#AA5522 vlink=#772200 alink=#000000>

<p><nobr><a class="an" name="top"><img src="x2.gif" width=16 height=13 border=0></a> <a href="selfhtml.htm"><b>SELFHTML</b></a>/<a href="tq.htm" target="_parent">Quickbar</a>&#160;
<img src="x2.gif" width=16 height=13 border=0> <a href="tg.htm"><b>CGI/Perl</b></a>&#160;
<img src="x2.gif" width=16 height=13 border=0> <a href="tgc.htm"><b>Perl-Sprachelemente</b></a></nobr></p>
<hr noshade size=1>
<table cellpadding=4 cellspacing=1 width=100%>
<tr>
<td bgcolor=#EEEEEE class="doc" width=110><img src="xweb.gif" width=106 height=109></td>
<td bgcolor=#EEEEEE class="doc" valign=bottom width=100%><h2>Regul&auml;re Ausdr&uuml;cke</h2></td>
</tr>
<tr>
<td bgcolor=#EEEEEE class="doc" valign=top align=center>
<img src="x5.gif" width=30 height=20 vspace=6 border=0 alt="Diese Seite ist ein Dokument mit Informationstext">
</td>
<td bgcolor=#FFFFFF valign=top nowrap>

<p>
<img src="xgdown.gif" width=14 height=10 border=0>&nbsp;<a href="#a1"><b>Allgemeines zu regul&auml;ren Ausdr&uuml;cken</b></a> <br>
<img src="xgdown.gif" width=14 height=10 border=0>&nbsp;<a href="#a2"><b>Regul&auml;re Ausdr&uuml;cke anwenden</b></a><br>
<img src="xgdown.gif" width=14 height=10 border=0>&nbsp;<a href="#a3"><b>Regul&auml;re Ausdr&uuml;cke f&uuml;r einzelne Zeichen</b></a><br>
<img src="xgdown.gif" width=14 height=10 border=0>&nbsp;<a href="#a4"><b>Regul&auml;re Ausdr&uuml;cke f&uuml;r Zeichenketten</b></a><br>
<img src="xgdown.gif" width=14 height=10 border=0>&nbsp;<a href="#a5"><b>Regul&auml;re Ausdr&uuml;cke mit Alternativen</b></a> <br>
<img src="xgdown.gif" width=14 height=10 border=0>&nbsp;<a href="#a6"><b>Rangfolge und Klammerung in regul&auml;ren Ausdr&uuml;cken</b></a><br>
<img src="xgdown.gif" width=14 height=10 border=0>&nbsp;<a href="#a7"><b>Teilausdr&uuml;cke mit Klammerung</b></a>
</p>

</td>
</tr><tr><td colspan=2 bgcolor=#EEEEEE class="doc"><a href="#bottom"><img src="xgdown.gif" width=14 height=10 border=0></a>&#160;</td></tr>
</table>



<h2 class="Sh2"><a class="an" name="a1">Allgemeines zu regul&auml;ren Ausdr&uuml;cken</a></h2>


<p>Regul&auml;re Ausdr&uuml;cke sind genau definierte Suchmuster f&uuml;r Zeichen und Zeichenketten. Mit Hilfe dieser Suchmuster k&ouml;nnen Sie beispielsweise Variableninhalte durchsuchen und bearbeiten. F&uuml;r CGI-Aufgaben sind regul&auml;re Ausdr&uuml;cke enorm wichtig. Zum Beispiel l&auml;&szlig;t sich der <img src="x3.gif" width=15 height=10 border=0>&nbsp;<a href="tgbf.htm#a2"><b>Datenstrom eines HTML-Formulars</b></a>, der an ein CGI-Programm beim Absenden des Formulars &uuml;bergeben wird, mit Hilfe von regul&auml;ren Ausdr&uuml;cken in seine einzelnen Bestandteile zerlegen. Genauso k&ouml;nnen Sie mit Hilfe von regul&auml;ren Ausdr&uuml;cken beim Einlesen von Dateien (z.B. einer Datei mit Eintr&auml;gen eines G&auml;stebuchs) anhand der Konventionen, nach denen die Datei aufgebaut ist, die einzelnen Eintr&auml;ge geordnet einlesen und als HTML-Code an den aufrufenden WWW-Browser &uuml;bertragen. Und schlie&szlig;lich sind regul&auml;re Ausdr&uuml;cke ein m&auml;chtiges Mittel, um gro&szlig;e Datenbest&auml;nde nach komplexen Suchausdr&uuml;cken zu durchforsten.</p>

<p>Regul&auml;re Ausdr&uuml;cke sind allerdings f&uuml;r Neulinge sehr ungewohnt und der Hauptgrund daf&uuml;r, warum in manchen Perl-Scripts ziemlich merkw&uuml;rdige, kryptisch anmutende Zeichenfolgen vorkommen. Wer allerdings mit dem Unix-Befehl <tt>grep</tt> vertraut ist, kommt auch mit den regul&auml;ren Ausdr&uuml;cken in Perl sofort zurecht.</p>




<table bgcolor=#EEEEEE class="doc" width=100%><tr><td>
<a href="#top"><img src="xgoup.gif" width=14 height=10 border=0></a><a href="#bottom"><img src="xgdown.gif" width=14 height=10 border=0></a>&#160;
</td></tr></table>
<h2 class="Sh2"><a class="an" name="a2">Regul&auml;re Ausdr&uuml;cke anwenden</a></h2>

<p>Um regul&auml;re Ausdr&uuml;cke anzuwenden, m&uuml;ssen Sie wissen, welche M&ouml;glichkeiten es dazu gibt.</p>

<h3 class="xmp">Beispiel 1:</h3>
<table width=100% cellpadding=10><tr><td class="xmpcode" bgcolor=#FFFFE0><pre>
#!/usr/bin/perl

$Daten = $ENV{'PATH'};
if($Daten =~ /PERL/)    # Ob darin wohl die Zeichenfolge 'PERL' vorkommt?
 { print &quot;Aha, in Ihrer PATH-Variablen kommt PERL vor!\n&quot;; }
else   
 { print &quot;in Ihrer PATH-Variablen kommt PERL leider nicht vor!\n&quot;; }
</pre></td></tr></table>
<h3 class="xmp">Beispiel 2:</h3>
<table width=100% cellpadding=10><tr><td class="xmpcode" bgcolor=#FFFFE0><pre>
#!/usr/bin/perl

@Orte = (&quot;Berlin&quot;,&quot;Paris&quot;,&quot;London&quot;,&quot;Madrid&quot;,&quot;Athen&quot;,&quot;Rom&quot;,&quot;Lissabon&quot;,&quot;Stockholm&quot;,&quot;Kopenhagen&quot;);

for(@Orte)
 {
  if(/[MKS]/)   # Alle Orte, in denen 'M', 'K' oder 'S' vorkommt
   { print &quot;Die Stadt &quot;, $_, &quot; entspricht dem Suchmuster\n&quot;; }
 }
</pre></td></tr></table>
<h3 class="xmp">Beispiel 3:</h3>
<table width=100% cellpadding=10><tr><td class="xmpcode" bgcolor=#FFFFE0><pre>
#!/usr/bin/perl

open(LOGDATEI,&quot;&lt;access.log&quot;);
$Zugriffe = 0;

while(&lt;LOGDATEI&gt;)
 {
  /index.htm/ ? $Zugriffe = $Zugriffe + 1 : $Zugriffe = $Zugriffe;
 }
print $Zugriffe, &quot; Zugriffe auf Datei index.htm!\n&quot;;
close(LOGDATEI);
</pre></td></tr></table>

<h3 class="xpl">Erl&auml;uterung:</h3>

<p>Einen regul&auml;ren Ausdruck erkennen Sie in Perl normalerweise an zwei Schr&auml;gstrichen <tt>/.../</tt>. Zwischen den Schr&auml;gstrichen steht jeweils der regul&auml;re Ausdruck.</p>

<p>Wenn Sie einen regul&auml;ren Ausdruck einsetzen wollen, brauchen Sie zun&auml;chst etwas, das Sie durchsuchen wollen. Das kann beispielsweise der Wert sein, der in einem Skalar gespeichert ist, so wie im obigen Beispiel 1, oder die Werte, die in den Elementen einer Liste vorkommen, so wie im obigen Beispiel 2, oder auch die einzelnen Zeilen einer Datei, so wie im obigen Beispiel 3.</p>

<p>In Beispiel 1 wird in der Umgebungsvariablen PATH nach der Zeichenfolge &quot;PERL&quot; gesucht. Beachten Sie, da&szlig; eine solche Zeichenfolge innerhalb eines regul&auml;ren Ausdrucks ohne Anf&uuml;hrungszeichen notiert wird. Im Beispiel wird der Inhalt von <tt>$ENV{'PATH'}</tt> in einem <img src="x3.gif" width=15 height=10 border=0>&nbsp;<a href="tgcb.htm#a1"><b>Skalar</b></a> <tt>$Daten</tt> gespeichert. Mit <tt>if($Daten =~ /PERL/)</tt> wird der Wert dieses Skalars nach der Zeichenfolge &quot;PERL&quot; durchsucht. Wichtig ist dabei der Abfrage-Operator <tt>=~</tt>. Mit if-Ausdr&uuml;cken von der Art <tt>if($Skalarname =~ /reg.Ausdruck/)</tt> k&ouml;nnen Sie also beliebige Skalare nach beliebigen Inhalten durchsuchen.</p>

<p>In Beispiel 2 wird eine Liste mit St&auml;dtenamen definiert. Innerhalb der <img src="x3.gif" width=15 height=10 border=0>&nbsp;<a href="tgce.htm#a3"><b>for-Schleife</b></a> werden alle Listenelemente, also die Stadtenamen, danach durchsucht, ob in ihnen einer der Gro&szlig;buchstaben M, K oder S vorkommt. Die Suche wird mit <tt>if(/[MKS]/)</tt> formuliert. In diesem Fall wird im Gegensatz zu Beispiel 1 kein Abfrage-Operator eingesetzt. Die Abfrage bezieht sich ja aufgrund der Schleife immer auf das aktuelle Element der Liste. Sie k&ouml;nnten die Abfrage auch mit der <img src="x3.gif" width=15 height=10 border=0>&nbsp;<a href="tgcc.htm"><b>vordefinierten Variablen</b></a> <tt>$_</tt> in der Form <tt>if($_ =~ /[MKS]/)</tt> notieren. Da es aber klar ist, da&szlig; deren Wert gemeint ist, gen&uuml;gt die Kurzform <tt>if(/[MKS]/)</tt>.</p>

<p>In Beispiel 3 wird eine <img src="x3.gif" width=15 height=10 border=0>&nbsp;<a href="tje.htm#a2"><tt>Logdatei</tt></a> zeilenweise eingelesen. In dieser Datei wird nach dem Vorkommen von &quot;index.htm&quot; gesucht. Wenn eine Zeile mit dieser Zeichenfolge gefunden wird, wird ein Zugriffsz&auml;hler erh&ouml;ht, wenn nicht, bleibt der Zugriffsz&auml;hler unver&auml;ndert. Am Ende wird die so ermittelte Anzahl der Zugriffe auf index.htm ausgegeben. Der regul&auml;re Ausdruck kommt in diesem Beispiel in einer <img src="x3.gif" width=15 height=10 border=0>&nbsp;<a href="tgcd.htm#a2"><b>einfachen Entweder-Oder-Abfrage</b></a> vor. Der regul&auml;re Ausdruck wird dabei einfach danach bewertet, ob er wahr oder falsch ist. Wenn er wahr ist (wenn &quot;index.htm&quot; in der aktuellen Zeile vorkommt), wird die Anweisung links vom Doppelpunkt ausgef&uuml;hrt, wenn er falsch ist, die Anweisung rechts vom Doppelpunkt.<br>
(Zum Thema Dateien siehe auch <img src="x3.gif" width=15 height=10 border=0>&nbsp;<a href="tgcj.htm"><b>Dateien lesen und schreiben</b></a>).</p>

<h3 class="inf">Beachten Sie:</h3>

<p>Ein wichtiger Anwendungsbereich f&uuml;r regul&auml;re Ausdr&uuml;cke ist auch das <img src="x3.gif" width=15 height=10 border=0>&nbsp;<a href="tgck.htm#a6"><b>Suchen und Ersetzen bei Zeichenketten</b></a>. Regul&auml;re Ausdr&uuml;cke k&ouml;nnen ferner in einigen Perl-Funktionen als zu &uuml;bergebender Parameter vorkommen.</p>


<table bgcolor=#EEEEEE class="doc" width=100%><tr><td>
<a href="#top"><img src="xgoup.gif" width=14 height=10 border=0></a><a href="#bottom"><img src="xgdown.gif" width=14 height=10 border=0></a>&#160;
</td></tr></table>
<h2 class="Sh2"><a class="an" name="a3">Regul&auml;re Ausdr&uuml;cke f&uuml;r einzelne Zeichen</a></h2>

<p>Sie k&ouml;nnen</p>
<ul>
<li>nach einem bestimmten Zeichen suchen</li>
<li>nach mehreren bestimmten Zeichen suchen</li>
<li>nach einem Zeichen aus einem bestimmten Bereich suchen</li>
</ul>
<p>Die folgenden Beispiele sind numeriert, z.B. mit ( 1). Diese Numerierungen geh&ouml;ren nicht zu den regul&auml;ren Ausdr&uuml;cken, sie dienen nur als Bezug f&uuml;r die Erl&auml;uterungen zu den Beispielen.</p>

<h3 class="xmp">Beispiele:</h3>
<table width=100% cellpadding=10><tr><td class="xmpcode" bgcolor=#FFFFE0><pre>
( 1) /a/            # findet 'a'
( 2) /[ab]/         # findet 'a' oder 'b'
( 3) /[A-Z]/        # findet Grossbuchstaben
( 4) /[0-9]/        # findet Ziffern
( 5) /\d/           # findet Ziffern - genau wie ( 4)
( 6) /\D/           # findet alles ausser Ziffern
( 7) /[0-9]\-/      # findet Ziffern oder Minuszeichen
( 8) /[\[\]]/       # findet alles, worin eckige Klammern vorkommen
( 9) /[a-zA-Z0-9_]/ # findet Buchstaben, Ziffern oder Unterstrich
(10) /[\w]/         # findet Buchstaben, Ziffern oder Unterstrich - genau wie ( 9)
(11) /[\W]/         # findet alles ausser Buchstaben, Ziffern oder Unterstrich
(12) /[\r]/         # findet das Steuerzeichen f&uuml;r Wagenr&uuml;cklauf (DOS-typisch)
(13) /[\n]/         # findet das Steuerzeichen f&uuml;r Zeilenvorschub
(14) /[\t]/         # findet das Steuerzeichen f&uuml;r Tabulator
(15) /[\f]/         # findet das Steuerzeichen f&uuml;r Seitenvorschub
(16) /[\s]/         # findet Leerzeichen sowie Steuerzeichen aus (12-15) 
(17) /[\S]/         # findet alles ausser Leerzeichen und Steuerzeichen aus (12-15) 
(18) /[^&auml;&ouml;&uuml;&Auml;&Ouml;&Uuml;]/    # findet alles, worin keine deutschen Umlaute vorkommen
(19) /[^a-zA-Z]/    # findet alles, worin keine Buchstaben vorkommen
(20) /[ab]/s        # findet 'a' oder 'b' auch zeilen&uuml;bergreifend
</pre></td></tr></table>

<h3 class="xpl">Erl&auml;uterung:</h3>

<p>Wenn Sie in einem regul&auml;ren Ausdruck nach einzelnen Zeichen suchen sollen, m&uuml;ssen Sie den Suchausdruck in Schr&auml;gstriche und zus&auml;tzlich in eckige Klammern setzen. Nur wenn Sie nach einem einzelnen Zeichen suchen, wie im Beispiel (1), k&ouml;nnen Sie die eckigen Klammern weglassen. Wenn Sie mehrere Zeichen ohne eckige Klammern notieren, werden diese als <img src="xgdown.gif" width=14 height=10 border=0>&nbsp;<a href="#a3"><b>Zeichenkette</b></a> interpretiert.</p>

<p>Wenn Sie nach einer Gruppe bestimmter Zeichen suchen wollen, notieren Sie diese einfach innerhalb der eckigen Klammern, so wie in Beispiel (2).</p>

<p>Wenn Sie nach Zeichenbereichen suchen wollen, z.B. nach Buchstaben der ersten H&auml;lfte des Alphabets oder nach Ziffern, markieren Sie den gew&uuml;nschten Bereich durch das Anfangszeichen, ein Minuszeichen als Bindestrich, und das Endzeichen, so wie in den Beispielen (3) und (4).</p>

<p>Wenn Sie nach einem der Zeichen +-?.*^$()[]{}|\ suchen wollen, notieren Sie vor dem Zeichen einen umgekehrten Schr&auml;gstrich <tt>\</tt>, so wie in den Beispielen (7) und (8).</p>

<p>Es gibt einige spezielle Suchmuster, die aus einem umgekehrten Schr&auml;gstrich und einem Schl&uuml;sselbuchstaben bestehen. Die Beispiele (5)/(6), (10) bis (17) zeigen diese Suchmuster.</p>

<p>Sie k&ouml;nnen auch eine Negativsuche veranlassen. Dazu notieren Sie das Dachzeichen <tt>^</tt> vor den gew&uuml;nschten Zeichen oder Zeichenbereichen. Eine solche Suche bewirkt, das nur Stellen gefunden werden, die die angegebenen Zeichen nicht enthalten. Die Beispiele (18) und (19) zeigen Anwendungsf&auml;lle daf&uuml;r.</p>

<p>F&uuml;r mehrzeilige Suchen m&uuml;ssen Sie an den regul&auml;ren Ausdruck hinter dem beendenden Schr&auml;gstrich ein <tt>s</tt> notieren - siehe Beispiel (20).</p>


<table bgcolor=#EEEEEE class="doc" width=100%><tr><td>
<a href="#top"><img src="xgoup.gif" width=14 height=10 border=0></a><a href="#bottom"><img src="xgdown.gif" width=14 height=10 border=0></a>&#160;
</td></tr></table>
<h2 class="Sh2"><a class="an" name="a4">Regul&auml;re Ausdr&uuml;cke f&uuml;r Zeichenketten</a></h2>

<p>Sie k&ouml;nnen</p>
<ul>
<li>nach einer bestimmten Zeichenkette suchen</li>
<li>nach einer Zeichenketten mit Gruppierungsoperatoren (Platzhalter, Wildcards) suchen</li>
<li>nach Zeichenketten am Anfang oder Ende eines Wortes suchen</li>
<li>nach Zeichenketten am Anfang oder Ende einer Zeile suchen</li>
</ul>

<p>Die folgenden Beispiele sind numeriert, z.B. mit ( 1). Diese Numerierungen geh&ouml;ren nicht zu den regul&auml;ren Ausdr&uuml;cken, sie dienen nur als Bezug f&uuml;r die Erl&auml;uterungen zu den Beispielen.</p>

<h3 class="xmp">Beispiele:</h3>
<table width=100% cellpadding=10><tr><td class="xmpcode" bgcolor=#FFFFE0><pre>
( 1) /aus/          # findet 'aus' - auch in 'Haus' oder 'Mausi'
( 2) /aus?/         # findet 'aus' usw. - aber auch 'au' und 'auf'
( 3) /a./           # findet 'ab' und 'an'
                    # (ein beliebiges Zeichen hinter 'a')
( 4) /a+/           # findet 'a' und 'aa' und 'aaaaa'
                    # (ein oder beliebig viele 'a')
( 5) /a*/           # findet 'a' und 'aa' und 'aaaaa' und 'b'
                    # (kein oder beliebig viele 'a')
( 6) /Ha.s/         # findet 'Haus' und 'Hans' aber nicht 'Hannes'
( 7) /Ha.+s/        # findet 'Haus' und 'Hans' und 'Hannes'
                    # (ein oder beliebig viele beliebige Zeichen)
( 8) /Ha.s/         # findet 'Haus' und 'Hans' aber nicht 'Hase'
( 9) /Ha.?s/        # findet 'Haus' und 'Hans' und 'Hase'
(10) /x{10,20}/     # findet zwischen 10 und 20 'x' in Folge
(11) /x{10,}/       # findet 10 und mehr 'x' in Folge
(12) /x.{2}y/       # findet nur 'xxxy'
(13) /Hans\b/       # findet 'Hans' aber nicht 'Hansel'
(14) /\baus/        # findet 'aus' oder 'aussen' aber nicht 'Haus'
(15) /\baus\b/      # findet 'aus' aber nicht 'Haus' und auch nicht 'aussen'
(16) /\baus\B/      # findet 'aussen' aber nicht 'aus' und auch nicht 'Haus'
(17) /^Hans/        # findet 'Hans' nur am Anfang des zu durchsuchenden Bereichs
(18) /Hans$/        # findet 'Hans' nur am Ende des zu durchsuchenden Bereichs
(19) /^\s*$/        # findet Zeilen, die nur aus Leerzeichen und &auml;hnlichem bestehen
(20) /$Name/        # findet den Inhalt des Skalars $Name
(21) /aus/s         # findet 'aus' auch zeilen&uuml;bergreifend
</pre></td></tr></table>

<h3 class="xpl">Erl&auml;uterung:</h3>

<p>Wenn Sie in einem regul&auml;ren Ausdruck nach einer bestimmten Zeichenkette suchen wollen, notieren Sie die Zeichenkette einfach zwischen den beiden Schr&auml;gstrichen des regul&auml;ren Ausdrucks, so wie in Beispiel (1).</p>

<p>Es gibt bei den regul&auml;ren Ausdr&uuml;cken verschiedene sogenannte Gruppierungsoperatoren. Untereinander verkn&uuml;pft oder in komplexere Ausdr&uuml;cke gestellt, k&ouml;nnen Sie mit Gruppierungsoperatoren Platzhaltersuchen durchf&uuml;hren:<br>
Der Punkt <tt>.</tt> steht f&uuml;r genau ein beliebiges Zeichen an der betreffenden Stelle - siehe dazu Beispiel (3). Wenn Sie aus der DOS/Windows-Welt kommen - der Punkt in einem regul&auml;ren Ausdruck entspricht dort dem Fragezeichen-Platzhalter, etwa bei Dateinamen.<br>
Das Fragezeichen <tt>?</tt> dagegen bedeutet in einem regul&auml;ren Ausdruck: das Zeichen vor dem Fragezeichen oder auch nicht. Siehe dazu Beispiel (2).<br>
Das Pluszeichen <tt>+</tt> bedeutet: eine oder mehrere Wiederholungen des Zeichens, das vor dem Pluszeichen steht. Siehe dazu Beispiel (4).<br>
Das Sternzeichen <tt>*</tt> bedeutet: keine, eine oder mehrere Wiederholungen des Zeichens, das vor dem Sternzeichen steht. Siehe dazu Beispiel (5).<br>
Wenn Sie vor den Zeichen <tt>+</tt> oder <tt>*</tt> einen Punkt notieren (der f&uuml;r ein beliebiges Zeichen steht, erzeugen Sie einen Platzhalter, der dem <tt>*</tt> in der DOS/Windows-Welt, etwa bei Dateinamen, entspricht. Siehe dazu Beispiele (6) bis (9).<br>
Geschweifte Klammern mit einer Zahl oder zwei Zahlen n darin <tt>{n}</tt> stehen f&uuml;r n Wiederholungen des Zeichens vor der geschweiften Klammer an der betreffenden Stelle - siehe dazu Beispiele (10) bis (12). Dabei k&ouml;nnen Sie auch das Punktzeichen vor der geschweiften Klammer notieren. In diesem Fall bedeutet die Angabe innerhalb der geschweiften Klammer: so viele beliebige Zeichen wie angegeben - siehe dazu Beispiel (12)</p>

<p>Sie k&ouml;nnen nach Zeichenketten suchen, die nur dann gefunden werden, wenn sie am Anfang oder am Ende eines Wortes vorkommen. Auch die Umkehrung davon ist m&ouml;glich: Sie k&ouml;nnen nach Zeichenketten suchen, die nur dann gefunden werden, wenn sie nicht am Anfang oder am Ende eines Wortes vorkommen.<br>
Mit <tt>\b</tt> vor einer Zeichenkette wird die Zeichenkette nur gefunden, wenn ein Wort damit anf&auml;ngt.<br>
Mit <tt>\b</tt> nach einer Zeichenkette wird die Zeichenkette nur gefunden, wenn ein Wort damit endet.<br>
Mit <tt>\B</tt> vor einer Zeichenkette wird die Zeichenkette nur gefunden, wenn ein Wort nicht damit anf&auml;ngt.<br>
Mit <tt>\B</tt> nach einer Zeichenkette wird die Zeichenkette nur gefunden, wenn ein Wort nicht damit endet.<br>
Zu diesen M&ouml;glichkeiten siehe Beispiele (13) bis (16).</p>

<p>Sie k&ouml;nnen Zeichenketten suchen, die nur dann gefunden werden, wenn sie am Anfang oder am Ende einer Zeile im zu durchsuchenden Bereich vorkommen. Dies ist vor allem im Zusammenhang mit Zeilen in Textdateien interessant.<br>
Mit dem H&uuml;tchenzeichen <tt>^</tt> am Beginn des Suchausdrucks wird die Zeichenkette nur gefunden, wenn sie am Anfang der Zeile steht.<br>
Mit dem Dollarzeichen <tt>$</tt> am Ende des Suchausdrucks wird die Zeichenkette nur gefunden, wenn sie am Ende der Zeile steht.<br>
Zu diesen M&ouml;glichkeiten siehe Beispiele (17) bis (19).</p>

<p>Innerhalb von regul&auml;ren Ausdr&uuml;cken k&ouml;nnen Sie auch <img src="x3.gif" width=15 height=10 border=0>&nbsp;<a href="tgcb.htm"><b>Variablen</b></a> verwenden. Auf diese Weise k&ouml;nnen Sie dynamische Daten als Suchmuster einsetzen. Im Zusammenhang mit CGI k&ouml;nnte Sie z.B. die Anwendereingabe in einem Formularfeld in das Suchmuster &uuml;bernehmen. Siehe dazu Beispiel (20).</p>

<p>F&uuml;r mehrzeilige Suchen m&uuml;ssen Sie an den regul&auml;ren Ausdruck hinter dem beendenden Schr&auml;gstrich ein <tt>s</tt> notieren - siehe Beispiel (21).</p>

<table bgcolor=#EEEEEE class="doc" width=100%><tr><td>
<a href="#top"><img src="xgoup.gif" width=14 height=10 border=0></a><a href="#bottom"><img src="xgdown.gif" width=14 height=10 border=0></a>&#160;
</td></tr></table>
<h2 class="Sh2"><a class="an" name="a5">Regul&auml;re Ausdr&uuml;cke mit Alternativen</a></h2>

<p>Sie k&ouml;nnen mehrere Suchausdr&uuml;cke angeben. Dann werden alle Stellen gefunden, in denen wenigstens eine der Alternativen vorkommt.</p>

<h3 class="xmp">Beispiele:</h3>
<table width=100% cellpadding=10><tr><td class="xmpcode" bgcolor=#FFFFE0><pre>
/a|b/          # findet 'a' oder 'b' - identisch mit /[ab]/
/mit|ohne/     # findet 'mit' und 'Schmitt' aber auch 'ohne' und 'Bohne'
</pre></td></tr></table>

<h3 class="xpl">Erl&auml;uterung:</h3>

<p>Alternativen markieren Sie durch das Zeichen <tt>|</tt>. Im ersten der obigen Beispiele wird eine Alternative mit zwei einzelnen Zeichen formuliert. Dies wird in der Praxis jedoch nur selten verwendet, da die Schreibweiste <tt>/[ab]/</tt>, die das gleiche bedeutet, &uuml;blicher daf&uuml;r ist.<br>
Im zweiten der Beispiele wird nach zwei alternativen Zeichenketten gesucht. Jede Fundstelle mit einer der beiden Alternativen geh&ouml;rt zu den Suchtreffern. Sie k&ouml;nnen nat&uuml;rlich auch mehr als zwei Alternativen notieren.<br>
Bei den einzelnen Alternativen sind alle &uuml;brigen M&ouml;glichkeiten regul&auml;rer Ausdr&uuml;cke erlaubt.</p>


<table bgcolor=#EEEEEE class="doc" width=100%><tr><td>
<a href="#top"><img src="xgoup.gif" width=14 height=10 border=0></a><a href="#bottom"><img src="xgdown.gif" width=14 height=10 border=0></a>&#160;
</td></tr></table>
<h2 class="Sh2"><a class="an" name="a6">Rangfolge und Klammerung in regul&auml;ren Ausdr&uuml;cken</a></h2>

<p>Die Sonderzeichen innerhalb von regul&auml;ren Ausdr&uuml;cken werden vom Perl-Interpreter nach einer bestimmten Rangfolge bewertet.</p> 
<ol>
<li>Rangstufe: <tt>()</tt> (Klammerung)
<li>Rangstufe: <tt>+ * ? {#,#}</tt> (Gruppierungsoperatoren)
<li>Rangstufe: <tt>abc ^ $ \b \B</tt> (Zeichen/Zeichenketten, Zeilenanfang/-ende, Wortanfang/-ende)
<li>Rangstufe: <tt>|</tt> (Alternativen)
</ol>
<p>Dadurch ist jeder regul&auml;re Ausdruck eindeutig bewertbar. Wenn Sie in einem Ausdruck jedoch anders bewerten m&ouml;chten, als es nach der Rangfolge geschieht, k&ouml;nnen Sie innerhalb des Ausdrucks Klammern setzen, um eine andere Bewertung zu erzwingen.</p>

<h3 class="xmp">Beispiele:</h3>
<table width=100% cellpadding=10><tr><td class="xmpcode" bgcolor=#FFFFE0><pre>
/a|bc|d/       # findet 'a' oder 'bc' oder 'd'
/(a|b)(c|d)/   # findet 'ac' oder 'ad' oder 'bc' oder 'bd'
</pre></td></tr></table>

<h3 class="xpl">Erl&auml;uterung:</h3>

<p>Laut der Rangfolge haben Zeichen bzw. Zeichenketten Vorrang vor dem Trennzeichen f&uuml;r Alternativen. Mit Hilfe von Klammern k&ouml;nnen Sie eine andere Bewertung erzwingen (siehe Beispiel).</p>


<table bgcolor=#EEEEEE class="doc" width=100%><tr><td>
<a href="#top"><img src="xgoup.gif" width=14 height=10 border=0></a><a href="#bottom"><img src="xgdown.gif" width=14 height=10 border=0></a>&#160;
</td></tr></table>
<h2 class="Sh2"><a class="an" name="a7">Teilausdr&uuml;cke mit Klammerung</a></h2>

<p>F&uuml;r komplexe regul&auml;re Ausdr&uuml;cke k&ouml;nnen Sie mit Hilfe von Klammerung einzelne Teile des regul&auml;ren Ausdrucks speichern und an einer sp&auml;teren Stelle innerhalb des gleichen Ausdrucks referenzieren.</p>

<h3 class="xmp">Beispiel:</h3>
<table width=100% cellpadding=10><tr><td class="xmpcode" bgcolor=#FFFFE0><pre>
#!/usr/bin/perl

$Satz = &quot;Was denn wohl der Mann mit der Frau da unter der Bettdecke macht?&quot;;
if($Satz =~ /(\bder\b).*\1/)
 { print $1; }
</pre></td></tr></table>

<h3 class="xpl">Erl&auml;uterung:</h3>

<p>In dem Beispiel wird &uuml;berpr&uuml;ft, ob in <tt>$Satz</tt> das Wort 'der' mehr als einmal vorkommt.</p>

<p>Dazu wird zun&auml;chst das, wonach &quot;eigentlich&quot; gesucht werden soll, in Klammern gesetzt. Im Beispiel soll nach einem separaten Wort 'der' gesucht werden, daher lautet die Formulierung im regul&auml;ren Ausdruck <tt>\bder\b</tt>. Dieser Teilausdruck wird in Klammern gesetzt. Dadurch merkt sich der Perl-Interpreter diesen Teilausdruck. Dahinter folgt mit <tt>.*</tt> die Anweisung: hinter dem Wort 'der' kann folgen, was will. Die Syntax <tt>\1</tt> schlie&szlig;lich referenziert die zuvor definierte Klammer. Das hei&szlig;t: wenn der Perl-Interpreter das Wort 'der' findet, schaut er nach, ob das Wort schon einmal gefunden wurde.<br>
Wenn Sie zwei oder mehr solcher Klammern in einem regul&auml;ren Ausdruck haben, k&ouml;nnen Sie diese Klammern mit <tt>\1</tt>, <tt>\2</tt>, <tt>\3</tt> usw. referenzieren. Dazu gibt es dann entsprechende vordefinierte Variablen in Perl, n&auml;mlich <tt>$1</tt>, <tt>$2</tt>, <tt>$3</tt> usw.</p>

<p>Die Ausgabe <tt>print $1</tt> im obigen Beispiel gibt den Inhalt von <tt>$1</tt> aus. Darin ist im Beispiel das Wort 'der' gespeichert, aber nur, weil es in dem Satz mehr als einmal vorkommt.</p>





<table cellpadding=4 cellspacing=1 width=100%>
<tr><td colspan=2 bgcolor=#EEEEEE class="doc">
<a href="#top"><img src="xgoup.gif" width=14 height=10 border=0></a>
</td></tr>
<tr><td bgcolor=#EEEEEE class="doc" align=right width=110>weiter:<a href="tgch.htm"><img src="xgnext.gif" width=10 height=10 border=0 hspace=10></a></td>
<td bgcolor=#FFFFFF><img src="x3.gif" width=15 height=10 border=0> <a href="tgch.htm"><b>Steuerzeichen und besondere Notationen</b></a>
</td></tr>
<tr>
<td bgcolor=#EEEEEE class="doc" align=right width=110>zur&uuml;ck:<a href="tgcf.htm"><img src="xgprev.gif" width=10 height=10 border=0 hspace=10></a></td>
<td bgcolor=#FFFFFF width=100%><img src="x3.gif" width=15 height=10 border=0> <a href="tgcf.htm"><b>Operatoren</b></a>
</td>
</tr>
<tr><td colspan=2 bgcolor=#EEEEEE class="doc">&#160;</td></tr>
</table>
<hr noshade size=1>
<p><nobr><img src="x2.gif" width=16 height=13 border=0> <a href="selfhtml.htm"><b>SELFHTML</b></a>/<a href="tq.htm" target="_parent">Quickbar</a>&#160;
<img src="x2.gif" width=16 height=13 border=0> <a href="tg.htm"><b>CGI/Perl</b></a>&#160;
<img src="x2.gif" width=16 height=13 border=0> <a href="tgc.htm"><b>Perl-Sprachelemente</b></a></nobr></p>
<p><nobr><a class="an" name="bottom">&copy; 1998</A> <img src="xgmail.gif" width=15 height=10 border=0>&nbsp;<a href="mailto:muenz@csi.com">Stefan M&uuml;nz, muenz@csi.com</a></nobr></p>



</body>
</html>