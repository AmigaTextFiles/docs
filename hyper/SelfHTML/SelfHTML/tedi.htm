<html>
<head>
<title>SELFHTML: JavaScript / Anwendungsbeispiele / Verweisliste als Auswahlliste</title>
<meta name="description" content="(SELFHTML 7.0) JavaScript, das eine Verweisliste in Gestalt einer Formular-Auswahlliste realisiert.">
<meta name="keywords" content="SELFHTML, JavaScript, Verweise, Verweisliste">
<link rel=stylesheet type="text/css" href="wselfhtm.css">
</head>
<body bgcolor=#ffffff text=#000000 link=#aa5522 vlink=#772200 alink=#000000>

<p><nobr><a class="an" name="top"><img src="x2.gif" width=16 height=13 border=0></a> <a href="selfhtml.htm"><b>SELFHTML</b></a>/<a href="tq.htm" target="_parent">Quickbar</a>&#160;
<img src="x2.gif" width=16 height=13 border=0> <a href="te.htm"><b>JavaScript</b></a>&#160;
<img src="x2.gif" width=16 height=13 border=0> <a href="ted.htm"><b>Anwendungsbeispiele</b></a></nobr></p>
<hr noshade size=1>
<table cellpadding=4 cellspacing=1 width=100%>
<tr>
<td bgcolor=#EEEEEE class="doc" width=110><img src="xweb.gif" width=106 height=109></td>
<td bgcolor=#EEEEEE class="doc" valign=bottom width=100%><h2>Verweisliste als Auswahlliste</h2></td>
</tr>
<tr>
<td bgcolor=#EEEEEE class="doc" valign=top align=center>
<img src="x5.gif" width=30 height=20 vspace=6 border=0 alt="Diese Seite ist ein Dokument mit Informationstext">
</td>
<td bgcolor=#ffffff valign=top nowrap>

<p>
<img src="xgdown.gif" width=14 height=10 border=0>&nbsp;<a href="#a1"><b>Verweisliste als Auswahlliste - das Beispiel</b></a>
</p>

</td>
</tr><tr><td colspan=2 bgcolor=#EEEEEE class="doc"><a href="#bottom"><img src="xgdown.gif" width=14 height=10 border=0></a>&#160;</td></tr>
</table>



<h2 class="Sh2"><a class="an" name="a1"><img src="xnetsi3.gif" width=30 height=30 border=0 alt="Netscape3.0"><img src="xmsie4.gif" width=30 height=30 border=0 alt="MS IE 4.0"> Verweisliste als Auswahlliste - das Beispiel</a></h2>

<p><img src="xview.gif" width=30 height=20 border=0 alt="Beispiel" align=absmiddle> <a href="tedia.htm"><b>Anzeigebeispiel: So sieht's aus</b></a></p>

<p>In diesem Beispiel wird beschrieben, wie Sie eine <img src="x3.gif" width=15 height=10 border=0>&nbsp;<a href="tchd.htm"><b>Auswahlliste</b></a> eines HTML-Formulars als praktische Alternative f&uuml;r lange Listen f&uuml;r Verweise benutzen k&ouml;nnen. Auf diesem Prinzip basiert etwa auch die <img src="x3.gif" width=15 height=10 border=0>&nbsp;<a href="tq.htm"><b>SELFHTML Quickbar</b></a>. Die Auswahlliste wird dabei in Form einer kleinen Aufklappliste realisiert, die in einem eigenen schmalen Frame-Fenster plaziert ist. Das nimmt kaum Platz in Anspruch, und trotzdem steht dem Anwender in jeder Situation eine Liste mit Verweisen zur Ver&uuml;gung.</p>

<p><b>Hinweis:</b> Zur besseren Orientierung enth&auml;lt das Beispiel Verweise zu den entsprechenden Erl&auml;uterungen, z.B. <a href="#a1a1"><b>1*</b></a>. Diese Verweise geh&ouml;ren nicht zum Quellcode. Falls Sie das Beispiel in einen Editor kopieren, m&uuml;ssen Sie diese Verweise l&ouml;schen. Andernfalls erhalten Sie JavaScript-Fehlermeldungen.</p>

<h3 class="xmp">Beispiel Teil 1 - Frame-Set-Datei:</h3>
<table width=100% cellpadding=10><tr><td class="xmpcode" bgcolor=#FFFFE0><pre>
 &lt;html&gt;
 &lt;head&gt;
 &lt;title&gt;Seitentitel&lt;/title&gt;
 &lt;/head&gt;
 <a name="a1a1" href="#a1b1"><b>1*</b></a> &lt;frameset rows=&quot;40,*&quot; border=0 frameborder=0 framespacing=0&gt;
  &lt;frame src=&quot;oben.htm&quot; marginheight=3 marginwidth=10&gt;
  &lt;frame src=&quot;unten.htm&quot;&gt;
 &lt;/frameset&gt;
 &lt;/html&gt;
</pre></td></tr></table>

<h3 class="xmp">Beispiel Teil 2 - Datei <i>oben.htm</i>:</h3>
<table width=100% cellpadding=10><tr><td class="xmpcode" bgcolor=#FFFFE0><pre>
 &lt;html&gt;
 &lt;head&gt;
 &lt;title&gt;Seitentitel&lt;/title&gt;
 <a name="a1a3" href="#a1b3"><b>3*</b></a> &lt;script language=&quot;JavaScript&quot;&gt;
  &lt;!--
   function Go(x)
   {
    if(x == &quot;nothing&quot;)
    {
      document.forms[0].reset();
      document.forms[0].elements[0].blur();
      return;
    }
    else if(x == &quot;end&quot;) top.location.href = parent.frames[1].location;
    else
    {
      parent.frames[1].location.href = x;
      document.forms[0].reset();
      document.forms[0].elements[0].blur();
    }
  }
  //--&gt;
 &lt;/script&gt;
 &lt;/head&gt;
 &lt;body&gt;
 <a name="a1a2" href="#a1b2"><b>2*</b></a> &lt;form&gt;
 &lt;select size=1 name=&quot;Auswahl&quot; onChange=
 &quot;Go(this.form.Auswahl.options[this.form.Auswahl.options.selectedIndex].value)&quot;
 style=&quot;width:350px; background-color:#FFFFE0;
 font-size:9pt; font-family:Arial,sans-serif;&quot; width=350&gt;
 &lt;option value=&quot;nothing&quot;&gt;[ Titel ]
 &lt;option value=&quot;nothing&quot;&gt;------------------------
 &lt;option value=&quot;unten.htm&quot;&gt;Titel-Datei
 &lt;option value=&quot;nothing&quot;&gt;------------------------
 &lt;option value=&quot;datei1.htm&quot;&gt;Erste Datei
 &lt;option value=&quot;datei2.htm&quot;&gt;Zweite Datei
 &lt;option value=&quot;datei3.htm&quot;&gt;Dritte Datei
 &lt;option value=&quot;nothing&quot;&gt;------------------------
 &lt;option value=&quot;end&quot;&gt;Beenden
 &lt;/select&gt;&lt;/form&gt;
 &lt;/body&gt;
 &lt;/html&gt;
</pre></td></tr></table>


<h3 class="xpl">Erl&auml;uterung:</h3>

<p><img src="xgoup.gif" width=14 height=10 border=0>&nbsp;<a name="a1b1" href="#a1a1"><b>Frame-Set definieren</b></a><br>
Da die Auswahlliste im Beispiel w&auml;hrend der Anzeige der Webseite st&auml;ndig eingeblendet sein soll, wird ein Frame-Set definiert. Es besteht aus zwei Fenstern, n&auml;mlich einem schmalen Streifen im oberen Bereich des Browser-Fensters und einem Hauptfenster f&uuml;r die Anzeige. Das obere Fenster, in dem die Auswahlliste plaziert werden soll, ist 40 Pixel hoch, nimmt also nur wenig Platz in Anspruch.<br>
Im oberen Frame-Fenster wird beim Aufruf die Datei <tt>oben.htm</tt> angezeigt. Diese Datei wird die Auswahlliste enthalten. Im unteren Fenster wird die Datei <tt>unten.htm</tt> angezeigt. Das k&ouml;nnte beispielsweise die Titelseite Ihres Web-Projekts sein.</p>




<p><img src="xgoup.gif" width=14 height=10 border=0>&nbsp;<a name="a1b2" href="#a1a2"><b>Auswahlliste definieren</b></a><br>
In der Datei <tt>oben.htm</tt> wird innerhalb des Dateik&ouml;rpers nichts anderes als ein Formular mit einer Auswahlliste definiert.</p>

<p>Die einzelnen Auswahlm&ouml;glichkeiten stellen die Verweise dar. Es gibt im Beispiel drei Formen, wie so eine Auswahlm&ouml;glichkeit aussieht.<br>
<tt>&lt;option value=&quot;datei1.htm&quot;&gt;Erste Datei</tt><br>
Eine solche Auswahlm&ouml;glichkeit definiert Daten, die von JavaScript sp&auml;ter als Verweis interpretiert werden. Hinter dem Attribut <tt>value=</tt> steht das gew&uuml;nschte Verweisziel. Hinter dem <tt>&lt;option&gt;</tt>-Tag steht der Verweistext, der in der Auswahlliste erscheinen soll.<br>
<tt>&lt;option value=&quot;datei1.htm&quot;&gt;Erste Datei</tt> oder<br>
<tt>&lt;option value=&quot;nothing&quot;&gt;[ Titel ]</tt><br>
Mit solchen Eintr&auml;gen werden Auswahlm&ouml;glichkeiten definiert, die in der Liste erscheinen, aber keine Wirkung haben sollen. Das k&ouml;nnen in l&auml;ngeren Listen zum Beispiel Trennlinien-Eintr&auml;ge sein. Auch die erste Auswahlm&ouml;glichkeit der Liste mu&szlig; so definiert werden, denn sie stellt die &quot;Listen&uuml;berschrift&quot; dar. Bei solchen Eintr&auml;gen notieren Sie einfach hinter dem Attribut <tt>value=</tt> den Wert <tt>nothing</tt>.<br>
<tt>&lt;option value=&quot;end&quot;&gt;Beenden</tt><br>
Mit einem solchen Eintrag, der sinnvollerweise die letzte Auswahlm&ouml;glichkeit darstellt, k&ouml;nnen Sie bewirken, da&szlig; die Auswahlliste beendet wird. Notieren Sie dazu hinter dem Attribut <tt>value=</tt> den Wert <tt>end</tt>. Wenn Sie kein Beenden der Auswahlliste erm&ouml;glichen wollen, lassen Sie einen solchen Eintrag einfach weg.</p>

<p>Entscheidend zum Verarbeiten der Auswahlliste sind die Angaben im einleitenden <tt>&lt;select&gt;</tt>-Tag. Dort wird der <img src="x3.gif" width=15 height=10 border=0>&nbsp;<a href="tebj.htm"><b>Event-Handler</b></a> <tt>onChange=</tt> notiert, der das Ausf&uuml;hren von JavaScript-Code ausf&uuml;hrt, sobald der Anwender einen neuen Eintrag in der Auswahlliste ausgew&auml;hlt. Wenn dieses Ereignis eintritt, wird im Beispiel die Funktion <tt>Go()</tt> aufgerufen. Dazu wird der Wert (<tt>value</tt>) des ausgew&auml;hlten Listeneintrags als Parameter &uuml;bergeben. Es handelt sich um den Wert, der entweder ein Verweisziel oder eines der vereinbarten Schl&uuml;sselw&ouml;rter <tt>nothing</tt> oder <tt>end</tt> ist.</p>


<p><img src="xgoup.gif" width=14 height=10 border=0>&nbsp;<a name="a1b3" href="#a1a3"><b>Auswahl verarbeiten</b></a><br>
Im Dateikopf steht die Funktion <tt>Go()</tt>, die den ausgew&auml;hlten Eintrag als Parameter &uuml;bergeben bekommt und verarbeitet. Die Funktion unterscheidet die drei F&auml;lle <tt>nothing</tt>, <tt>end</tt> oder Verweisziel und f&uuml;hrt abh&auml;ngig davon entsprechende Anweisungen aus.</p>

<p>Wenn ein Eintrag mit dem Wert <tt>nothing</tt> ausgew&auml;hlt wurde, wird die Auswahlliste zur&uuml;ckgesetzt (<tt>reset()</tt>). Der erste Eintrag, also der &Uuml;berschrifteneintrag der Liste, wird wieder angezeigt. Der Auswahlbalken wird aus der Liste bis zur n&auml;chsten Auswahl entfernt (<tt>blur()</tt>).</p>

<p>Lautet der Eintrag <tt>end</tt>, wird einfach das aktuelle Frame-Fenster, also das mit der Auswahlliste, beendet. Dazu wird der Inhalt des Hauptframefensters zum Inhalt des gesamten Browserfensters gemacht (<tt>top.location.href = parent.frames[1].location</tt>).</p>

<p>In allen anderen F&auml;llen wird der &uuml;bergebene Wert als Verweis interpretiert. Mit der Zuweisung des &uuml;bergebenen Werts an <tt>parent.frames[1].location.href</tt> wird ein Verweis ausgef&uuml;hrt, der das ausgew&auml;hlte Verweisziel im Hauptframefenster anzeigt. Auch in diesem Fall wird die Auswahlliste zur&uuml;ckgesetzt (<tt>reset()</tt>). Der erste Eintrag, also der &Uuml;berschrifteneintrag der Liste, wird wieder angezeigt. Der Auswahlbalken wird aus der Liste bis zur n&auml;chsten Auswahl entfernt (<tt>blur()</tt>).</p>



<table cellpadding=4 cellspacing=1 width=100%>
<tr><td colspan=2 bgcolor=#EEEEEE class="doc">
<a href="#top"><img src="xgoup.gif" width=14 height=10 border=0></a>
</td></tr>
<tr><td bgcolor=#EEEEEE class="doc" align=right width=110>weiter:<a href="tfa.htm"><img src="xgnext.gif" width=10 height=10 border=0 hspace=10></a></td>
<td bgcolor=#ffffff><img src="x3.gif" width=15 height=10 border=0> <a href="tfa.htm"><b>Allgemeines zu Dynamischem HTML</b></a>
</td></tr>
<tr>
<td bgcolor=#EEEEEE class="doc" align=right width=110>zur&uuml;ck:<a href="tedh.htm"><img src="xgprev.gif" width=10 height=10 border=0 hspace=10></a></td>
<td bgcolor=#ffffff width=100%><img src="x3.gif" width=15 height=10 border=0> <a href="tedh.htm"><b>Aufenthaltsdauer auf Web-Seite anzeigen</b></a>
</td>
</tr>
<tr><td colspan=2 bgcolor=#EEEEEE class="doc">&#160;</td></tr>
</table>
<hr noshade size=1>
<p><nobr><img src="x2.gif" width=16 height=13 border=0> <a href="selfhtml.htm"><b>SELFHTML</b></a>/<a href="tq.htm" target="_parent">Quickbar</a>&#160;
<img src="x2.gif" width=16 height=13 border=0> <a href="te.htm"><b>JavaScript</b></a>&#160;
<img src="x2.gif" width=16 height=13 border=0> <a href="ted.htm"><b>Anwendungsbeispiele</b></a></nobr></p>
<p><nobr><a class="an" name="bottom">&copy; 1998</A> <img src="xgmail.gif" width=15 height=10 border=0>&nbsp;<a href="mailto:muenz@csi.com">Stefan M&uuml;nz, muenz@csi.com</a></nobr></p>


</body>
</html>