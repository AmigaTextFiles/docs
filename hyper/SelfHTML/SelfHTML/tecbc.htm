<html>
<head>
<title>SELFHTML: JavaScript / Objektreferenz / event</title>
<meta name="description" content="(SELFHTML 7.0) Das JavaScript-Objekt event">
<meta name="keywords" content="SELFHTML, JavaScript, Objekt, event-Objekt, Events">
<link rel=stylesheet type="text/css" href="wselfhtm.css"> 
</head>
<body bgcolor=#FFFFFF text=#000000 link=#AA5522 vlink=#772200 alink=#000000>


<p><nobr><a class="an" name="top"><img src="x2.gif" width=16 height=13 border=0></a> <a href="selfhtml.htm"><b>SELFHTML</b></a>/<a href="tq.htm" target="_parent">Quickbar</a>&#160;
<img src="x2.gif" width=16 height=13 border=0> <a href="te.htm"><b>JavaScript</b></a>&#160;
<img src="x2.gif" width=16 height=13 border=0> <a href="tec.htm"><b>Objektreferenz</b></a></nobr></p>
<hr noshade size=1>
<table cellpadding=4 cellspacing=1 width=100%>
<tr>
<td bgcolor=#EEEEEE class="doc" width=110><img src="xweb.gif" width=106 height=109></td>
<td bgcolor=#EEEEEE class="doc" valign=bottom width=100%><h2>event</h2></td>
</tr>
<tr>
<td bgcolor=#EEEEEE class="doc" valign=top align=center>
<img src="x5.gif" width=30 height=20 border=0 vspace=6 alt="Diese Seite ist ein Dokument mit Informationstext">
</td>
<td bgcolor=#FFFFFF valign=top nowrap>
<p><img src="xgdown.gif" width=14 height=10 border=0>&nbsp;<a href="#a1"><b>event: Allgemeines zur Verwendung</b></a><br>
</p>

<p><b>Eigenschaften:</b></p>

<p>
<img src="xgdown.gif" width=14 height=10 border=0>&nbsp;
<a href="#a2"><b>altKey, ctrlKey, shiftKey</b></a> (Sondertasten/Microsoft)<br>
<img src="xgdown.gif" width=14 height=10 border=0>&nbsp;
<a href="#a3"><b>clientX, clientY</b></a> (Bildschirmkoordinaten/Microsoft)<br>
<img src="xgdown.gif" width=14 height=10 border=0>&nbsp;
<a href="#a4"><b>keyCode</b></a> (Tastaturcode/Microsoft)<br>
<img src="xgdown.gif" width=14 height=10 border=0>&nbsp;
<a href="#a5"><b>layerX, layerY</b></a> (objekt-relative Koordinaten/Netscape)<br>
<img src="xgdown.gif" width=14 height=10 border=0>&nbsp;
<a href="#a6"><b>modifiers</b></a> (Sondertasten/Netscape)<br>
<img src="xgdown.gif" width=14 height=10 border=0>&nbsp;
<a href="#a7"><b>offsetX, offsetY</b></a> (objekt-relative Koordinaten/Microsoft)<br>
<img src="xgdown.gif" width=14 height=10 border=0>&nbsp;
<a href="#a8"><b>pageX, pageY</b></a> (fenster-relative Koordinaten/Netscape)<br>
<img src="xgdown.gif" width=14 height=10 border=0>&nbsp;
<a href="#a9"><b>screenX, screenY</b></a> (Bildschirmkoordinaten/Netscape)<br>
<img src="xgdown.gif" width=14 height=10 border=0>&nbsp;
<a href="#a10"><b>which</b></a> (Tastatur-/Maustastencode/Netscape)<br>
<img src="xgdown.gif" width=14 height=10 border=0>&nbsp;
<a href="#a11"><b>type</b></a> (Art des Ereignisses/Netscape)<br>
<img src="xgdown.gif" width=14 height=10 border=0>&nbsp;
<a href="#a12"><b>x,y</b></a> (Elternelement-relative Koordinaten/Microsoft)<br>
</p>




</td>
</tr><tr><td colspan=2 bgcolor=#EEEEEE class="doc"><a href="#bottom"><img src="xgdown.gif" width=14 height=10 border=0></a>&#160;</td></tr>
</table>



<h2 class="Sh2"><a class="an" name="a1">event: Allgemeines zur Verwendung</a></h2>

<p>Mit dem Objekt <tt>event</tt> k&ouml;nnen Sie Einzelinformationen zu Anwenderereignissen wie Mausklicks oder Tasteneingaben ermitteln und weiterverarbeiten. So k&ouml;nnen Sie bei einem Mausklick beispielsweise die genaue Position ermitteln, wo der Mausklick erfolgte, oder bei einem Tastendruck die gedr&uuml;ckte Taste abfragen.</p>

<p>Anwenderereignisse k&ouml;nnen Sie entweder &uuml;berwachen, indem Sie in einem erlaubten HTML-Tag einen <img src="x3.gif" width=15 height=10 border=0>&nbsp;<a href="tebj.htm"><b>Event-Handler</b></a> notieren, oder, indem Sie direkt mit Hilfe von JavaScript eine Ereignis&uuml;berwachung programmieren. F&uuml;r den Fall, da&szlig; das &uuml;berwachte Ereignis eintritt, k&ouml;nnen Sie eine Handler-Funktion schreiben, die das Ereignis &quot;behandelt&quot;, also verarbeitet. Die Handler-Funktion wird automatisch aufgerufen, wenn das Ereignis eintritt. Innerhalb einer Handler-Funktion besteht auch die M&ouml;glichkeit, Eigenschaften des eingetretenen Ereignisses abzufragen. Solche Eigenschaften werden auf dieser Seite hier beschrieben.</p>

<p>Sowohl Netscape 4.x als auch der MS Internet Explorer 4.x kennen das event-Objekt. Leider ist die Implementierung jedoch v&ouml;llig unterschiedlich gel&ouml;st und f&uuml;hrt zu einer ziemlich chaotischen Situation in diesem Bereich. Die Eigenschaften des Event-Objekts, die auf dieser Seite beschrieben werden, ber&uuml;cksichtigen beide Browser. In der Regel ist eine Eigenschaft jedoch entweder nur bei Netscape oder nur beim MS Internet Explorer verf&uuml;gbar. Auch in der Syntax zur &Uuml;berwachung von Ereignissen unterscheiden sich beide Browser. Das gilt sowohl bei der Ereignis&uuml;berwachung per Event-Handler in HTML als auch f&uuml;r die direkte Ereignis&uuml;berwachung in JavaScript. Die Unterschiede bei den Event-Handlern werden im Abschnitt &uuml;ber Event-Handler n&auml;her beschrieben. Hier wird zur allgemeinen Verwendung des event-Objekts beschrieben, wie Sie mit Hilfe von JavaScript eine direkte Ereignis&uuml;berwachung programmieren. Das Beispiel zeigt auch, wie Sie eine solche Ereignis&uuml;berwachung f&uuml;r beide Browser getrennt programmieren k&ouml;nnen, ohne da&szlig; es zu Fehlermeldungen kommt.</p>


<h3 class="xmp">Beispiel (Ereignis&uuml;berwachung direkt mit JavaScript programmieren):</h3>
<table width=100% cellpadding=10><tr><td class="xmpcode" bgcolor=#FFFFE0><pre>
&lt;html&gt;&lt;head&gt;&lt;title&gt;Test&lt;/title&gt;

&lt;script language=&quot;JavaScript1.2&quot;&gt;

var Netscape = new Boolean();
if(navigator.appName == &quot;Netscape&quot;)  Netscape = true;  

function TasteGedrueckt(Ereignis)
{
 if(Netscape)
  { window.status = &quot;Taste mit Dezimalwert &quot; + Ereignis.which + &quot; gedrueckt&quot;; return true; }
}  
function TasteLosgelassen(Ereignis)
{
 if(Netscape)
  { window.status = &quot;Taste mit Dezimalwert &quot; + Ereignis.which + &quot; losgelassen&quot;; return true; }
}
document.onkeydown = TasteGedrueckt;
document.onkeyup = TasteLosgelassen;
&lt;/script&gt;

&lt;!-- JScript-Bereiche fuer MS Internet Explorer --&gt;
&lt;script for=document event=&quot;onkeydown()&quot; language=&quot;JScript&quot;&gt;
 { window.status = &quot;Taste mit Dezimalwert &quot; + window.event.keyCode + &quot; gedrueckt&quot;; return true; }
&lt;/script&gt;
&lt;script for=document event=&quot;onkeyup()&quot; language=&quot;JScript&quot;&gt;
 { window.status = &quot;Taste mit Dezimalwert &quot; + window.event.keyCode + &quot; losgelassen&quot;; return true; }
&lt;/script&gt;
</head><body>
</body></html>
</pre></td></tr></table>

<h3 class="xpl">Erl&auml;uterung:</h3>

<p>Das Beispiel &uuml;berwacht Tastaturereignisse auf Dokumentebene. Das hei&szlig;t, wenn der Anwender in den Anzeigebereich der angezeigten HTML-Datei klickt (Dokument erh&auml;lt den Fokus) und dann irgendeine Taste dr&uuml;ckt, wird das Ereignis von der programmierten Ereignis&uuml;berwachung abgefangen und verarbeitet. Im Beispiel wird bei jedem Tastendruck in der Statuszeile des Browsers der dezimale Tastaturcode der gedr&uuml;ckten Taste ausgegeben.</p>

<p>Um so etwas f&uuml;r Netscape 4.x und MS Internet Explorer 4.x zu realisieren, werden im Beispiel ein JavaScript-Bereich und zwei spezielle JScript-Bereiche definiert. Die JScript-Bereiche werden nur vom MS Internet Explorer ausgelesen, da Netscape Scripts, die mit <tt>language=&quot;JScript&quot;</tt> ausgezeichnet sind, ignoriert. Der JavaScript-Bereich ist mit <tt>language=&quot;JavaScript1.2&quot;</tt> ausgezeichnet. So wird verhindert, da&szlig; &auml;ltere Browser (z.B. Netscape 3) diesen Bereich interpretieren. Der Bereich wird jedoch von Netscape 4 und vom MS Internet Explorer 4 interpretiert. Gedacht ist er jedoch nur f&uuml;r Netscape 4. Deshalb werden alle Anweisungen innerhalb des Bereichs von der Abfrage abh&auml;ngig gemacht, ob Netscape am Werk ist.</p>

<p>Es werden zwei Funktionen definiert: die Funktion <tt>TasteGedrueckt(Ereignis)</tt> ist die sogenannte Handler-Funktion f&uuml;r den Fall, da&szlig; der Anwender eine Taste dr&uuml;ckt. Die Funktion <tt>TasteLosgelassen(Ereignis)</tt> behandelt den Fall, da&szlig; der Anwender die gedr&uuml;ckte Taste wieder lo&szlig;l&auml;&szlig;t. Beide Funktionen erwarten einen Parameter namens <tt>Ereignis</tt>. &Uuml;ber diesen Parameter k&ouml;nnen die Funktionen auf Eigenschaften des event-Objekts zugreifen. In den beiden Funktionen im Beispiel wird die Objekteigenschaft <tt>which</tt> ausgewertet, die nach Netscape-Syntax den dezimalen Tastaturcode einer gedr&uuml;ckten Taste speichert.</p>

<p>Das allein gen&uuml;gt jedoch noch nicht zur Ereignis&uuml;berwachung. Damit die Handler-Funktionen bei Eintritt des Ereignisses automatisch aufgerufen werden, mu&szlig; die Ereignis&uuml;berwachung gestartet werden. Dazu dienen die beiden Anweisungen am Ende des JavaScript-Bereichs.<br>
Mit <tt>document.onkeydown = TasteGedrueckt;</tt> wird das Ereignis &quot;Taste gedr&uuml;ckt&quot; (<tt>onkeydown</tt>) &uuml;berwacht. Hinter dem Istgleichzeichen folgt der Name der Handlerfunktion, die dieses Ereignis verarbeiten soll (<tt>TasteGedrueckt</tt>). Beachten Sie, da&szlig; hier nur der Funktionsname stehen darf, kein Funktionsaufruf mit runden Klammern dahinter.<br>
Mit <tt>document.onkeyup = TasteLosgelassen;</tt> wird das Ereignis &quot;Taste losgelassen&quot; (<tt>onkeyup</tt>) &uuml;berwacht, und zur Ereignisbehandlung wird die Handler-Funktion <tt>TasteLosgelassen</tt> angegeben. Nach dem gleichen Schema k&ouml;nnen Sie auch andere Ereignisse &uuml;berwachen - die Handlerfunktionen definieren Sie selber, und anstelle von <tt>onkeydown</tt> und <tt>onkeyup</tt> k&ouml;nnen Sie alle anderen &uuml;blichen <img src="x3.gif" width=15 height=10 border=0>&nbsp;<a href="tebj.htm"><b>Event-Handler</b></a> notieren.</p>

<p>Bei den beiden Scriptbereichen f&uuml;r den MS Internet Explorer wird f&uuml;r jedes zu &uuml;berwachende Ereignis ein Scriptbereich notiert. Mit einer Angabe wie <tt>for=document event=&quot;onkeydown()&quot;</tt> im einleitenden <tt>&lt;script&gt;</tt>-Tag geben Sie an, welches Ereignis Sie &uuml;berwachen wollen (z.B. <tt>onkeydown</tt>), und f&uuml;r welches Objekt (z.B. <tt>document</tt>). Es sind alle &uuml;blichen Event-Handler erlaubt.</p>

<p>Innerhalb des Scripts k&ouml;nnen Sie dann auf Eigenschaften des event-Objekts zugreifen, die der MS Internet Explorer kennt. Mit <tt>window.event.keyCode</tt> wird beispielsweise der dezimale Tastaturcode einer gedr&uuml;ckten Taste ermittelt.</p>



<table bgcolor=#EEEEEE class="doc" width=100%><tr><td>
<a href="#top"><img src="xgoup.gif" width=14 height=10 border=0></a><a href="#bottom"><img src="xgdown.gif" width=14 height=10 border=0></a>&#160;
</td></tr></table>
<h2 class="Sh2"><img src="xmsjs.gif" width=30 height=30 alt="MSJScript" border="0"><img src="xmsie4.gif" width=30 height=30 alt="MS IE4.0" border="0"><img src="xjsread.gif" width=60 height=30 alt="Lesen" border="0"> <a class="an" name="a2">altKey, ctrlKey, shiftKey</a></h2>

<p>Microsoft-Syntax. Speichert, ob Zusatztasten wie die ALT-Taste oder die Shift-Taste gemeinsam mit einer anderen Taste oder einem Mausklick gedr&uuml;ckt wurden.</p>


<h3 class="xmp">Beispiel:</h3>
<table width=100% cellpadding=10><tr><td class="xmpcode" bgcolor=#FFFFE0><pre>
&lt;html&gt;&lt;head&gt;&lt;title&gt;Test&lt;/title&gt;
&lt;script for=document event=&quot;onkeypress()&quot; language=&quot;JScript&quot;&gt;
 {
  if(window.event.shiftKey)
   alert(&quot;eine Taste plus Umschalttaste gedrueckt!&quot;);
 }
&lt;/script&gt;
&lt;/head&gt;&lt;body&gt;
&lt;/body&gt;&lt;/html&gt;
</pre></td></tr></table>

<h3 class="xpl">Erl&auml;uterung:</h3>

<p>Im Beispiel wird &uuml;berwacht, ob der Anwender eine Taste dr&uuml;ckt (<tt>onkeypress</tt>). Wenn ja, wird abgefragt, ob zus&auml;tzlich die Umschalttaste gedr&uuml;ckt wurde. In diesem Fall wird eine entsprechende Meldung ausgegeben.</p>





<table bgcolor=#EEEEEE class="doc" width=100%><tr><td>
<a href="#top"><img src="xgoup.gif" width=14 height=10 border=0></a><a href="#bottom"><img src="xgdown.gif" width=14 height=10 border=0></a>&#160;
</td></tr></table>
<h2 class="Sh2"><img src="xmsjs.gif" width=30 height=30 alt="MSJScript" border="0"><img src="xmsie4.gif" width=30 height=30 alt="MS IE4.0" border="0"><img src="xjsread.gif" width=60 height=30 alt="Lesen" border="0"> <a class="an" name="a3">clientX, clientY</a></h2>

<p>Microsoft-Syntax. Speichert die horizontalen Pixel (clientX) und die vertikalen Pixel (clientY) der Cursorposition relativ zur oberen linken Ecke des Anzeigefensters, wenn z.B. Mausereignisse &uuml;berwacht werden.</p>


<h3 class="xmp">Beispiel:</h3>
<table width=100% cellpadding=10><tr><td class="xmpcode" bgcolor=#FFFFE0><pre>
&lt;html&gt;&lt;head&gt;&lt;title&gt;Test&lt;/title&gt;
&lt;script for=document event=&quot;onmousedown()&quot; language=&quot;JScript&quot;&gt;
 {
  document.all.Springer.style.left = window.event.clientX;  
  document.all.Springer.style.top = window.event.clientY;
 }
&lt;/script&gt;
&lt;/head&gt;&lt;body&gt;
&lt;div id=&quot;Springer&quot; style=&quot;background-color:#FFE0FF; position:absolute;
top:100px; left:100px; width:100px; height:100px;&quot;&gt;&lt;/div&gt;
&lt;/body&gt;&lt;/html&gt;
</pre></td></tr></table>

<h3 class="xpl">Erl&auml;uterung:</h3>

<p>Das Beispiel enth&auml;lt einen <tt>&lt;div&gt;</tt>-Bereich, der mit Hilfe von Style-Sheet-Angaben absolut positioniert wird. Wenn der Anwender mit der Maus in das Fenster klickt, wird der Bereich an die Position verschoben, an der der Mausklick erfolgt.</p>






<table bgcolor=#EEEEEE class="doc" width=100%><tr><td>
<a href="#top"><img src="xgoup.gif" width=14 height=10 border=0></a><a href="#bottom"><img src="xgdown.gif" width=14 height=10 border=0></a>&#160;
</td></tr></table>
<h2 class="Sh2"><img src="xmsjs.gif" width=30 height=30 alt="MSJScript" border="0"><img src="xmsie4.gif" width=30 height=30 alt="MS IE4.0" border="0"><img src="xjsread.gif" width=60 height=30 alt="Lesen" border="0"> <a class="an" name="a4">keyCode</a></h2>

<p>Microsoft-Syntax. Speichert bei Tastaturereignissen den dezimalen Code (ASCII/ANSI-Wert) der gedr&uuml;ckten Taste.</p>


<h3 class="xmp">Beispiel:</h3>
<table width=100% cellpadding=10><tr><td class="xmpcode" bgcolor=#FFFFE0><pre>
&lt;html&gt;&lt;head&gt;&lt;title&gt;Test&lt;/title&gt;
&lt;script for=document event=&quot;onmousedown()&quot; language=&quot;JScript&quot;&gt;
 {
  alert(window.event.keyCode);  
 }
&lt;/script&gt;
&lt;/head&gt;&lt;body&gt;
&lt;/body&gt;&lt;/html&gt;
</pre></td></tr></table>

<h3 class="xpl">Erl&auml;uterung:</h3>

<p>Das Beispiel &uuml;berwacht, ob bei aktivem Dokument eine Taste gedr&uuml;ckt wurde. Wenn ja, wird deren Wert in einem Meldungsfenster ausgegeben.</p>







<table bgcolor=#EEEEEE class="doc" width=100%><tr><td>
<a href="#top"><img src="xgoup.gif" width=14 height=10 border=0></a><a href="#bottom"><img src="xgdown.gif" width=14 height=10 border=0></a>&#160;
</td></tr></table>
<h2 class="Sh2"><img src="xjavs12.gif" width=30 height=30 alt="JavaScript 1.2" border="0"><img src="xnetsi4.gif" width=30 height=30 alt="Netscape4.0" border="0"><img src="xjsread.gif" width=60 height=30 alt="Lesen" border="0"> <a class="an" name="a5">layerX, layerY</a></h2>

<p>Netscape-Syntax. Speichert die aktuelle Breite (layerX) und H&ouml;he (layerY) eines Objekts, wenn das Ereignis <tt>onresize</tt> &uuml;berwacht wird, oder die horizontalen Pixel (layerX) und die vertikalen Pixel (layerY) der Cursorposition relativ zur oberen linken Ecke eines Layer-Bereichs, wenn z.B. Mausereignisse &uuml;berwacht werden.</p>


<h3 class="xmp">Beispiel:</h3>
<table width=100% cellpadding=10><tr><td class="xmpcode" bgcolor=#FFFFE0><pre>
&lt;html&gt;&lt;head&gt;&lt;title&gt;Test&lt;/title&gt;
&lt;script language=&quot;JavaScript&quot;&gt;
function wResize(Ereignis)
{
 window.status = Ereignis.layerX + &quot;x&quot; + Ereignis.layerY; return true;
}  
window.onresize = wResize;
&lt;/script&gt;
&lt;/head&gt;&lt;body&gt;
&lt;/body&gt;&lt;/html&gt;
</pre></td></tr></table>

<h3 class="xpl">Erl&auml;uterung:</h3>

<p>Das Beispiel &uuml;berwacht, ob der Anwender das Anzeigefenster des Browsers ver&auml;ndert. Beim Ver&auml;ndern der Gr&ouml;&szlig;e des Anzeigefensters wird so oft wie m&ouml;glich die Handler-Funktion <tt>wResize</tt> aufgerufen. Diese schreibt in die Statuszeile des Browsers die aktuelle Fenstergr&ouml;&szlig;e.</p>



<table bgcolor=#EEEEEE class="doc" width=100%><tr><td>
<a href="#top"><img src="xgoup.gif" width=14 height=10 border=0></a><a href="#bottom"><img src="xgdown.gif" width=14 height=10 border=0></a>&#160;
</td></tr></table>
<h2 class="Sh2"><img src="xjavs12.gif" width=30 height=30 alt="JavaScript 1.2" border="0"><img src="xnetsi4.gif" width=30 height=30 alt="Netscape4.0" border="0"><img src="xjsread.gif" width=60 height=30 alt="Lesen" border="0"> <a class="an" name="a6">modifiers</a></h2>

<p>Netscape-Syntax. Speichert, ob Zusatztasten wie die ALT-Taste oder die Shift-Taste gemeinsam mit einer anderen Taste oder einem Mausklick gedr&uuml;ckt wurden.</p>


<h3 class="xmp">Beispiel:</h3>
<table width=100% cellpadding=10><tr><td class="xmpcode" bgcolor=#FFFFE0><pre>
&lt;html&gt;&lt;head&gt;&lt;title&gt;Test&lt;/title&gt;
&lt;script language=&quot;JavaScript&quot;&gt;
function ALT_Wert(Ereignis)
{
 if(Ereignis.modifiers &amp; Event.ALT_MASK)
  alert(&quot;Maus geklickt und ALT-Taste gedrueckt!&quot;)
}  
document.onmouseup = ALT_Wert;
&lt;/script&gt;
&lt;/head&gt;&lt;body&gt;
&lt;/body&gt;&lt;/html&gt;
</pre></td></tr></table>

<h3 class="xpl">Erl&auml;uterung:</h3>

<p>Im Beispiel wird das Meldungsfenster dann angezeigt, wenn der Anwender mit der Maus in das Dockument geklickt hat und gleichzeitig die ALT-Taste gedr&uuml;ckt h&auml;lt. Die verwendete Syntax benutzt Bit-Operatoren. Fragen Sie einfach so ab wie in dem Beispiel. Folgende Ausdr&uuml;cke sind erlaubt:<br>
<tt>Ereignis.modifiers &amp; Event.ALT_MASK</tt>, um die ALT-Taste abzufragen<br>
<tt>Ereignis.modifiers &amp; Event.CONTROL_MASK</tt>, um die Ctrl-Taste (Strg-Taste) abzufragen<br>
<tt>Ereignis.modifiers &amp; Event.SHIFT_MASK</tt>, um die Umschalt-Taste (Gro&szlig;schreibung) abzufragen<br>
<tt>Ereignis.modifiers &amp; Event.META_MASK</tt>, um die AltGr-Taste abzufragen</p>

<p>Diese Angaben sind nat&uuml;rlich abh&auml;ngig davon, ob die verwendete Tastatur eine solche Taste &uuml;berhaupt enth&auml;lt.</p>





<table bgcolor=#EEEEEE class="doc" width=100%><tr><td>
<a href="#top"><img src="xgoup.gif" width=14 height=10 border=0></a><a href="#bottom"><img src="xgdown.gif" width=14 height=10 border=0></a>&#160;
</td></tr></table>
<h2 class="Sh2"><img src="xmsjs.gif" width=30 height=30 alt="MSJScript" border="0"><img src="xmsie4.gif" width=30 height=30 alt="MS IE4.0" border="0"><img src="xjsread.gif" width=60 height=30 alt="Lesen" border="0"> <a class="an" name="a7">offsetX, offsetY</a></h2>

<p>Microsoft-Syntax. Speichert die horizontalen Pixel (clientX) und die vertikalen Pixel (clientY) der Cursorposition relativ zur oberen linken Ecke des Elements, das ein Ereignis ausgel&ouml;st hat.</p>


<h3 class="xmp">Beispiel:</h3>
<table width=100% cellpadding=10><tr><td class="xmpcode" bgcolor=#FFFFE0><pre>
&lt;html&gt;&lt;head&gt;&lt;title&gt;Test&lt;/title&gt;
&lt;script language=&quot;JScript&quot;&gt;
function Coords()
 {
  alert(&quot;Stelle im Button: &quot; + window.event.offsetX + &quot;/&quot; + window.event.offsetY);  
 }
&lt;/script&gt;
&lt;/head&gt;&lt;body&gt;
&lt;form&gt;
&lt;input type=button value=&quot;Klick doch mal auf mich drauf&quot; onClick=&quot;Coords()&quot;&gt;
&lt;/form&gt;
&lt;/body&gt;&lt;/html&gt;
</pre></td></tr></table>

<h3 class="xpl">Erl&auml;uterung:</h3>

<p>Das Beispiel enth&auml;lt ein Formular mit einem Button. Beim Anklicken des Buttons wird die Funktion <tt>Coords()</tt> aufgerufen. Diese gibt die Pixelkoordinaten des Mausklicks relativ zur oberen linken Ecke des Element, also des Buttons, aus.</p>







<table bgcolor=#EEEEEE class="doc" width=100%><tr><td>
<a href="#top"><img src="xgoup.gif" width=14 height=10 border=0></a><a href="#bottom"><img src="xgdown.gif" width=14 height=10 border=0></a>&#160;
</td></tr></table>
<h2 class="Sh2"><img src="xjavs12.gif" width=30 height=30 alt="JavaScript 1.2" border="0"><img src="xnetsi4.gif" width=30 height=30 alt="Netscape4.0" border="0"><img src="xjsread.gif" width=60 height=30 alt="Lesen" border="0"> <a class="an" name="a8">pageX, pageY</a></h2>

<p>Netscape-Syntax. Speichert die horizontalen Pixel (pageX) und die vertikalen Pixel (pageY) der Cursorposition relativ zur oberen linken Ecke der Seite, wenn z.B. Mausereignisse &uuml;berwacht werden.</p>


<h3 class="xmp">Beispiel:</h3>
<table width=100% cellpadding=10><tr><td class="xmpcode" bgcolor=#FFFFE0><pre>
&lt;html&gt;&lt;head&gt;&lt;title&gt;Test&lt;/title&gt;
&lt;script language=&quot;JavaScript&quot;&gt;
function LayerPos(Ereignis)
{
 document.layers[0].left = Ereignis.pageX;
 document.layers[0].top = Ereignis.pageY;
}  
document.onmouseup = LayerPos;
&lt;/script&gt;
&lt;/head&gt;&lt;body&gt;
&lt;layer top=50 left=50 width=100 height=100 bgcolor=#FFE0FF&gt;&lt;/layer&gt;
&lt;/body&gt;&lt;/html&gt;
</pre></td></tr></table>

<h3 class="xpl">Erl&auml;uterung:</h3>

<p>Das Beispiel enth&auml;lt einen Layer. Wenn der Anwender mit der Maus in das Fenster klickt und die Maustaste dann wieder losl&auml;&szlig;t, wird der Layer an die Position verschoben, an der die Maus losgelassen wurde.</p>



<table bgcolor=#EEEEEE class="doc" width=100%><tr><td>
<a href="#top"><img src="xgoup.gif" width=14 height=10 border=0></a><a href="#bottom"><img src="xgdown.gif" width=14 height=10 border=0></a>&#160;
</td></tr></table>
<h2 class="Sh2"><img src="xjavs12.gif" width=30 height=30 alt="JavaScript 1.2" border="0"><img src="xnetsi4.gif" width=30 height=30 alt="Netscape4.0" border="0"><img src="xjsread.gif" width=60 height=30 alt="Lesen" border="0"> <a class="an" name="a9">screenX, screenY</a></h2>

<p>Netscape-Syntax. Speichert die horizontalen Pixel (layerX) und die vertikalen Pixel (layerY) der Cursorposition absolut gesehen zum Bildschirm, wenn z.B. Mausereignisse &uuml;berwacht werden.</p>


<h3 class="xmp">Beispiel:</h3>
<table width=100% cellpadding=10><tr><td class="xmpcode" bgcolor=#FFFFE0><pre>
&lt;html&gt;&lt;head&gt;&lt;title&gt;Test&lt;/title&gt;
&lt;script language=&quot;JavaScript&quot;&gt;
function Position(Ereignis)
{
 alert(&quot;x-Wert: &quot; + Ereignis.screenX + &quot; / y-Wert: &quot; + Ereignis.screenY);
}  
document.onmousedown = Position;
&lt;/script&gt;
&lt;/head&gt;&lt;body&gt;
&lt;/body&gt;&lt;/html&gt;
</pre></td></tr></table>

<h3 class="xpl">Erl&auml;uterung:</h3>

<p>Das Beispiel &uuml;berwacht, ob der Anwender die Maustaste dr&uuml;ckt. Wenn ja, werden in einem Meldungsfester die absoluten Bildschirmkoordinaten ausgegeben, an denen die Maustaste gedr&uuml;ckt wurde.</p>





<table bgcolor=#EEEEEE class="doc" width=100%><tr><td>
<a href="#top"><img src="xgoup.gif" width=14 height=10 border=0></a><a href="#bottom"><img src="xgdown.gif" width=14 height=10 border=0></a>&#160;
</td></tr></table>
<h2 class="Sh2"><img src="xjavs12.gif" width=30 height=30 alt="JavaScript 1.2" border="0"><img src="xnetsi4.gif" width=30 height=30 alt="Netscape4.0" border="0"><img src="xjsread.gif" width=60 height=30 alt="Lesen" border="0"> <a class="an" name="a10">which</a></h2>

<p>Netscape-Syntax. Speichert bei Tastaturereignissen den dezimalen Code (ASCII/ANSI-Wert) der gedr&uuml;ckten Taste und bei Mausereignissen, welche Maustaste gedr&uuml;ckt wurde.</p>


<h3 class="xmp">Beispiel:</h3>
<table width=100% cellpadding=10><tr><td class="xmpcode" bgcolor=#FFFFE0><pre>
&lt;html&gt;&lt;head&gt;&lt;title&gt;Test&lt;/title&gt;
&lt;script language=&quot;JavaScript&quot;&gt;
function Position(Ereignis)
{
 alert(&quot;Maustaste: &quot; + Ereignis.which);
}  
document.onmousedown = Position;
&lt;/script&gt;
&lt;/head&gt;&lt;body&gt;
&lt;/body&gt;&lt;/html&gt;
</pre></td></tr></table>

<h3 class="xpl">Erl&auml;uterung:</h3>

<p>Das Beispiel &uuml;berwacht, ob der Anwender die Maustaste dr&uuml;ckt. Wenn ja, wird in einem Meldungsfester ausgegeben, welche Maustaste gedr&uuml;ckt wurde. Die linke Maustaste hat den Wert 1, die mittlere (sofern vorhanden) den Wert 2 und die rechte (sofern vorhanden) den Wert 3.</p>




<table bgcolor=#EEEEEE class="doc" width=100%><tr><td>
<a href="#top"><img src="xgoup.gif" width=14 height=10 border=0></a><a href="#bottom"><img src="xgdown.gif" width=14 height=10 border=0></a>&#160;
</td></tr></table>
<h2 class="Sh2"><img src="xjavs12.gif" width=30 height=30 alt="JavaScript 1.2" border="0"><img src="xnetsi4.gif" width=30 height=30 alt="Netscape4.0" border="0"><img src="xjsread.gif" width=60 height=30 alt="Lesen" border="0"> <a class="an" name="a11">type</a></h2>

<p>Netscape-Syntax. Speichert, welches Ereignis eingetreten ist. Der gespeicherte Wert ist der Name des Events ohne das Pr&auml;fix <tt>on</tt>, also beispielsweise <tt>mouseup</tt> oder <tt>keypress</tt> oder <tt>select</tt>.</p>


<h3 class="xmp">Beispiel:</h3>
<table width=100% cellpadding=10><tr><td class="xmpcode" bgcolor=#FFFFE0><pre>
&lt;html&gt;&lt;head&gt;&lt;title&gt;Test&lt;/title&gt;
&lt;script language=&quot;JavaScript&quot;&gt;
function Auswertung(Ereignis)
{
 alert(&quot;Ereignis: &quot; + Ereignis.type);
}  
document.onmouseup = Auswertung;
document.onkeyup = Auswertung;
&lt;/script&gt;
&lt;/head&gt;&lt;body&gt;
&lt;/body&gt;&lt;/html&gt;
</pre></td></tr></table>

<h3 class="xpl">Erl&auml;uterung:</h3>

<p>Das Beispiel &uuml;berwacht zwei Ereignisse, n&auml;mlich, ob der Anwender die Maustaste dr&uuml;ckt und ob er eine Taste dr&uuml;ckt. In beiden F&auml;llen wird die gleiche Handler-Funktion <tt>Auswertung</tt> aufgerufen. Sie gibt in einem Meldungsfester aus, welches der Ereignisse eingetreten ist.</p>



<table bgcolor=#EEEEEE class="doc" width=100%><tr><td>
<a href="#top"><img src="xgoup.gif" width=14 height=10 border=0></a><a href="#bottom"><img src="xgdown.gif" width=14 height=10 border=0></a>&#160;
</td></tr></table>
<h2 class="Sh2"><img src="xmsjs.gif" width=30 height=30 alt="MSJScript" border="0"><img src="xmsie4.gif" width=30 height=30 alt="MS IE4.0" border="0"> <a class="an" name="a12">x, y</a></h2>

<p>Speichert die horizontalen Pixel (x) und die vertikalen Pixel (y) der Cursorposition relativ zur oberen linken Ecke des Eltern-Elements von dem Element, das ein Ereignis ausgel&ouml;st hat. Wenn ein absolut positionierter Bereich das Eltern-Element ist, ist dessen obere linke Ecke der Bezugspunkt. Wenn das ausl&ouml;sende Element sonst kein Eltern-Element hat, gilt die linke obere Ecke des Dokuments als Bezug.</p>


<h3 class="xmp">Beispiel:</h3>
<table width=100% cellpadding=10><tr><td class="xmpcode" bgcolor=#FFFFE0><pre>
&lt;html&gt;&lt;head&gt;&lt;title&gt;Test&lt;/title&gt;
&lt;script language=&quot;JScript&quot;&gt;
function Coords()
 {
  alert(&quot;x = &quot; + window.event.x + &quot;/ y = &quot; + window.event.y);
 }
&lt;/script&gt;
&lt;/head&gt;&lt;body&gt;
&lt;div style=&quot;position:absolute; left:10px; top:140px;
background-color:#FFFFE0&quot;&gt;
&lt;p onClick=&quot;RelPos()&quot;&gt;Klick mich&lt;/p&gt;
&lt;/div&gt;
&lt;/body&gt;&lt;/html&gt;
</pre></td></tr></table>

<h3 class="xpl">Erl&auml;uterung:</h3>

<p>Das Beispiel enth&auml;lt einen absolut positionierten Bereich (<tt>&lt;div&gt;</tt>...<tt>&lt;/div&gt;</tt>) und innerhalb davon einen gew&ouml;hnlichen Textabsatz. Beim Anklicken des Absatzes wird die Funktion <tt>Coords()</tt> aufgerufen. Diese gibt die Pixelkoordinaten des Mausklicks aus. Eigentlich sollten sich die Werte dabei auf die linke obere Ecke des <tt>&lt;div&gt;</tt>-Bereichs beziehen. Beim Testen taten sie das jedoch nicht, sondern bezogen sich auf das Anzeigefenster.</p>









<table cellpadding=4 cellspacing=1 width=100%>
<tr><td colspan=2 bgcolor=#EEEEEE class="doc">
<a href="#top"><img src="xgoup.gif" width=14 height=10 border=0></a>
</td></tr>
<tr><td bgcolor=#EEEEEE class="doc" align=right width=110>weiter:<a href="tecbd.htm"><img src="xgnext.gif" width=10 height=10 border=0 hspace=10></a></td>
<td bgcolor=#FFFFFF width=100%><img src="x3.gif" width=15 height=10 border=0> <a href="tecbd.htm"><b>history</b></a>
</td></tr>
<tr>
<td bgcolor=#EEEEEE class="doc" align=right width=110>zur&uuml;ck:<a href="tecbbg.htm"><img src="xgprev.gif" width=10 height=10 border=0 hspace=10></a></td>
<td bgcolor=#FFFFFF width=100%><img src="x3.gif" width=15 height=10 border=0> <a href="tecbbg.htm"><b>links</b></a>
</td>
</tr>
<tr><td colspan=2 bgcolor=#EEEEEE class="doc">&#160;</td></tr>
</table>
<hr noshade size=1>
<p><nobr><img src="x2.gif" width=16 height=13 border=0> <a href="selfhtml.htm"><b>SELFHTML</b></a>/<a href="tq.htm" target="_parent">Quickbar</a>&#160;
<img src="x2.gif" width=16 height=13 border=0> <a href="te.htm"><b>JavaScript</b></a>&#160;
<img src="x2.gif" width=16 height=13 border=0> <a href="tec.htm"><b>Objekt-Referenz</b></a></nobr></p>
<p><nobr><a class="an" name="bottom">&copy; 1998</A> <img src="xgmail.gif" width=15 height=10 border=0>&nbsp;<a href="mailto:muenz@csi.com">Stefan M&uuml;nz, muenz@csi.com</a></nobr></p>


</body>
</html>