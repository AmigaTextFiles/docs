<html>
<head>
<title>SELFHTML: CGI/Perl / Perl-Sprachelemente / Vordefinierte Variablen in Perl</title>
<meta name="description" content="(SELFHTML 7.0) Welche vordefinierten Variablen es in Perl gibt und wozu sie gedacht sind.">
<meta name="keywords" content="SELFHTML, Perl, Variablen, Skalare, Listen, Hashs, Umgebungsvariablen, vordefinierte Variablen">
<link rel=stylesheet type="text/css" href="wselfhtm.css"> 
</head>
<body bgcolor=#FFFFFF text=#000000 link=#AA5522 vlink=#772200 alink=#000000>

<p><nobr><a class="an" name="top"><img src="x2.gif" width=16 height=13 border=0></a> <a href="selfhtml.htm"><b>SELFHTML</b></a>/<a href="tq.htm" target="_parent">Quickbar</a>&#160;
<img src="x2.gif" width=16 height=13 border=0> <a href="tg.htm"><b>CGI/Perl</b></a>&#160;
<img src="x2.gif" width=16 height=13 border=0> <a href="tgc.htm"><b>Perl-Sprachelemente</b></a></nobr></p>
<hr noshade size=1>
<table cellpadding=4 cellspacing=1 width=100%>
<tr>
<td bgcolor=#EEEEEE class="doc" width=110><img src="xweb.gif" width=106 height=109></td>
<td bgcolor=#EEEEEE class="doc" valign=bottom width=100%><h2>Vordefinierte Variablen in Perl</h2></td>
</tr>
<tr>
<td bgcolor=#EEEEEE class="doc" valign=top align=center>
<img src="x5.gif" width=30 height=20 vspace=6 border=0 alt="Diese Seite ist ein Dokument mit Informationstext">
</td>
<td bgcolor=#FFFFFF valign=top nowrap>

<p>
<img src="xgdown.gif" width=14 height=10 border=0>&nbsp;<a href="#a1"><b>Allgemeines zu vordefinierten Variablen</b></a> <br>
<img src="xgdown.gif" width=14 height=10 border=0>&nbsp;<a href="#a2"><b>Vordefinierte Skalare</b></a><br>
<img src="xgdown.gif" width=14 height=10 border=0>&nbsp;<a href="#a3"><b>Vordefinierte Listen und Hashs</b></a><br>
<img src="xgdown.gif" width=14 height=10 border=0>&nbsp;<a href="#a4"><b>Perl-eigene Umgebungsvariablen</b></a>
</p>

</td>
</tr><tr><td colspan=2 bgcolor=#EEEEEE class="doc"><a href="#bottom"><img src="xgdown.gif" width=14 height=10 border=0></a>&#160;</td></tr>
</table>



<h2 class="Sh2"><a class="an" name="a1">Allgemeines zu vordefinierten Variablen</a></h2>

<p>Perl h&auml;lt eine F&uuml;lle spezieller, vordefinierter Variablen bereit. Den Inhalt dieser Variablen k&ouml;nnen Sie auslesen, um Informationen zur aktuellen Perl-Konfiguration zu ermitteln, oder um die Systemkonfiguration des Rechners, auf das Script und der Perl-Interpreter laufen, zu ermitteln. Einige der Variablen haben je nach Prozedur-Situation bestimmte Inhalte. Diese M&ouml;glichkeiten sollten Sie jedoch erst nutzen, wenn Sie mit Perl gut vertraut sind.</p>




<table bgcolor=#EEEEEE class="doc" width=100%><tr><td>
<a href="#top"><img src="xgoup.gif" width=14 height=10 border=0></a><a href="#bottom"><img src="xgdown.gif" width=14 height=10 border=0></a>&#160;
</td></tr></table>
<h2 class="Sh2"><a class="an" name="a2">Vordefinierte Skalare</a></h2>

<p>Die folgende Liste ist nicht vollst&auml;ndig, sondern enth&auml;lt nur einige wichtige vordefinierte Skalare.</p>

<table cellpadding=3>
<tr>
<th bgcolor=#EEEEEE class="doc" align=left>Skalar</th>
<th bgcolor=#EEEEEE class="doc" align=left>Erl&auml;uterung</th>
<th bgcolor=#EEEEEE class="doc" align=left>Beispiel</th>
</tr>
<tr>
<td class="code" bgcolor=#FFFFE0 valign=top nowrap><tt>$_</tt></td>
<td class="tabxpl" bgcolor=#EEEEFF valign=top>Die bekannteste vordefinierte Variable in Perl. Sie enth&auml;lt in Suchl&auml;ufen (z.B. bei der Suche in einer Liste) den jeweils aktuellen Wert. Sie kann direkt in die Suche integriert werden, ohne da&szlig; eine selbst definierte Variable erforderlich ist. Das nebenstehende Beispiel gibt einfach der Reihe nach alle Zahlen aus, die in der Liste <tt>@Zahlen</tt> definiert wurden.</td>
<td class="code" bgcolor=#FFFFE0 valign=top nowrap><tt>
@Zahlen = (1..10);<br>
for(@Zahlen)<br>
 { print $_, &quot;\n&quot;; }
 </tt></td>
</tr>
<tr>
<td class="code" bgcolor=#FFFFE0 valign=top nowrap><tt>$.</tt></td>
<td class="tabxpl" bgcolor=#EEEEFF valign=top>Enth&auml;lt die aktuelle Zeilennummer der zuletzt eingelesenen Datei. Im nebenstehenden Beispiel werden alle Zeilen einer Textdatei eingelesen und ausgegeben. Am Ende kann <tt>$.</tt> dar&uuml;ber Auskunft geben, wie viele Zeilen eingelesen wurden.</td>
<td class="code" bgcolor=#FFFFE0 valign=top nowrap><tt>
open(DATEI, &quot;&lt;readme.txt&quot;);<br>
while(&lt;DATEI&gt;)<br>
 { print $_; }<br>
print $., &quot; Zeilen gelesen&quot;;<br>
close(DATEI);
</tt></td>
</tr>
<tr>
<td class="code" bgcolor=#FFFFE0 valign=top nowrap><tt>$/</tt></td>
<td class="tabxpl" bgcolor=#EEEEFF valign=top>Enth&auml;lt den eingestellten Eingabeseparator. Kann ge&auml;ndert werden - auch mehrere Zeichen sind erlaubt. Das nebenstehende Beispiel bewirkt, da&szlig; eine Eingabe von der Standardeingabe erst dann abgeschlossen ist, wenn der Anwender die Zeichenfolge ENDE eingibt und &lt;Return&gt; dr&uuml;ckt.</td>
<td class="code" bgcolor=#FFFFE0 valign=top nowrap><tt>
$/ = &quot;ENDE&quot;;<br>
$DeinName = &lt;STDIN&gt;;<br>
print $DeinName;
</tt></td>
</tr>
<tr>
<td class="code" bgcolor=#FFFFE0 valign=top nowrap><tt>$]</tt></td>
<td class="tabxpl" bgcolor=#EEEEFF valign=top>Enth&auml;lt die Versionsnummer des verwendeten Perl-Interpreters. Gut geeignet, um bei Scripts die Ausf&uuml;hrung des restlichen Programmcodes davon abh&auml;ngig zu machen, da&szlig; der Perl-Interpreter mindestens eine bestimmte Versionsnummer hat.</td>
<td class="code" bgcolor=#FFFFE0 valign=top nowrap><tt>
if($] &lt; 5)<br>
 { die &quot;Perl-Interpreter zu alt&quot;; }<br>
else { print $]; }
</tt></td>
</tr>
<tr>
<td class="code" bgcolor=#FFFFE0 valign=top nowrap><tt>$!</tt></td>
<td class="tabxpl" bgcolor=#EEEEFF valign=top>Enth&auml;lt eine im aktuellen Programm-Kontext aktuelle Fehlermeldung oder Fehlernummer, sofern ein Fehler aufgetreten ist. Die nebenstehende Anweisung versucht eine Datei zu &ouml;ffnen und gibt im Fehlerfall die vordefinierte Perl-Fehlermeldung aus, wenn die Datei nicht ge&ouml;ffnet werden kann.</td>
<td class="code" bgcolor=#FFFFE0 valign=top nowrap><tt>
open(DATEI, &quot;&lt;nixda.txt&quot;) || print $!;
</tt></td>
</tr>
<tr>
<td class="code" bgcolor=#FFFFE0 valign=top nowrap><tt>$0</tt></td>
<td class="tabxpl" bgcolor=#EEEEFF valign=top>Enth&auml;lt den Dateinamen des Perl-Scripts, das gerade ausgef&uuml;hrt wird. Wert kann ge&auml;ndert werden.</td>
<td class="code" bgcolor=#FFFFE0 valign=top nowrap><tt>
print $0, &quot; wird ausgefuehrt!&quot;;
</tt></td>
</tr>
<tr>
<td class="code" bgcolor=#FFFFE0 valign=top nowrap><tt>$$</tt></td>
<td class="tabxpl" bgcolor=#EEEEFF valign=top>Enth&auml;lt die Proze&szlig;-ID des Perl-Scripts, das gerade ausgef&uuml;hrt wird. Vor allem unter Unix von Interesse.</td>
<td class="code" bgcolor=#FFFFE0 valign=top nowrap><tt>
&quot;Prozess  &quot;, $$, &quot; wird ausgefuehrt!&quot;;
</tt></td>
</tr>
<tr>
<td class="code" bgcolor=#FFFFE0 valign=top nowrap><tt>$^T</tt></td>
<td class="tabxpl" bgcolor=#EEEEFF valign=top>Enth&auml;lt den genauen Zeitpunkt (Millisekunden), zu dem das Script gestartet wurde. Das nebenstehende Beispiel stellt einen kleinen Benchmark-Test dar. Es f&uuml;hrt eine lange Schleife von Berechnungen durch und ermittelt, wie lange das Perl-Script dazu braucht.</td>
<td class="code" bgcolor=#FFFFE0 valign=top nowrap><tt>
@Zahlen = (1..50000);<br>
for(@Zahlen) { $x = sqrt($_); }<br>
$Start = $^T; $Jetzt = time;<br>
print &quot;Laufzeit: &quot;, $Jetzt - $Start, &quot; ms\n&quot;;
</tt></td>
</tr>
<tr>
<td class="code" bgcolor=#FFFFE0 valign=top nowrap><tt>$&amp;</tt></td>
<td class="tabxpl" bgcolor=#EEEEFF valign=top>Enth&auml;lt nach Anwenden eines <img src="x3.gif" width=15 height=10 border=0>&nbsp;<a href="tgcg.htm"><b>regul&auml;ren Ausdrucks</b></a> den Wert, auf den das Suchmuster pa&szlig;te.</td>
<td class="code" bgcolor=#FFFFE0 valign=top nowrap><tt>
$Satz = &quot;Mann und Frau&quot;;<br>
$Satz =~ /\bund\b.*/;<br>
print $&;
</tt></td>
</tr>
<tr>
<td class="code" bgcolor=#FFFFE0 valign=top nowrap><tt>$+</tt></td>
<td class="tabxpl" bgcolor=#EEEEFF valign=top>Enth&auml;lt nach Anwenden eines <img src="x3.gif" width=15 height=10 border=0>&nbsp;<a href="tgcg.htm#a7"><b>regul&auml;ren Ausdrucks mit Klammern</b></a> den Inhalt der Klammer, die mit dem letzten Suchmuster &uuml;bereinstimmte.</td>
<td class="code" bgcolor=#FFFFE0 valign=top nowrap><tt>
$Satz = &quot;Mann und Frau&quot;;<br>
$Satz =~ /(\bund\b).*/;<br>
print $+;
</tt></td>
</tr>
<tr>
<td class="code" bgcolor=#FFFFE0 valign=top nowrap><tt>$1, $2, usw.</tt></td>
<td class="tabxpl" bgcolor=#EEEEFF valign=top>Enth&auml;lt nach Anwenden eines regul&auml;ren Ausdrucks mit Klammern die Werte der Klammern 1, 2 usw., auf die das in der jeweiligen Klammer definierte Suchmuster pa&szlig;te.</td>
<td class="code" bgcolor=#FFFFE0 valign=top nowrap><tt>
$Satz = &quot;Mann und Frau und Kind&quot;;<br>
$Satz =~ /(\bund\b).*\1/;<br>
print $1;
</tt></td>
</tr>
</table>


<p>&#160;</p>



<table bgcolor=#EEEEEE class="doc" width=100%><tr><td>
<a href="#top"><img src="xgoup.gif" width=14 height=10 border=0></a><a href="#bottom"><img src="xgdown.gif" width=14 height=10 border=0></a>&#160;
</td></tr></table>
<h2 class="Sh2"><a class="an" name="a3">Vordefinierte Listen und Hashs</a></h2>


<p>Die folgende Liste ist nicht vollst&auml;ndig, sondern enth&auml;lt nur einige wichtige vordefinierte Listen- und Hash-Variablen.</p>

<table cellpadding=3>
<tr>
<th bgcolor=#EEEEEE class="doc" align=left>Liste/Hash</th>
<th bgcolor=#EEEEEE class="doc" align=left>Erl&auml;uterung</th>
<th bgcolor=#EEEEEE class="doc" align=left>Beispiel</th>
</tr>
<tr>
<td class="code" bgcolor=#FFFFE0 valign=top nowrap><tt>@_</tt></td>
<td class="tabxpl" bgcolor=#EEEEFF valign=top>Enth&auml;lt die Parameter, die beim Aufruf eines <img src="x3.gif" width=15 height=10 border=0>&nbsp;<a href="tgci.htm#a1"><b>Unterprogramms</b></a> &uuml;bergeben wurden. Innerhalb des Unterprogramms sind die &uuml;bergebenen Parameter mit <tt>$_[0]</tt> (= erster Parameter), <tt>$_[1]</tt> (= zweiter Parameter) usw. ansprechbar.</td>
<td class="code" bgcolor=#FFFFE0 valign=top nowrap><tt>
&amp;Sprich(&quot;Hallo Welt&quot;);<br>
sub Sprich<br>
{<br>
 print $_[0];<br>
}<br>
</tt></td>
</tr>
<tr>
<td class="code" bgcolor=#FFFFE0 valign=top nowrap><tt>@ARGV</tt></td>
<td class="tabxpl" bgcolor=#EEEEFF valign=top>Enth&auml;lt die Parameter, die beim Aufruf des Perl-Scripts mit &uuml;bergeben wurden. Wenn z.B. <tt>perl test.pl meintext.txt</tt> eingegeben wurde, ist <tt>meintext.txt</tt> der erste Parameter aus Sicht des Perl-Scripts. Das Script kann Parameter als Input f&uuml;r den Programmablauf auswerten. Im nebenstehenden Beispiel wird der erste &uuml;bergebene Parameter <tt>$ARGV[0]</tt> als Dateiname interpretiert. Das Script versucht, diese Datei zu &ouml;ffnen.</td>
<td class="code" bgcolor=#FFFFE0 valign=top nowrap><tt>
open(DATEI, &quot;&lt;$ARGV[0]&quot;) || die &quot;Fehler!&quot;;<br>
print $ARGV[0], &quot; geoeffnet!&quot;;<br>
close(DATEI);
</tt></td>
</tr>
<tr>
<td class="code" bgcolor=#FFFFE0 valign=top nowrap><tt>%ENV</tt></td>
<td class="tabxpl" bgcolor=#EEEEFF valign=top>Enth&auml;lt die komplette Rechnerumgebung, wie Sie dem Perl-Interpreter bekannt ist (geladene Treiber, Systemprogramme usw.). Das nebenstehende Beispiel gibt die Elemente der in diesem Hash gespeicherten Daten aus.</td>
<td class="code" bgcolor=#FFFFE0 valign=top nowrap><tt>
for(%ENV)<br>
 { print $_, &quot;\n&quot;; }
</tt></td>
</tr>
</table>

<p>&#160;</p>


<table bgcolor=#EEEEEE class="doc" width=100%><tr><td>
<a href="#top"><img src="xgoup.gif" width=14 height=10 border=0></a><a href="#bottom"><img src="xgdown.gif" width=14 height=10 border=0></a>&#160;
</td></tr></table>
<h2 class="Sh2"><a class="an" name="a4">Perl-eigene Umgebungsvariablen</a></h2>

<p>Perl benutzt Umgebungsvariablen vor allem, um dem Perl-Interpreter bestimmte Suchverzeichnisse zu bezeichnen. Die folgende Liste ist nicht vollst&auml;ndig, sondern enth&auml;lt nur einige wichtige vordefinierte Umgebungsvariablen. Den Inhalt einer Umgebungsvariablen k&ouml;nnen Sie mit einer Anweisung wie <tt>$Wert = $ENV{'PATH'};</tt> abfragen. Wichtig ist dabei die Verwendung von <tt>$ENV{'Variablenname'}</tt> - der Name der Variablen mu&szlig; in geschweiften Klammern stehen und sollte durch einfache Anf&uuml;hrungszeichen eingeschlossen sein.</p>


<table cellpadding=3>
<tr>
<th bgcolor=#EEEEEE class="doc" align=left>Variable</th>
<th bgcolor=#EEEEEE class="doc" align=left>Erl&auml;uterung</th>
</tr>
<tr>
<td class="code" bgcolor=#FFFFE0 valign=top nowrap><tt>HOME</tt></td>
<td class="tabxpl" bgcolor=#EEEEFF valign=top>Enth&auml;lt das Verzeichnis, zu dem gesprungen werden soll, wenn eine chdir-Anweisung keine Parameter enth&auml;lt (Unix-typisch)</td>
</tr>
<tr>
<td class="code" bgcolor=#FFFFE0 valign=top nowrap><tt>PATH</tt></td>
<td class="tabxpl" bgcolor=#EEEEFF valign=top>Enth&auml;lt den kompletten Pfad, d.h. alle Verzeichnisse, in denen nach ausf&uuml;hrbaren Programmen gesucht werden soll. Wird von Perl benutzt, wenn aus einem Perl-Script andere Perl-Scripts aufgerufen werden, deren Lage nicht n&auml;her angegeben ist.</td>
</tr>
</table>


<p>&#160;</p>


<table cellpadding=4 cellspacing=1 width=100%>
<tr><td colspan=2 bgcolor=#EEEEEE class="doc">
<a href="#top"><img src="xgoup.gif" width=14 height=10 border=0></a>
</td></tr>

<tr><td bgcolor=#EEEEEE class="doc" align=right width=110>weiter:<a href="tgcd.htm"><img src="xgnext.gif" width=10 height=10 border=0 hspace=10></a></td>
<td bgcolor=#FFFFFF><img src="x3.gif" width=15 height=10 border=0> <a href="tgcd.htm"><b>Bedingte Anweisungen</b></a>
</td></tr>
<tr>
<td bgcolor=#EEEEEE class="doc" align=right width=110>zur&uuml;ck:<a href="tgcb.htm"><img src="xgprev.gif" width=10 height=10 border=0 hspace=10></a></td>
<td bgcolor=#FFFFFF width=100%><img src="x3.gif" width=15 height=10 border=0> <a href="tgcb.htm"><b>Variablen und Datentypen</b></a>
</td>
</tr>
<tr><td colspan=2 bgcolor=#EEEEEE class="doc">&#160;</td></tr>
</table>
<hr noshade size=1>
<p><nobr><img src="x2.gif" width=16 height=13 border=0> <a href="selfhtml.htm"><b>SELFHTML</b></a>/<a href="tq.htm" target="_parent">Quickbar</a>&#160;
<img src="x2.gif" width=16 height=13 border=0> <a href="tg.htm"><b>CGI/Perl</b></a>&#160;
<img src="x2.gif" width=16 height=13 border=0> <a href="tgc.htm"><b>Perl-Sprachelemente</b></a></nobr></p>
<p><nobr><a class="an" name="bottom">&copy; 1998</A> <img src="xgmail.gif" width=15 height=10 border=0>&nbsp;<a href="mailto:muenz@csi.com">Stefan M&uuml;nz, muenz@csi.com</a></nobr></p>



</body>
</html>