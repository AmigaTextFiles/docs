w95key.asm
----------

This is a simple update to the IBMKEY25.ASM project, by Stephen Marsden.
When I want to add an external kbd to my A1200T, I build the Epicv1.2 and 
burned a PIC with the code of IBMKEY25.HEX. I was quite satisfied about 
this project, because I don't need to cut anything (so I can still use the
original A1200 kbd, in case of problem), but there is a problem: 
with italian layout of the keyboard, the key just next to the right shift 
is NOT the '/' key, but the '-' key.
Because of a small programming bug, Stephen put as code of the '/' key on the 
keypad the same keycode of the key I said above, so that when I load the 
italian.keymap I press the '/' key and I get '-'. I think this is a common problem
for many nationalized keyboards.
So I studied the source of the IBMKEY25.ASM and I found the patch to make.
Look at line 279 of IBMKEY25.ASM: 
        retlw       0x8B            ;/key, supposedly
this has to be modified as:
        retlw       0x47            ;/ Keypad - NOTE: 0x8B is wrong here!!


Moreover, to 'compile' the code I have only the PicAsm by Timo Rossi (v1.00 
is freely available on aminet and v1.06 is present at Timo's homepage), 
so I also modified from the original MPASM syntax.

The result is w95key.asm.
In the package you find also the .hex file (IHX8M) and the .lst file, so 
if you want to try, you have only to take your PIC programmer and burn the code.


For contacts, e-mail me at: kirov@ftp.unina.it.


Happy burning!

Massimo Gais