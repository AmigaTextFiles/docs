Long-Distance Interface
Für Telemetrie-Wetterstation

Bei Conrad-Electronic in Hirschau gibt es seit einiger Zeit eine "Telemetrie - Wetterstation", 
die ihre Daten zur Auswertung an einen Computer schickt. Die Strecke zwischen Wetterstat-
ion und Computer kann dabei auf unterschiedliche Arten überbrückt werden:

	1. Direktes Kabel mit Schnittstellenadapter (maximal 2 Meter)
	2. Drahtlos (sehr teuer und Daten unsicher)
	3. Per Speichermodul (Modul muss rechtzeitig ausgelesen werden)

Jede der Möglichkeiten hat dabei Vor- und Nachteile:

	- Das Speichermodul ist recht umständlich in der Handhabung und muss rechtzeitig 
ausgelesen werden. Vergisst man es - Pech

	- Die drahtlose Übertragung mit Telemetrie-Sender und -Empfänger ist recht kost-
spielig (ca. 200,-DM) und unsicher. Die übertragenen Werte schwanken recht stark.

	- Die direkte Kabelverbindung ist zwar kostengünstig und sicher, aber nur für kurze 
Entfernungen zu gebrauchen (bis zu 2 Meter) 


Eine vierte Lösung
Mit meinem "Long-Distance-Interface" biete ich nun eine vierte Möglichkeit. Und zwar eine 
direkte Kabelverbindung, die günstiger und sicherer als drahtlose Übertragung ist und 
gleichzeitig große Entfernungen (bis zu 100 Meter) überbrücken kann. Zusätzlich hat man 
nach leichter Modifikation die Möglichkeit, mehrere Computer anzuschließen oder sich an 
jedem beliebigen Punkt der Kabelverbindung "einzuklinken". Wenn die Verlegung eines dün-
nen Fernmeldekabels nicht zu aufwendig ist, sollte man es machen.

Das Prinzip
Das Prinzip meiner Hardware ist dabei recht simpel. An der Wetterstation werden die 
seriellen Daten auf RS422-Pegel gebracht und am Computer werden sie auf einen Pegel 
umgesetzt, der von der RS232-Schnittstelle verarbeitet werden kann. Das Datenkabel zwi-
schen Sender (Wetterstation-->RS422) und Empfänger (RS422-->RS232) muss mindestens 
zwei potentialfreie Adern besitzen. Sie dürfen also keine elektrische Verbindung zu anderen 
Bauteilen haben.

RS-422
Die Störanfälligkeit der Datenstrecke ist praktisch Null, weil eine RS422 mit Differenz-
spannungen arbeitet und nur entgegengesetzte Polaritäten auf der Leitung als Daten inter-
pretiert. Elektrische Störungen,die von außen einwirken, beeinträchtigen beide Daten-Adern 
gleichzeitig in gleicher Höhe und werden bereits von der Hardware ignoriert.
Ein RS422-Datenkabel muss (wie Antennen- und SCSI-Kabel) an beiden Enden mit je ei-
nem Widerstand abgeschlossen (terminiert) sein. Bei der Zeichnung der Schaltpläne gehe 
ich von einer Punkt-zu-Punkt Verbindung zwischen einem Computer und der Wetterstation 
aus. Den elektrischen Abschluss bildet in den Schaltungen jeweils Widerstand R3. Diese 
Widerstände kann man aber auch an die beiden Enden des Datenkabels anschließen und 
sowohl Wetterstation (Sender) als auch Computer (Empfänger - auch mehrere) ohne 
Abschlusswiderstand an jedem beliebigen Punkt des Datenkabels anschließen. Wichtig da-
bei ist nur, dass das Kabel aus einem Strang besteht und keine Abzweigungen enthält.

Anschluss des Datenkabels
Eine Besonderheit gilt es beim Anschluss des Datenkabels zu beachten. Normalerweise 
werden die Anschlusspunkte "A" und "B" des Senders mit den gleichnamigen Punkten 
der/des Empfänger/s verbunden. Bei meiner Schaltung ist es nun so, dass der Signalpegel 
im Sender einmal zuviel invertiert wird. Es ist daher erforderlich, das Signal ein weiteres mal 
zu invertieren. Dies wird durch vertauschen der Datenleitungen erreicht. Im Schaltplan des 
Senders habe ich die Punkte "A" und "B" daher in Klammern gesetzt,weil dies nicht wirklich 
die Punkte "A" und "B" sind. Verbinden Sie also Anschluss "(A)" des Senders mit Anschluss 
"A" des Empfängers und Anschluss "(B)" mit Anschluss "B". 

Der Sender
Der von mir entwickelte Sender ist speziell auf die Telemetrie-Wetterstation abgestimmt und 
muss für andere Einsatzzwecke entsprechend modifiziert werden. Angeschlossen wird der 
Sender an Steckerleiste "X4" der Wetterstation. Von links nach rechts liegen hier die Signale 
<Vcc>, <nicht benötigt>, <TXD> und <GND>. Die Farben, die ich im Schaltplan eingetragen 
habe, sollten mit denen des mitgelieferten Flachbandkabels übereinstimmen. Die weiße 
Ader wird bekanntermaßen an <GND> (rechter Stift von X4) angeschlossen. 

Der Festspannungsregler "IC1" muss unbedingt ein Low-Drop-Regler sein,weil die Betriebs-
spannung der Wetterstation nur 6,5 Volt beträgt und normale Festspannungsregler minde-
stens 3 Volt zur Ausregelung benötigen und dann keine 5 Volt mehr erzeugen können. Ein 
Low-Drop-Regler dagegen benötigt maximal 1 Volt und die Ausgangsspannung kann auf 
etwa 5 Volt gegen GND stabilisieret werden. Diese Spannung wird direkt an IC2, welcher als 
RS422-Treiber geschaltet ist, gelegt. Die Komponenten R1, R2 und T1 formen das Daten-
signal der Wetterstation zu einem TTL-Signal, welches von IC2 verarbeitet werden kann. 
Das serielle Ausgangssignal liegt an Pin 6 und 7 von IC2.

Der Empfänger
Die Empfängerschaltung ist, so wie ich sie veröffentliche, zum Anschluss ein die interne 
serielle Schnittstelle eines Amiga 500, 600, 2000, 3000(T) und 4000(T) gedacht, weil die 
Betriebsspannung direkt der Schnittstelle entnommen wird. Wenn der Empfänger an einem 
Allerwelts-PC oder einem Amiga mit Schnittstellenkarte angeschlossen werden soll, ist ein 
zusätzliches Netzteil notwendig. Dies kann entweder ein Steckernetzgerät (12V=/100mA, 
Pluspol an Pin 1 von IC1 und Minuspol an Emitter "E" von T1) oder ein Modul-Kleinnetzteil 
(5V=/100mA, z.B. von Conrad-Electronic, Best.-Nr: 195405) sein. Letzteres wird mit seinem 
Pluspol direkt an den im Schaltplan markierten "+5Volt"-Anschluss angeschlossen. Der Mi-
nuspol wird mit "E" von T1 verbunden. Bei verwenden eines Modul-Netzteiles entfallen die 
Bauteile "IC1" und "C2". Die Ausführung mit separatem Netzteil kann übrigens an jeder 
seriellen Schnittstelle angeschlossen werden.
Die stabilisierte Betriebsspannung wird zum Betrieb von IC2 benötigt. Dieses ist hier als 
RS422-Empfänger geschaltet und erhält die Daten über ein potentialfreies Kabel an Pin 6 
und 7. Der Ausgang (Pin 1) ist über R1 an +Ub gepullt und steuert direkt den Transistor T1. 
Das "DTR"-Signal der RS232-Schnittstelle (Pin 20 bzw. 4) liefert die Signalspannung für den 
Schnittstellen-Wandler, welcher aus T1 und R2 besteht. Der Signalpegel am Emitter ("E") 
von T1 wechselt im Rythmus des Datenstromes zwischen 0Volt und +5Volt. Dieses Signal 
sollte von jeder RS232-Schnittstelle auswertbar sein.

Die RS232-Schnittstelle
Fast jeder Computer hat wenigstens eine serielle RS232-Schnittstelle. Diese ist meistens als 
25-polige oder 9-polige Sub-D Stiftleiste herausgeführt. Die 9-polige Ausführung liefert dabei 
nur die unbedingt notwendigen Signale. Die interne serielle Schnittstelle eines Amiga 
(25-polige Sub-D Stiftleiste) liefert über Pin 9 zusätzlich noch eine Spannung von +12Volt.

Aufgrund der unterschiedlichen Belegungen habe ich im Schaltplan des Empfängers den 
RS232-Schnittstellenanschluss in dreifacher Ausfertigung gezeichnet. Entscheiden Sie sich 
bitte nur für einen:

	1. "25-polig an Original Amiga-Serialport" sollten Sie nur dann wählen, wenn Sie den 
Empfänger ausschließlich am internen seriellen Port eines Amiga betreiben. Sie 
sparen dadurch ein separates Netzgerät ein.

	2. "25-polig an PC oder Schnittstellenkarte" sollten Sie auswählen, wenn Sie den 
Empfänger sowohl am Amiga als auch an einem PC anschließen möchten. Auch, 
wenn Sie die Schaltung an einer zusätzlichen Schnittstellenkarte am Amiga betrei-
ben möchten, sollten Sie diese Buchse wählen. Zum Anschluss an eine 9-polige 
Schnittstelle des Rechners können Sie dann handelsübliche Adapter nutzen.

	3. "9-polig an PC oder Schnittstellenkarte" sollten Sie auswählen, wenn Ihre Compu-
ter (Amiga oder PC) mit einem 9-poligen Schnittstellenanschluss ausgerüstet sind 
(beim Amiga ist die nur mit zusätzlicher Schnittstellenkarte der Fall). Zum 
Anschluss an 25-polige Schnittstellen können Sie handelsübliche Adapter nutzen.     

Abschließend
Ich hoffe, dass mich jeder deutschsprachige Bastler einigermaßen verstanden hat. Da ich 
die Bastelei nur nebenbei als Hobby habe, lege ich keinen Wert auf DIN-Schaltzeichen und 
Normen und zeichne so, wie ich es früher mal aus Büchern gelernt habe.

Wenn Sie mein "Long-Distance-Interface" aufgebaut haben und/oder nutzen, schreiben Sie 
mir doch mal eine kleine E-Mail. Nur um mir zu zeigen, dass ich diese Anleitung nicht ganz 
vergebens geschrieben habe. 

Kontakt:	AC-Techno@T-Online.de
		AC-Techno@gmx.de
WWW:		http://home.t-online.de/home/ac-techno/index.htm



