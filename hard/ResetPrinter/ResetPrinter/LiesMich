
        ResetPrinter
        ============

     von Andreas Günther


Diese Hardware-/Software-Erweiterung erlaubt es, die Reset-Leitung
am parallelen Anschluß per Software zu steuern. Dadurch ist es
möglich, einen angeschlossenen Drucker jederzeit zurückzusetzen,
insbesondere nach einem abgebrochenen Druckvorgang.
Alle Funktionen der Schnittstelle bleiben dabei vollständig erhalten.

Diese Erweiterung arbeitet nur am eingebauten parallelen Anschluß !
Kickstart 2.0 oder höher ist erforderlich !




Einleitung
¯¯¯¯¯¯¯¯¯¯
Viele Druckerbesitzer werden das Problem sicherlich kennen:
Die meisten Programme bieten beim Drucken eine Möglichkeit, den
Druckvorgang abzubrechen. Nutzt man das aus und bricht den
Ausdruck tatsächlich ab, so klappt dies meist auch. Versucht
man jedoch anschließend, nochmal etwas auszudrucken, so befindet
sich der Drucker meist in einem undefinierten Zustand (z.B. im
Grafikmodus) und das Ergebnis sind wirre Zeichenfolgen, Blattvorschübe
oder ähnlich chaotische Sachen...

Ein Reset per Software, also das Senden einer bestimmten Reset-
Zeichenfolge zum Drucker, führt leider nicht immer zum Erfolg, z.B.
wenn der Drucker gerade eine Grafikzeile empfangen hat. Also blieb
bisher nur die Möglichkeit, den Drucker über eine Reset-Taste am Drucker 
zurückzusetzen oder - wenn eine solche Taste fehlt - durch Aus- und
Einschalten des Druckers. Die Drucker, bei denen eine Reset-Taste fehlt,
kann man nur über die Reset-Leitung des Centronics-Anschlusses
zurücksetzen.
Diese Leitung ist am parallelen Anschluß des Amiga allerdings nicht
per Programm steuerbar, da sie an die Reset-Leitung des übrigen
Rechners angeschlossen ist und somit nur bei einem Reset des ganzen
Systems aktiviert wird.

Aus diesem Grund ist nun eine kleine Hardware-Erweiterung nötig,
welche zwischen Computer und Druckerkabel gesteckt wird. Mit Hilfe
der dazu passenden Software ist es nun möglich, dem Drucker bequem
von der Workbench und sogar aus eigenen Programmen ein Reset-Signal
zu senden.
Natürlich bleiben weiterhin alle bisherigen Druckerfunktionen und
Schnittstellenleitungen voll funktionsfähig.

Sowohl der Schaltplan für das Hardwaremodul als auch die nötige
Software ist in diesem Paket enthalten. Sie können die Hardware
jedoch auch als Bausatz oder Fertiggerät vom Autor beziehen (s.u.).



Hardware
¯¯¯¯¯¯¯¯
Den Schaltplan für das Hardware-Modul finden Sie als IFF-Bild in
der Datei "Schematic.iff". Die Schaltung kommt mit der Stromversorgung
am parallelen Anschluß (5V, 10mA) aus, sodaß keine weiteren Stecker
und Kabelverbindungen nötig sind. Von den drei Analogschaltern in
der integrierten Schaltung (CD 4053) werden nur zwei benötigt, die
Sie frei wählen können.

Anschluß: Entfernen Sie das Druckerkabel aus dem Computer. Dann stcken
          Sie das Modul an den parallelen Anschluß und das Druckerkabel
          in das Modul. Bevor Sie jedoch loslegen können, muß noch die
          Software installiert werden. Das wird weiter unten beschrieben.


Stückliste: 1 CD 4053
            2 Dioden 1N4148
            2 Widerstände 10 kOhm
            1 Sub-D-Stecker, 25 polig
            1 Sub-D-Buchse, 25 polig
            1 Platine
            1 Gehäuse


Sie können das Modul auch als Bausatz mit allen oben genannten Teilen
und fertig geätzter und gebohrter Platine oder als Fertiggerät beziehen.
Bezugsquelle und Preise stehen am Ende dieses Textes.



Software
¯¯¯¯¯¯¯¯
Die benötigte Software besteht aus zwei Programmen, die Sie beide in
dem gleichen Verzeichnis wie diesen Text finden: "ParPatch" und
"ResetPrinter".

Installation: - Schieben Sie das Programm "ParPatch" in die Schublade
                "WBStartup" auf Ihrer Workbench.
              - Starten Sie das Programm "ParPatch" durch Doppelklick
                auf sein Piktogramm.
              - Das Programm "ResetPrinter" können Sie an einem beliebigen
                Platz installieren. (z.B. in der "Tools"-Schublade auf
                der Workbench, beim "InitPrinter"-Programm.)

Was machen nun die beiden Programme ?

ParPatch:
    Dieses Programm wird bei jedem Starten des Rechners ausgeführt und
    paßt das "parallel.device" an das Hardwaremodul an.

ResetPrinter:
    Dieses Programm ist dem Programm "InitPrinter" ähnlich, welches auf
    der Workbench zu finden ist. Es sendet dem Drucker zunächst ein
    Reset-Signal, um ihn zurückzusetzen. Anschließend wird der Drucker
    auf die Einstellungen gesetzt, welche Sie in den "Printer" und
    "PrinterGfx"-Voreinstellern gemacht haben.



technische Informationen
¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯
Das "parallel.device" wird derart geändert, daß das Kommando "CMD_RESET"
neben dem üblichen Effekt einen Hardware-Reset des Druckers auslöst.
Weiterhin wird das Device dauerhaft im Speicher behalten, da es bei einem
erneuten Laden wieder im ungepatchten Zustand wäre.
Bei einem Reset wird die Reset-Leitung für 1 ms auf "Low" gelegt.



Autor, Bezugsquelle
¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯
Sie können den Autor unter folgender Adresse erreichen:

  Andreas Günther
  Alfener Weg 10
  D-33100 Paderborn

  Tel.: 05251/63412   Fax: 05251/67124

  email: guenther@uni-paderborn.de



Den kompletten Bausatz mit allen Teilen, fertig gebohrter Platine und
passendem Gehäuse können Sie bei obiger Adresse beziehen.

Der Preis für den Bausatz beträgt 20,- DM inkl. MwSt. und Versandkosten.
                  ¯¯¯¯¯¯¯         ¯¯¯¯¯¯¯
Fertig aufgebaut erhalten Sie das Modul für 35,- DM inkl. MwSt. und Versand.
¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯                            ¯¯¯¯¯¯¯

Zahlungsarten: - Bar (und Briefmarken)
               - per Verrechnungsscheck
               - per Überweisung auf das Konto Nr. 16179772 
                   bei der Sparkasse Paderborn (BLZ: 47250101)

Es ist auch ein Versand per Nachnahme möglich.
Dabei erhöht sich der Preis allerdings um 5 DM.

(Bei Versand ins Ausland [außerhalb Deutschland] betragen die Preise
 aufgrund der hohen Portokosten 25,- DM bzw. 40,- DM)



Copyright
¯¯¯¯¯¯¯¯¯
Der Autor (Andreas Günther) besitzt das Urheberrecht.

Das Verzeichnis "ResetPrinter" mit sämtlichen enthaltenen Dateien
(im folgenden "Software" genannt) ist "FreeWare", das heißt folgendes:

- Die Software darf grundsätzlich kostenlos weitergegeben und 
  genutzt werden.
  (nach §69c Abs. 1,3 UrhG)
- Alle Dateien des Verzeichnisses "ResetPrinter" müssen unverändert
  weitergegeben werden. Das sind folgende Dateien:
    ResetPrinter      
    ParPatch          
    ResetPrinter.info 
    ParPatch.info     
    LiesMich          
    LiesMich.info     
    Readme            
    Readme.info       
    Schematic.iff     
    Schematic.iff.info
  Es dürfen keine Dateien aus dem Verzeichnis "ResetPrinter" entfernt 
  oder hinzugefügt werden.
  (nach §69c Abs. 2 UrhG)
- Die Software sowie das in der Software beschriebene Hardwaremodul
  dürfen nicht ohne die Zustimmung des Autors kommerziell vertrieben
  werden. Ausgenommen sind der Vertrieb innerhalb von "PD-Serien" und
  ähnlichen Sammlungen (z.B. auf CD-ROM).
  (nach §69c Abs. 3 UrhG)

Haftungsausschluß:
Der Autor übernimmt keine Haftung für Schäden, die durch diese Software
und die beschriebene Hardware direkt oder indirekt entstehen. Der Autor
garantiert nicht, daß sich die Software und Hardware für irgendeinen
Zweck eignet. Das gesamte Risiko der Benutzung wird allein vom Benutzer
getragen.

Änderungen vorbehalten.
