
        ResetPrinter
        ============

     von Andreas Günther


This hardware/software combination allows you to control the reset
signal at the parallel port via software. It is possible to reset
a connected printer at any time, especially after you have aborted
the printing of page.
Other functions of the parallel port do not change.

This expansion does only work with the internal parallel port !
Kickstart 2.0 is required !



Introduction
¯¯¯¯¯¯¯¯¯¯¯¯
Many users of a printer certainly know this problem: Most programs
have an option to abort printing. If you actually use this option and
abort the printing, this will normally work. But if you try to print
something else then, the printer is in some undefined state (e.g. in
graphics mode) and the result is a muddle of characters, form feeds
and other strange things...

As a reset via software (sending some reset-code to the printer)
does not always work (e.g. when the printer was receiving a line of
graphic data before), there is only the possibility to reset the
printer with a reset button on the printer or - if there is no such
button - by switching the printer of and on again. The printers 
with no reset button can only be reset via the reset signal of the 
Centronics port.
However, this signal cannot be controlled on the parallel port of 
the Amiga because it is connected to the system reset signal and is 
therefore only activated when the whole system is reset.

For this reason a simple hardware module is necessary which is
inserted between the computer and the printer cable. By the help
of the appropriate software it is possible to reset the printer
easily from the Workbench or even from your own programs.
All printer functions and all status lines remain fully intact,
of course.

In this package, the schematic for the hardware and the software
is included.



Hardware
¯¯¯¯¯¯¯¯
You can find the schematic of the hardware module as an IFF picture
file named "Schematic.iff". The circuit does not need any other power
supply than the one at the parallel port (5V, 10mA). You need only two
of the three analog-switches contained in the integrated circuit
(CD 4053), so you can choose two.

Connection: First remove the printer cable from the computer. Then
            plug the module into the parallel port and the printer
            cable into the module. Before you can start, you have
            to install the software as described below.

Components: 1 CD 4053
            2 diodes 1N4148
            2 resistors 10 kOhms
            1 Sub-D-connector, 25 pins, male
            1 Sub-D-connector, 25 pins, female
            1 PCB
            1 case



Software
¯¯¯¯¯¯¯¯
The necessary software consists of two parts, which can both be found
in the same drawer as this text: "ParPatch" and "ResetPrinter".

installation: - Drag the program "ParPatch" into the drawer "WBStartup"
                on your Workbench.
              - Start the program "ParPatch" by double clicking its icon.
              - You can install the program "ResetPrinter" anywhere you
                want. (e.g. in the "Tools"-drawer on your Workbench,
                next to the "InitPrinter" program.)

So, what are the programs doing ?

ParPatch:
    This program is executed each time you start your computer and
    changes the "parallel.device" so that it uses the hardware module
    correctly.

ResetPrinter:
    This program is similar to the program "InitPrinter" which can be
    found on the Workbench. It first sends a reset signal to the printer
    and then initializes the printer to the settings you have made in
    the "Printer" and "PrinterGfx" preferences editors.



Technical Information
¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯
The "parallel.device" is patched so that the command "CMD_RESET" sends
a reset signal over the parallel port (in addition to the usual effects).
The "parallel.device" is kept in memory forever because the patch
would be lost if it was reloaded.
When performing a reset, the reset line will be set to low for 1 ms.



Author
¯¯¯¯¯¯
You can reach the author at the following address:

  Andreas Günther
  Alfener Weg 10
  D-33100 Paderborn
  Germany

  Tel.: +49 5251 63412   Fax: +49 5251 67124

  email: guenther@uni-paderborn.de




Copyright
¯¯¯¯¯¯¯¯¯
"ResetPrinter" is copyright by Andreas Günther.

The drawer "ResetPrinter" with all files included is "FreeWare".
These are the following files:
    ResetPrinter      
    ParPatch          
    ResetPrinter.info 
    ParPatch.info     
    LiesMich          
    LiesMich.info     
    Readme            
    Readme.info       
    Schematic.iff     
    Schematic.iff.info

The software and hardware is provided without warranty of any kind
including the fitness for a particular purpose. The entire risk of
using the programs and the hardware is assumed by you.
