How to make a serial buffer.

  Serial data transmissions over short distances are ok, but over longer
distances, errors can easily occur due to losses incurred in the cable. To
minimise this, I have designed a buffer that allows data to be sent over longer
distances at greater speeds.

  The buffer as described here is suitable for use with a standard null modem
cable. You can either use it with one or both computers. Alternatively, you may
wish to use a single buffer in the middle of your cable, or for very long runs,
you may wish to use several buffers along the length of your cable. This is
easily accomplished by building several buffer circuits and using suitable
connectors to join them. However, this is beyond the scope of this project, and
you will have do design this by yourself.

 Parts needed (for 1 buffer)

 1x DB25 Female  (See note 1)
 1x DB25 Male (See note 2)
 1x DB25 cover (See note 3)
 3x LM393 voltage comparator ICs (or equivalent - see note 4)
 3x 8 pin DIL sockets
 8 way cable.
 A scrap of veroboard.
 A suitable box.
Optional:
 1x DB25 Female and cover (see 5)


(1) For the A1000, you will need a male connector.

(2) This is assuming you are using a standard null modem cable. (e.g. as the one
described in my doc SerialCable.lha) If you are not, then you will need a
connector that matches the sort used. Also, you will need to know what
connections are made within that cable.

(3) You may wish to make both leads flying, in which case you will need 2
covers.

(4) You may wish to use 2xMC3302 or 1xMC3302 and 1xLM393 ICs instead. In this
case, you will need to know the pin connections of these chips, and have the
ability to modify the circuit given.

(5) The serial port on the A1200 can only supply 20mA of current, and the A1000
has no -12V connection at all on the serial port, so you may need to derive
power from the video port. Other Amigas _should_ be able to supply enough power
via the serial port, A1200s with an uprated PSU should also be fine.
  If you are already using your video port, and deriving power from the serial
port proves insufficient, then you will need to make an alternative power
supply. This is beyond the scope of this article, however.

Circuit theory.

  The Amiga serial port uses logic levels of +12 and -12V. This buffer is
designed to treat any signal above ground as +12V, and any signal below as -12V.
It will also increase the current available. This should ensure that all signals
are strong when being sent, and that any weak signals are boosted sufficiently.
  The circuit uses comparators with a 0V reference to determine the logic level
of the incoming signals. If the signal is below the reference level, then the
output swings low (to -12V), above and it swings high (to +12V).

Construction.

  The circuit diagram is shown in the accompanying IFF. I recommend that the
male DB25 connector is fixed to the side of the box, whilst the female one is
connected to a flying lead to enable easier connection to the computer. Please
note that it is very important that the power supply pins are ONLY connected to
the power inputs of the comparators, and that NO POWER RAILS ARE LINKED. You
MUST NOT join the power rails from two different sources (i.e. two different
computers) and it is inadvisable to connect power rails from different ports
together either. It is also important that the outputs of the comparators are
only connected to those pins that are inputs, and the output pins on the
computers are only connected to the comparator inputs. If the external power
option is needed, then I advise that you connect a flying lead for the
connector. You MUST ONLY connect power from one source however. If you use a
power source other than the serial port, you need to connect the system earth
(pin 7) to the earth of your supply, but you MUST NOT connect the power pins.


Final note.

  When you have finished making your buffer, connect it to your amiga, and
connect the null modem cable to the buffer. MAKE SURE THE AMIGA IS SWITCHED OFF
WHEN YOU ARE PLUGGING IT IN! If, when you turn your amiga on the display is not
as it should be, POWER OFF AT ONCE! Check the circuit for shorts between rails
and broken tracks. If the circuit still doesn`t work, and the cable did work
without it, then either one of your LM393s is duff, or you are trying to draw
too much power from the Amiga. If the latter is the case, try using an alternate
power source. If you still have problems, try swapping your LM393s around.
To test that the circuit is operating correctly, simply use the link to send
data from one machine to another. You should be able to transmit data faster
without errors than you could before.

**************************************************************
**               IMPORTANT  -- DISCLAIMER                   **
**                                                          **
**  You construct this project ENTIRELY AT YOUR OWN RISK.   **
** I will NOT be responsible for any damage caused to you or**
** your equipment as a result of any errors or omissions in **
**  this document. Neither will I accept any liability for  **
**   the use of this document or its contents in any form.  **
**                                                          **
**  Stephen Hughes,   8/6/95                                **
**************************************************************

