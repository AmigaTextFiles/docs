
EINLEITUNG
==========

Der folgende Text wurde in 1998 von Stephan Rupprecht geschrieben
und beschreibt, wie man eine serielle Maus für den Amiga modifiziert.

WICHTIG: Ich kann nicht haftbar gemacht werden für irgendwelche Schäden,
die sich aus der geschilderten Modifikation in irgendeiner Weise ergeben!
Falls Sie die Modifikation an einer neuen Maus ausführen, so bedenken Sie
bitte, daß Sie alle Garantieansprüche verlieren!

Nach 5 Jahren sollte meine alte Amiga Maus ausgedient habe, so beschloss
ich, da ich eine serielle Maus zufälligerweise da hatte, diese Maus so zu
modifizieren, daß sie ohne Interface direkt an meinen Amiga angeschlossen
werden konnte. Dazu machte ich mich erstmal schlau, indem ich verschiedene
Texte zu diesem Thema (aus dem Aminet) las. Im folgenden nun die Umbauan-
leitung.

WAS MAN BRAUCHT
===============

Erfahrungen im Löten und das dazugehörige Werkzeug :)

1x LM 339 Quad Voltage Comparator IC (= TDB0139 = LM239)
1x 150 Ohm Widerstand (1/4 oder 1/10 Watt)
1x 5+1 10k Widerstandsnetzwerk (oder 4+1 10k und ein normaler 10k Widerstand)
1x 5+1 2.7k Widerstandsnetzwerk (oder 4+1 2k7 und ein normaler 2k7 Widerstand)
etwa 2m 9 adriges Kabel mit einer 9 poligen SUB-D Buchse (zb. Joystickver-
längerung).

KOSTEN: etwa DEM 10,-

ANMERKUNG: Bitte vorher den Text lesen, bevor etwas gekauft wird, da evtl.
andere Widerstände benötigt werden!

WIE'S GEHT
==========

Als erstes schrauben Sie die Maus auseinander und entfernen Sie das Mauskabel
(es hat zuwenig Adern und kann daher nicht weiter verwendet werden). Zweitens
entfernen Sie den 16poligen IC und säubern Sie die nun freien Löcher in der
Leiterplatte, da wir sie später benötigen. Nun folgen Sie der Leiterbahn die
mit dem negativen Pol des kleinen Elektrolytkondensator (C1) verbunden ist,
sie sollte an der Steckerleiste (CN1) enden. Schließen Sie am entsprechenden
Pin der Steckerleiste Leitung 8 (GND) des neuen Mauskabels an. Anschließend
folgen Sie der Leiterbahn die am positiven Pol des Kondensators angeschlossen
ist. Sie endet auch an der Steckerleiste, schließen Sie dort Leitung 7 (+5V)
an. Alternativ können Sie auch die Maus an die serielle Schnittstelle anschließen
und mittels eines Voltmeters die entsprechenden Leitungen an CN1 suchen.
Wenn Sie bei einer Amigamaus eine Taste drücken, so wird die entsprechende
Leitung auf Masse (GND) gesetzt. Bei dem Umbau meiner Maus mußte ich allerdings
feststellen, daß die Maustasten dieser Maus nicht mit GND verbunden waren sondern
mit +5V. Daher sollten Sie prüfen, ob das bei Ihrer Maus auch das Fall ist. Im
Falle des Falles müssen Sie dann die entsprechene Leiterbahn zu den Maustasten
unterbrechen und mittels eines Drahtes, die Tasten mit Masse verbinden. Als
nächstes müssen Sie die Maustasten mit den entsprechenden Leitungen des neuen
Mauskabels verbinden: Folgen Sie den Leiterbahnen die von den Maustasten weg-
gehen und in Löcher enden, wo vorher der IC eingelötet war. Verbinden Sie die
linke Maustaste mit Leitung 6 des Mauskabels, Leitung 5 mit der mittleren
Maustaste und Leitung 9 mit der Rechten. Wenn Sie das fertig haben, so prüfen
Sie, ob der linke und rechte Pin eines jeden IR-Detektors mit Masse verbunden
ist. Suchen Sie dazu am besten ein Widerstandsnetzwerk mit der Bezeichnung RP1.
Sollten Sie keins finden, so müssen Sie die Ausgänge der IR-Dektoren mit Masse
verbinden. Dazu schließen Sie das Widerstandsnetzwerk mit 2.7kOhm an Masse an 
und verbinden je ein Beinchen des Netzwerks mit je einen Ausgang der IR-Detek-
toren (Der Eingang des Widerstandsnetzwerks, der mit Masse verbunden werden
muß, ist mit einem Punkt markiert). Wenn Sie Glück haben, so findet sich auf
der Platine ein 4+1 Widerstandsnetzwerk, daß Sie nur gegen eins mit 2.7k er-
setzen müssen. Es könnte auch sein, daß Ihre Maus kein solches Netzwerk besitz
aber bereits für die Aufnahme eines solchen vorbereitet ist!

 +-----------+
 |ir-detektor|
 1     2     3	 +-----------------+
 +-----+-----+   |2.7k widerstand °|
 |     |     |   +--+---+---+---+--+
 |     |     |   |  |   |   |   |  |
 |     |     |   |  |   |   |   |  |
 |     |     +---+  |   |   |   |  |
 |     °         |  |	          GND
 |    VCC        |  |          
 +------------------+
	         |  |
		 |  |
		zum LM339

Als nächstes müssen nun die Ausgänge der Detektoren mit dem LM339 verbunden
werden: Schließen Sie Pin 1 des vertikalen Detektors an Pin 5 des LM339 an
und Pin 3 des Detektors an Pin 11. Pin 1 des horizontalen Detektors muß
an Pin 7 angeschlossen werden und Pin 3 des Detektors an Pin 9 des LM339.
Am einfachsten geht das, wenn Sie dazu die entsprechenden Löcher nehmen,
in denen vorher das IC steckte.

Num müssen Sie Pin 3 des LM339 an +5V anschließen und Pin 12 an Masse. Die
Pins 4,6,8,10 müssen an +1V angeschlossen werden: Schließen Sie dazu eine
Masseleitung an einen 2k7 Widerstand an und und einen 10k Widerstand an +5V.
Verbinden Sie die beiden Widerstände und schließen Sie sie anschließend an
die og. Pins an.

     °VCC °VCC
      /	   /
      \10k \10k 	  +---------+--------+
      /	   / 		  |         |	     |
      |    |    - VQ-Pulse|HQ-Pulse |        |
 Line3+ L.4+   ---   IN   |    IN   |        |
   OUT| OUT|    |    |    |    |    |        |  VCC
 +----|----|----|----|----|----|----|----+   |   °
 |   14	  13   12   11   10    9    8	 |   |	 /
 |					 |   |   \ 10k
 +-				 	 |   |	 /
 | |    LM 339			 	 |   +---+
 +-				 	 |   |	 \ 
 |					 |   |	 / 2.7k
 |    1	   2    3    4    5    6    7	 |   |	 \
 +----|----|----|----|----|----|----|----+   |	---
      |    |    |    |    |    |    |        |   -
 Line1+ L.2+    °    | V-Pulse | H-Pulse     |
   OUT| OUT|   VCC   |   IN    |   IN        |
      \	   \         |         |	     |
      /10k /10k      +---------+-------------+
      \	   \					
      °VCC °VCC

VCC = +5V

Letztendlich müssen Sie noch Pin 1,2,13 und 14 (LM339) mit Spannung verbunden 
werden. Dazu schließen Sie das 10k Widerstandsnetzwerk an +5V an und verbinden
die Ausgänge des Netzwerks mit den og. Pins. Anschließend schließen Sie noch
Pin 1 des LM339 an Leitung 1 des Mauskabels an, Pin 2 an Leitung 2, Pin 14 an
Leitung 3 und Pin 13 an Leitung 4. Das war's ... fast :) Der Widerstand R1 (dies
sollte der limitierende Widerstand für die IR-LEDs sein) muß durch den neuen
150Ohm Widerstand noch ersetzt werden. WICHTIG: Damit die IR-LEDs nicht kaputt
gehen, sollten Sie vorher stärkere Widerstände ausprobieren, evtl. funktioniert
Ihre Maus auch mit einen stärkeren Widerstand.

PROBLEMBEHEBUNG
===============

Die Maustasten funktionieren nicht:
Überprüfen Sie die Leitungen und vergewissern Sie sich, daß die Tasten auch
mit Masse verbunden sind.

Der Mauszeiger bewegt sich in die falsche Richtung:
Sie haben eine der V(Q)/H(Q) Leitungen vertauscht.

Der Mauszeiger bewegt sich nicht:
1) Prüfen Sie auf +0.5V an Pin 5,7,9,11 des LM339.
2) Pin 4,6,7,10 sollten +1V haben. An Pin 3 muß +5V anliegen.
3) R1 ist zu stark. Verwenden Sie einen schwächeren Widerstand.

Der Mauszeiger bewegt sich nur hoch/runter oder nach links/rechts:
R1 ist zu stark. Verwenden Sie einen schwächeren Widerstand.

LETZTE ANMERKUNG
================

Normalerweise liegen die vertikalen und horizontalen Impulse der IR-Detektoren
bei etwa +0.5V. Dies reichte allerdings nicht bei meiner Maus aus, so habe ich
einen schwächeren Widerstand für R1 verwendet. Dadurch bekomme ich jetzt bis
zu +2V für eine Bewegung. Theoretisch, ließe sich daher die Schaltung auch ohne
den LM339 realisieren (siehe genes_pc_mouse.lha). Wenn Sie die Spannung für den
Vergleicherstromkreis von +1V auf +0.3V (std. Amigamaus) senken, so hat das den
selben Effekt, als würden Sie für R1 einen schwächeren Widerstand einsetzen.

CREDITS
=======

ich möchte den folgenden Leuten danken

Gene Heskett (genes_pc_mouse.lha),
J. Edward Hanway (optmouse12.lha),
Jeff Easton (mousehack.txt)

dafür, daß sie ihre Maushacks veröffentlicht haben.

AUTOR	
=====

Stephan Rupprecht
Apfeldweg 1
44359 Dortmund
Germany

stephan.rupprecht@primus-online.de
