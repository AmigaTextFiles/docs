
                       The Two Meg Agnus Project
                             Revision 5.0D
     Copyright 1992, 1993 Structured Applications & Designs, Inc.

         Dedicated to the memory of Miguel and to his family:
                      Irene, Justin and Chelcie. 

       Written and Edited by Neil Coito and Michael Cianflone

  Amiga and Kickstart are registered trademarks of Commodore-Amiga

**********************************************************************

Four Sentence Overview Of What This Thing Is:

  The Two Meg Agnus Project increases the amount of "chip" RAM in an 
Amiga 500 or 2000 to 2 megabytes. Chip RAM is where the graphics and 
sound data are stored. Even though you may have plenty of "fast" RAM, 
if you run out of "chip" RAM then you will not be able to open any 
more windows or screens and hence, no more programs. See the section 
titled "COMPATIBILITY" to determine if your machine will work with 
this project.

**********************************************************************

INDEX:

   1. Included Files
   2. Disclaimer
   3. Compatibility
   4. General Information
   5. The Two Meg Agnus Project Parts List
   6. Ordering Information
       6a. Shipping And Packaging Prices
   7. Theory Of Operation
   8. Assembly Of The Two Meg Agnus Project
       8a. Soldering Tips
       8b. Getting Ready
   9. Installation Of The Two Meg Agnus Project
       9a. For A Revision 5 And Below Amiga 500 With 512k Chip Ram
       9b. For A Revision 6 And Above Amiga 500 With 512k Chip Ram
       9c. Installation Instructions For The 2000 Systems
       9d. For An Amiga 2000 With 512k Of Chip Ram And 512k Of Fast
           Ram On The Motherboard
  10. Testing The Computer With The Two Meg Agnus Installed
  11. Tips For Building The Two Meg Agnus Project
  12. Optional Extras For The Two Meg Agnus Project
  13. Troubleshooting The Two Meg Agnus Project
  14. Look For These And Other Projects From Us


----------------------------------------------------------------------


1. INCLUDED FILES:

  The files below, and the information contained within them, are not 
public domain. They are copyrighted by Structured Applications & 
Designs, Inc. What this means is that you cannot take the design and 
information within the archive and make your own boards and sell them 
without prior written permission from us. What it does mean is that 
you are free to make your own board from this information whether you 
buy the board and parts from us or whether you wire-wrap your own.

  This archive may be freely copied and distributed as long as all the 
files remain unmodified and intact, and as long as there is no charge 
for them except a reasonable copying and media fee.

The files included within this archive are:

  READMEFIRST              This contains information about any changes
                            or modifications to the project.
  TTMAP50D.DOC             This is the file you are reading now.
  TTMAP50D_BOARD.IFF       This is a diagram of the printed circuit
                            board.
  TTMAP50D_SCHEMATIC1.IFF  This is part 1 of the TTMAP50D schematics.
  TTMAP50D_SCHEMATIC2.IFF  This is part 2 of the TTMAP50D schematics.
  TTMAP50D_PARTS1.IFF      This is part 1 of the diagram of the parts
                            on the TTMAP50D board.
  TTMAP50D_PARTS2.IFF      This is part 2 of the diagram of the parts
                            on the TTMAP50D board.
  TTMAP50D_LOGIC.IFF       This is a graphical representation of the
                            logic internal to the PAL.
  TTMAP50D_ASSEMBLY.IFF    This is the assembly drawing for the board.
  TTMAP50D_PAL.PLD         This is the file containing the PAL
                            equations for the PAL chip.
  TTMAP50D_CLIP.IFF        This is a diagram of how to assemble a clip
                            lead assembly.
  TTMAP50D_PROBES.IFF      This is a diagram of two useful test
                            probes.
  PAL-NTSC_SWITCHER.IFF    This is a diagram of how to attatch a
                            mechanical switch that will let you select
                            between PAL and NTSC display modes.

----------------------------------------------------------------------


2. DISCLAIMER:

  Although every effort has been made to eliminate errors and insure 
compatibility, these files come with no warranty. If there is a typing 
error... sorry, it's not our fault it's yours :-) Also, you are at 
your own risk to build The Two Meg Agnus Project (TTMAP). If you blow 
up your computer or burn your house down then it's not our fault. You 
assume all responsibility for all information taken from this archive, 
and for building The Two Meg Agnus Project. Basically, it's not our 
fault if you have any problems, though we will try to help; if you 
have access to a modem we can be reached at: 

INET: ttmaphelp@struad.cts.com

  If you're still with us, and if we haven't scared you off then 
continue reading and maybe you can build one of these nifty projects 
and get some more graphics memory!


----------------------------------------------------------------------


3. COMPATIBILITY:

  Works with all versions of the Amiga 500 and Amiga 2000 computers, 
EXCEPT old Amiga 2000 machines with the Amiga 1000 DIP style Agnus 
chip. If you have an Amiga 500 with only 512K of chip RAM you will 
need to have the 512K RAM expander in the belly slot.
  The thickness of the TTMAP board is 1/4" (7mm). If you have some
other board that covers the Agnus socket then measure 1/4" (7mm) from
the top of the Agnus socket to determine if the TTMAP board wil fit.
If you do have some other board in the computer that covers the
Agnus socket then see section 12 titled "OPTIONAL EXTRAS FOR THE TWO
MEG AGNUS PROJECT" which talks about a 68000 socket extender that
may raise the other board above the TTMAP board.


----------------------------------------------------------------------


4. GENERAL INFORMATION:

  The Two Meg Agnus Project allows the user of an Amiga 500, 2000, or 
2500 to use the 2 meg Agnus chip and add an additional 1 megabyte of 
chip memory to their computer for a total of 2 megabytes of chip RAM. 
The Two Meg Agnus Project (TTMAP) simply plugs into the Agnus socket 
on the motherboard.

  You can build this project by obtaining all the parts yourself and 
wire-wrapping it together on a perfboard following the schematics, or 
you can order a printed circuit board and solder the parts on 
yourself. It is not recommended that you build this on a perfboard 
(although it can be done) because doing so may cause the board to fail 
do to noise problems, cross talk, and large amounts of capacitance on 
the long wires. You can also order The Two Meg Agnus Project in kit 
form (or you can order a completely assembled board). The kit includes 
most of the parts needed and includes a printed circuit board. See the 
section titled "THE TWO MEG AGNUS PROJECT PARTS LIST" for a detailed 
breakdown of the parts needed and the parts that come with the kit.


----------------------------------------------------------------------


5. THE TWO MEG AGNUS PROJECT PARTS LIST:

  If you order The Two Meg Agnus Project printed circuit board WITH 
parts, then it comes with everything listed here except those things
marked "OPTIONAL" (however you can get the optional parts by simply
selecting them on the order form).  If you just order the printed
circuit board with NO parts, then you guessed it, you just get a
printed circuit board (However, please read the next paragraph!).

  PLEASE NOTE THAT ALL PRINTED CIRCUIT BOARDS, EVEN THOSE WITHOUT 
PARTS, COME WITH THE PLCC PLUG ALREADY INSTALLED DUE TO THE DIFFICULTY 
OF ITS INSTALLATION.

COMPONENTS:

 REF#     - DESCRIPTION

 RP1-RP3  - 47 Ohm X 5 isolated Resistor pack (10 pin SIP)
 C1-C9    - .01uF ceramic capacitor
 U1-U8    - 256x4 page mode DRAM chips 80ns or faster (20 pin DIP)
 U9       - PAL20L8 15ns or faster programmed with the
            TTMAP50D_PAL.PLD file (24 pin DIP)
 U10      - 2 meg Agnus 8372B part# 318069-03 (84 pin PLCC)(OPTIONAL)
            Some 8375B Agnus chips work also. If the part number on
            the chip is 318069-03 then it will work. Both the 8372B
            Agnus and the proper 8375B Agnus have this part number.
            If the Agnus does not say part number 318069-03 on the
            chip then it will not work. It must say 318069-03.
 P1       - 84 pin PLCC Plug with 50 mil spacing
            (All of our kits come with this $20 part already soldered
            to the board, even those kits sold "without parts")
 W1       - Clip lead assembly


MISCELLANEOUS PARTS:

QTY - DESCRIPTION

 1  - The Two Meg Agnus Project printed circuit board 
 1  - 84 pin PLCC socket
 1  - Insulation sheet (OPTIONAL)
 1  - PLCC chip extractor (OPTIONAL)
 1  - 68000 socket extender (OPTIONAL)


  All parts shown above are included in "The Two Meg Agnus Project" 
kit except for the parts marked "OPTIONAL". We can supply the parts
marked "OPTIONAL" if requested on the order form.

  If you should damage any part during assembly, contact us and we 
will be more than happy to tell you how to order a replacement.


----------------------------------------------------------------------


6. ORDERING INFORMATION:

  To order The Two Meg Agnus Project either print out the following 
order form or make your own just like it and mail it, along with your 
payment, (make the check payable to Structured Applications & Designs, 
Inc.) to:

               Structured Applications & Designs, Inc.
               TTMAP
               P.O. Box 60414
               San Diego, CA 92166
               USA



----- snip 8< -------- snip 8< -------- snip 8< -------- snip 8< -----


 ____ Board(s) fully ASSEMBLED, with RAM, @ $98.95 each for
                                                   a total of $______

 ____ Board(s) fully ASSEMBLED, with NO RAM, @ $64.95 each
                                               for a total of $______

 ____ Board(s) NON-ASSEMBLED, with PARTS and with RAM,
                                 @ $89.95 each for a total of $______

 ____ Board(s) NON-ASSEMBLED, with PARTS but with NO RAM,
                                 @ $54.95 each for a total of $______

 ____ Board(s) NON-ASSEMBLED, with NO PARTS and NO RAM,
    (Bare printed circuit board) @ $50.95 each for a total of $______

NOTE: ALL KITS COME WITH THE PLCC PLUG EVEN THOSE THAT SAY
'NO PARTS'. THE PLCC PLUG WILL BE SOLDERED TO THE BOARD.

Optional extras you may choose. See section 12 titled "OPTIONAL EXTRAS 
FOR THE TWO MEG AGNUS PROJECT" for a description of these extras.

____ 2 meg Agnus chip #318069-03 @ $35.00 each for a total of $______

____ PLCC Agnus extractor tool(s) @ $4.95 each for a total of $______

____ Piece(s) of insulator @ $.95 each for a total of         $______

____ 68000 socket extender @ $4.95 each for a total of        $______

                       if in California add state sales tax   $______

                        shipping and packaging (see below)    $______

                                                     Total  $[_______]

               NAME: ____________________________________

            ADDRESS: ____________________________________

CITY/STATE/ZIP CODE: ____________________________________

            COUNTRY: ____________________________________

PHONE NUMBER: __________________ INTERNET ADDRESS: __________________

Amiga model this is to be used on:  500[ ]  2000[ ]  2500[ ]

(USE BACK OF THE ORDER FORM TO ANSWER THESE QUESTIONS)
1. In order to make our next project better, how do you rate this 
project and how could we have improved it?

2. Are there any other projects you'd like to see us do?

----- snip 8< -------- snip 8< -------- snip 8< -------- snip 8< -----



Note: DO NOT SEND CASH. Only send a check or money order. We will 
accept personal checks. All checks must be in US funds drawn on a US
bank please, otherwise we get charged by the bank. If you're ordering 
from outside the US and you can't set up to have the check drawn on a 
US bank then the best thing to do is to send a postal money order; 
they will do the conversion right there.


*********************************************************************
* MAKE THE CHECK PAYABLE TO: Structured Applications & Designs, Inc.*
*********************************************************************


---------------------------------------------------------------------


6a. SHIPPING AND PACKAGING PRICES:

All shipping within the United States is done First Class, and all
shipping done outside the United States is done by Air Mail.

Shipping and Packaging:

Prices are for EACH board ordered with or without parts.


United States -  $2.25

Canada        -  $2.27

Mexico        -  $2.30 

Germany       -  $4.02

England       -  $4.02

France        -  $4.02

Australia     -  $5.12


  Shipping and packaging to Europe appears to be $4.02, so if you're 
in Europe and we don't have a shipping price for your area then just 
make it $4.02 for shipping. The weight of the package is around 7.5 
ounces so if you are somewhere else that we don't have a price for 
then you can go to the post office there and see what the shipping 
would be and add 35 cents for packaging. If you can't get to the post 
office and your country is not listed then make the shipping and 
packaging $5.50 and that should cover it.


----------------------------------------------------------------------


7. THEORY OF OPERATION:

  The Two Meg Agnus Project (TTMAP) is a circuit designed so that the 
owner of an Amiga 500, 2000, or 2500 can add the 2 meg Agnus, along 
with another megabyte of RAM, to his/her machine. The Two Meg Agnus 
Project contains, within its design, all the circuitry needed to mesh 
the motherboard's 1 meg of chip memory with the 1 meg of memory on The 
Two Meg Agnus Project. This interface will produce 2 megs of 
contiguous chip memory.

  At the heart of The Two Meg Agnus Project's memory controlling 
circuitry is a PAL (Programmable Array Logic). A PAL is a device that 
basically allows us to stuff many different types of logic gates into 
one chip. This in turn makes the final project smaller and less 
complicated to assemble than when using standard logic chips. The type 
of PAL we used in this project is a PAL20L8. In the file labeled 
TTMAP50D_PAL.PLD are the equations we use in this PAL. These equations 
are boolean equations that represent the operation of this device. As 
stated in its name, this device is a programmable device that we 
programmed to our specifications. The file TTMAP50D_LOGIC.IFF is a 
graphical representation using logic symbols of what the PAL is 
simulating. DO NOT try to duplicate this design using STANDARD logic 
devices. This is because the large propagation delay caused by all the 
ICs needed would more than likely cause the design to fail. By using a 
PAL with a small propagation delay we eliminate this problem. Use the 
diagram just for reference only.

  The first and probably the most difficult problem in the circuit 
design was to mesh the memory on both the motherboard and The Two Meg 
Agnus Project so that the 2 meg Agnus sees one contiguous chunk of 2 
megabytes. The restrictions were: we had to use the lines coming from 
the motherboard's Agnus socket, and trace-cutting beyond the norm was 
forbidden. We decided to approach the memory as a matrix.

  The complete 2 megabytes of memory is divided into 4 chunks of 512K. 
The 1 meg of memory on the motherboard is divided into two banks of 
512K. The first 512K is controlled by *RAS0 and the second 512K is 
controlled by *RAS1. Both banks on the motherboard are controlled by 
common *CASU and *CASL lines. On the computer's motherboard the *RAS, 
*CASU, and *CASL lines were directly controlled by the 1 meg Agnus 
chip. This same type of configuration was duplicated on the TTMAP 
board: 2 chunks of 512K. At this point we renamed the *CASU and *CASL 
on both 1 meg chunks of memory. The *CASU and *CASL signals on the 
motherboard are now *CASU0 and *CASL0 and the *CASU and *CASL signals 
on the TTMAP board are *CASU1 and *CASL1. On both boards *RAS0 and 
*RAS1 stay the same. At this point we have four chunks of memory each 
with a size of 512K and each chunk controlled by different lines. The 
first 512K is controlled by *RAS0, *CASU0, and *CASL0. The second 512K 
is controlled by *RAS1, *CASU0, and *CASL0. The third 512K is 
controlled by *RAS0, *CASU1, and *CASL1. The fourth 512K is controlled 
by *RAS1, *CASU1, and *CASL1.


MEMORY MATRIX:


                        *CASU0         *CASU1
                        *CASL0         *CASL1
                     ______________________________
                    |              |               |
                    | MOTHERBOARD  | TTMAP         |
              *RAS0 | BANK1        | BANK1         |
                    | 512K         | 512K          |
                    |--------------+---------------|
                    | MOTHERBOARD  | TTMAP         |
              *RAS1 | BANK2        | BANK2         |
                    | 512K         | 512K          |
                    |______________|_______________|         
       


  As you can see in the schematic (TTMAP50D_SCHEMATIC1.IFF and 
TTMAP50D_SCHEMATIC2.IFF), the 2 meg Agnus chip only has *RAS, *CASU, 
and *CASL signals coming from it. The job of the PAL mentioned earlier 
above is to produce the *RAS0, *RAS1, *CASU0, *CASL0, *CASU1 and 
*CASL1 signals needed to access each of the four memory chunks. It 
does this basically by ANDing the signals with MA9 at certain times in 
the memory cycle. See the PAL equations to get an exact idea of what 
is happening in the PAL.

  In order for a memory location in a Dynamic RAM device to be 
addressed, the device must first receive the first half of its address 
then a *RAS (Row Address Strobe) signal, then it must receive the 
second half of its address and a *CAS (Column Address Strobe) signal. 
If these signals are received and the timing is correct, an address 
has been properly accessed. If the device should receive one signal 
and not the other then the device will not be selected and no data 
will be read or written. This type of addressing system is called 
multiplexed addressing.

  The first thing that happens on a memory cycle in Agnus, is that the 
address lines A9-A17 and A19 are place on the 2 meg Agnus' multiplexed 
address lines MA0-MA9. A short time after that the *RAS line from 
Agnus goes LOW. The *RAS0 or *RAS1 line from the PAL then goes LOW 
(depending on the value of MA9 at that point) and latches the ROW 
address into the selected RAM chips. After the ROW address is latched 
into the selected RAM chips, the address lines A1-A8, A18, and A20 are 
then placed on  Agnus' multiplexed address lines MA0-MA9. The COLUMN 
address lines are then latched into the RAM chips by the *CAS#0 or 
*CAS#1 lines (depending on the value of MA9 at that point) from the 
PAL going LOW. Once the RAM chips have received their ROW address and 
COLUMN address they are now ready to be accessed. The operation to be 
performed on the RAM chips is determined by the control lines such as 
*WE (Write Enable) and *OE (Output Enable) which are set during the 
memory cycle. If *WE is LOW then a write operation is being performed 
on the RAM chips. If *OE is LOW then a read operation in being 
performed on the RAM chips. Note that not all dynamic RAM chips have 
the *OE line, on these chips when *WE is HIGH it is assumed that a 
read operation is taking place.

  The operation of this board is very simple in its decoding of the 
multiplexed address lines. The PAL uses address line MA9 to determine 
which *RAS# and *CAS# lines to activate, which in turn selects 
different chunks of memory. See the PAL equations, and by following 
the logic and the comments you should be able see how the PAL decodes 
the address lines and determines which part of memory is being 
accessed.


----------------------------------------------------------------------


8. ASSEMBLY OF THE TWO MEG AGNUS PROJECT:

  The assembly and testing of The Two Meg Agnus Project should take a 
bit of time to do. Although it is not a very advanced project, we can 
not stress it enough that you take your time and be neat with putting 
it together and testing it. The more time you take with putting this 
board together, the less mistakes you are going to make and the 
happier you will be with the results. The less mistakes you make, the 
less time you will spend banging your head against the wall for making 
those stupid mistakes. Before starting, READ ALL INSTRUCTIONS. If you 
purchase the kit, check to make sure that all the parts in the parts 
list NOT marked "OPTIONAL" are in the kit that you ordered.

8a. SOLDERING TIPS:

  For those of you that have never soldered on a printed circuit board 
before, this paragraph will give you a few tips to help you through 
this task. First of all, if you have a low cost soldering iron, let 
the soldering iron heat up for at least ten minutes prior to 
soldering. When soldering, it is always a good idea to keep the tip of 
your iron clean. Clean the tip with a damp cloth before each pass with 
the iron. When soldering on a board like this, it is best to use a 
small and pointed soldering iron tip. The most important thing to 
remember is what we call the "Ten Second Rule."  This rule simply 
states that you DO NOT leave your iron touching the printed circuit 
board for more than ten seconds at a time. The reason for this is that 
if you let the hot iron sit on the board for more than ten seconds, 
you will probably lift a trace or a pad from the board because of the 
excess heat. Ten seconds is more than enough time to let the solder 
flow. If you must resolder a point on the board, let the board cool 
down before reapplying the iron, and use solder braid to remove any 
excess solder. Remember, whenever you solder, treat the board gently. 
When you solder, it is a good idea to always use a flux core solder. 
Another good tip to remember is to first place the iron at the point 
to be soldered THEN add solder to that point. DO NOT put too much 
solder at each point, put enough just to get the job done.

  In case you haven't read this whole document section 11 contains 
tips on building The Two Meg Agnus Project. You might want to go read 
that now and continue with section 8b. when you are done.  

8b. GETTING READY:

  There are some drawings included within this archive that may help 
you put this project together (see the first section of this file for 
their names and what they are pictures of). You may look at them with 
any program that displays standard Amiga IFF ILBM pictures, and you 
may print them out so that you have them at hand.

  Now we will begin putting The Two Meg Agnus Project together. 
Assemble the TTMAP board by simply following the steps below. You may 
check off each number as you perform each step. If you receive a board 
that has one or more of the following steps already completed (for 
example, if the board already has the PLCC plug soldered in) simply 
check off that step and go on to the next one. Be sure to read and 
understand all the assembly and installation steps before starting.

  Throughout this article we make reference to the Amiga 2000. The 
Amiga 2000 and Amiga 2500 are the exact same machines except that the 
2500 has a 68020 or 68030 accelerator board installed in the processor 
slot. If you have an Amiga 2500 then simply follow the directions for 
the 2000.

  Ok, here we go!

[ ] 8.1  Using a multi-meter or a continuity checker (see the file 
TTMAP50D_PROBES.IFF) and also using the schematics (see the files 
TTMAP50D_SCHEMATIC1.IFF and TTMAP50D_SCHEMATIC2.IFF), check the 
printed circuit board for proper connections, opens, and shorts. If no 
problem is found continue to the next step. If a problem is found 
double check the board and verify the problem, if the problem still 
exists contact us.

[ ] 8.2  Insert the 84 pin PLCC PLUG into the printed circuit board at 
location P1 on the silkscreen side with the part aligned properly with 
the diagonal corner and the arrow (pin 1). Because of the closeness of 
the pins and the large number of pins, the part will go in VERY snug. 
(If this part has been installed for you then go to step 8.4). When 
you have properly completed this step go on to the next step.

[ ] 8.3  Carefully solder the 84 pin PLCC PLUG into place using the 
tips in the "SOLDERING TIPS" section. Because these pins are very 
close together, use great care when soldering and try to use a very 
sharp soldering iron tip. After soldering this part to the board 
verify that all the connections are correct and no shorts exist. Use 
the multi-meter or continuity checker and a magnifying glass to check 
these connections. (If this part has been installed for you then 
simply go on to the next step). When you have properly completed this 
step go on to the next step.

[ ] 8.4  Insert the 84 pin PLCC SOCKET into the printed circuit board 
at location U10 on the silkscreen side with the part aligned properly 
with the diagonal corner and the arrow (pin 1). When you have properly 
completed this step go on to the next step.

[ ] 8.5  Carefully solder the 84 pin PLCC SOCKET into place using the 
tips in section 8a titled "SOLDERING TIPS". When you have properly 
completed this step go on to the next step.

[ ] 8.6  One at a time, insert and solder the three 10 pin SIP 
resistor packs into the printed circuit board at locations RP1, RP2 
and RP3 on the silkscreen side. Align the parts properly (Pin 1 of the 
resistor pack goes in the square pad of each location). When you have 
properly completed this step go on to the next step.

[ ] 8.7  One at a time, insert and solder the capacitors into the 
printed circuit board at locations C1 thru C9 on the silkscreen side 
of the board. The capacitors are not polarized therefore they can be 
installed in any direction. When you have properly completed this step 
go on to the next step.

[ ] 8.8  Assemble the clip lead assembly as shown in the diagram 
TTMAP50D_CLIP.IFF. (If the clip lead comes already assembled then go 
on to the next step). When you have properly completed this step go on 
to the next step.

[ ] 8.9  Feed the stripped end of the wire into the strain relief hole 
at the A20 location FROM the SOLDER side of the board. (The strain 
relief hole is the larger of the two holes). Feed it about half way to 
give yourself room for the next step. When you have properly completed 
this step go on to the next step.

[ ] 8.10  Insert the tinned wire into the solder pad at the A20 
location on the silkscreen side and solder it to the board from the 
solder side. (The solder pad is the the smaller of the two holes). 
When you have properly completed this step go on to the next step.

[ ] 8.11  One at a time, insert and solder the RAM chips into the 
printed circuit board at locations U1 thru U8 on the silkscreen side 
of the board. Make sure the parts are aligned properly. (Pin 1 of each 
chip goes in the square pad at each location). The RAM chips are very 
sensitive to heat and static; do not overheat the pins when soldering, 
and ground yourself before handling them. When you have properly 
completed this step go on to the next step.

[ ] 8.12  Insert and solder the 24 pin PAL into the printed circuit 
board at location U9 on the silkscreen side of the board. Align the IC 
properly (Pin 1 of the chip goes in the square pad of the location). 
Make sure that you do not bend any pins when you insert the chip. When 
you have properly completed this step go on on to the next step.

[ ] 8.13  Install the 2 meg Agnus chip into the 84 pin PLCC socket at 
location U10. Be sure to align the Agnus chip so that the diagonal 
corner of both the IC and the socket are the same. Once the Agnus chip 
is installed go on to the next step.

[ ] 8.14  Recheck all of the previous steps and verify that they were 
done properly. 
     [ ] Check board for proper connections.
     [ ] 84 pin PLCC plug installed.
     [ ] 84 pin PLCC socket installed.
     [ ] Three resistor packs installed.
     [ ] Nine capacitors installed.
     [ ] Clip lead assembly installed.
     [ ] Eight RAM chips installed.
     [ ] PAL installed.
     [ ] 2 meg Agnus installed.

Now go to section 9, "INSTALLATION OF THE TWO MEG AGNUS PROJECT".
 

----------------------------------------------------------------------


9. INSTALLATION OF THE TWO MEG AGNUS PROJECT:
 
[ ] 9.1  The first step to installing the TTMAP board is to go to the 
proper step and disassemble your computer. If you have an Amiga 500 GO 
TO STEP 9.2. If you have an Amiga 2000 or 2500 GO TO STEP 9.20. If you 
have an Amiga 600, 1000, 1200, 3000, 4000, CDTV, or CD32 you are 
obviously lost, go to the section on compatibility. If you have a 5000 
then you're all set and you have one of the hottest computers around!

[ ] 9.2  First determine if you have an Amiga 500 with 512K, or 1 meg 
of chip RAM. To do this boot up your computer, open a CLI and type 
"avail" then press return. Look under the "Maximum" column and on the 
"Chip" row to see the amount of chip RAM you have. If the number 
starts with a 5 and is six digits long (like "523264") then you have 
512K of chip RAM (IF YOU HAVE 512K OF CHIP RAM THEN YOU ALSO NEED TO 
HAVE 512K OF 'FAST' RAM IN THE BELLY SLOT OR THIS PROJECT WILL NOT 
WORK). If the number starts with a 1 and is seven digits long (like 
"1047552") then you have 1 meg of chip RAM. Once you have confirmed 
the size of your memory, remember if it is 512K or 1 meg, then go on 
to the next step.

[ ] 9.3  With power disconnected and the 500 upside down, remove the 
six screws holding the case together with a #10 torx driver. Go on to 
the next step.

[ ] 9.4  Carefully place the 500 right side up and carefully remove 
the top cover. Put the cover aside and go on to the next step.

[ ] 9.5  Disconnect the keyboard harness from the motherboard 
(remember which direction it went in) and disconnect the ground strap 
from the drive. Go on to the next step.

[ ] 9.6  Remove the keyboard assembly from the computer. Put the 
keyboard aside and go on to the next step.

[ ] 9.7  Using a pliers, bend up the four tabs that hold the shield. 
Then remove the four screws that also hold the shield. The shield 
should come out by lifting it straight up. Put the shield aside and go 
on to the next step.

[ ] 9.8  At this time you must remove the old Agnus chip that is in 
your machine. It is the square 84 pin PLCC chip located to the right 
of the 40 pin ROM chip and the 64 pin 68000 chip. To remove the Agnus 
chip you need a special PLCC extractor (see the TTMAP50D_PARTS1.IFF 
FILE). Do not pry the chip out with a screwdriver because this will 
damage the PLCC socket. Once the old Agnus is removed put it away and 
go on to the next step.

[ ] 9.9  There are many different versions of the 500 motherboard. At 
this point you will need to determine which version and type of Amiga 
500 you have. If you have an Amiga 500 with 512K of chip RAM, REV 5 
and lower, then go to step 9.10. If you have an Amiga 500 with 512K of 
chip RAM, REV 6 and higher, then go to step 9.13. If you have an Amiga 
500 with 1 meg of chip RAM, any revision, then go to step 9.16.


9a. FOR A REVISION 5 AND BELOW AMIGA 500 WITH 512K CHIP RAM:

[ ] 9.10  Locate JP2 on the left side of the 40 pin ROM socket. Using 
a sharp X-Acto Knife or similar item, cut the trace connecting the 
bottom and center pads. Then solder the top and center pads together. 
Doing this will enable the A19 line from the 68000 to the Agnus 
socket. Go on to the next step.

[ ] 9.11  Locate the RAM expansion bus connector CNX. Pins 1 and 2 are 
on the bottom row and pins 55 and 56 are on the top row. On this 
connector the odd numbered pins are on the outside and the even 
numbered pins are on the inside. Locate pins 41 and 42 by counting 
from back to front 8 rows. About 1/8" to the left is a solder pad with 
a trace which runs straight up, parallel with the white silkscreen 
line designating the CNX connector outline. This trace should connect 
between pin 32 of CNX and pin 32 of Gary. Using a sharp X-Acto or 
similar item, cut this trace just above the pad. This line controls  
the *EXRAM signal. Make sure you do not cut any other traces on the 
motherboard. Go on to the next step.

[ ] 9.12  If you do not have a 512K RAM board plugged into the CNX 
expansion bus (the belly slot under the 500) you must do this now. At 
this point your machine is compatible with the 1 meg Agnus and 2 meg 
Agnus board. Once you have installed the 512K RAM expansion card GO TO 
STEP 9.16.


9b. FOR A REVISION 6 AND ABOVE AMIGA 500 WITH 512K CHIP RAM:

[ ] 9.13  Locate JP2 on the left side of the 40 pin ROM socket. Using 
a sharp X-Acto Knife or similar item cut the trace connecting the 
bottom and center pads. Then solder the top and center pads together. 
Doing this will enable the A19 line from the 68000 to the Agnus 
socket. Go on to the next step.

[ ] 9.14  Locate jumper JP7A to the left of the CNX expansion bus 
connector. Using a sharp X-Acto Knife or similar item cut the trace 
connecting the bottom and center pads. Once this trace is cut you do 
not have to do anything else to this jumper. Make sure you do not cut 
any other traces on the motherboard. Go on to the next step.

[ ] 9.15  If you do not have a 512K RAM board plugged into the CNX 
expansion bus (the belly slot under the 500) you must do this now. At 
this point your machine is compatible with the 1 meg Agnus and 2 meg 
Agnus board. Go on to the next step.

[ ] 9.16  At this point your machine should have 1 meg of chip RAM. 
With this configuration you are now able to install the TTMAP board. 
The first thing that you must do is line up pin 1 of the TTMAP board's 
PLCC plug (P1) with pin 1 of the Agnus socket on the motherboard of 
the 500. The orientation of pin 1 on the motherboard's Agnus socket is 
different on each version of the motherboard. On the revision 5 and 
below motherboards pin 1 is located towards the front of the machine. 
On revision 6 and above motherboards pin 1 is located to the right of 
the machine. In all cases the slanted corner of both the PLCC plug and 
the Agnus socket must line up. Once the board is properly lined up, 
firmly seat it down in place so that it completely sits in the PLCC 
socket. Go on to the next step.

[ ] 9.17  Once the TTMAP board is seated in the Agnus socket you must 
connect the clip lead to pin 36 of the GARY chip or pin 48 of the 
68000 chip. See the file TTMAP50D_PARTS2.IFF for a picture showing 
which pins to connect to. If the notch on the chip faces left then pin 
1 is at the bottom left corner, if it faces right then pin 1 is on the 
top right corner. Now counting in a counter clockwise direction from 
pin 1 you should be able to find the pin you want to connect to. Make 
sure that this clip is attached properly so that it is not touching 
any other pin and it will not pop off the pin it is attached to when 
the computer is closed. Go on to the next step.

[ ] 9.18  After you have installed the TTMAP board and connected the 
clip lead, you should now recheck the installation.
     [ ] Traces are all properly cut and reconnected if needed.
     [ ] The TTMAP board is installed properly with the correct
         orientation and is firmly seated.
     [ ] The clip lead is properly attached to Gary pin 36 or to the
         68000 pin 48.

If all of the above check out okay then go on to the next step.

[ ] 9.19  You can now re-assemble your computer. Putting your computer 
back together involves reversing the disassembly instructions above in 
steps 9.3 thru 9.7. First reinstall the shield then attach it with its 
four screws and bend down the tabs. Next, seat the keyboard back 
inside the computer and connect the keyboard's harness to the 
motherboard with the black wire to the left. Attach the ground strap 
from the keyboard to the disk drive. Place the cover over the top of 
the computer and snap it in place. Gently turn the computer over then 
insert and tighten the four torx screws. Now that your computer is re-
assembled GO TO STEP 10.1 of section 10 "TESTING THE COMPUTER WITH THE 
2 MEG AGNUS INSTALLED".


9c. INSTALLATION INSTRUCTIONS FOR THE 2000 SYSTEMS: 

[ ] 9.20  First determine if you have an Amiga 2000 with 512K or 1 meg 
of chip RAM. To do this boot up your computer, open a CLI and type 
"avail" then press return. Look under the "Maximum" column and on the 
"Chip" row to see the amount of chip RAM you have. If the number 
starts with a 5 and is six digits long (like "523264") then you have 
512K of chip RAM (IF YOU HAVE 512K OF CHIP RAM THEN YOU ALSO NEED TO 
HAVE 512K OF 'FAST' RAM ON THE MOTHERBOARD OR THIS PROJECT WILL NOT 
WORK). If the number starts with a 1 and is seven digits long (like 
"1047552") then you have 1 meg of chip RAM. Once you have confirmed 
the size of your memory, remember if it is 512K or 1 meg, and go on to 
the next step.

[ ] 9.21  With the power off and all connections removed from the 
computer, remove the cover of the 2000 by taking out the five screws 
holding the cover to the body of the computer. Take the cover off by 
sliding it toward the front and up. Place the cover aside and go on to 
the next step.

[ ] 9.22  Remove the power supply and disk drive assembly by taking 
out the seven screws holding it to the body. You should also 
disconnect the power supply and drive cables from the motherboard. 
Place the power supply and disk drive assembly aside and go on to the 
next step.

[ ] 9.23  Now we will remove the old Agnus chip that is in your 
machine. This square 84 pin PLCC chip is located to the right and up 
from the 64 pin 68000 chip and above the 40 pin ROM chip. To remove 
the Agnus chip you need a special PLCC extractor (see the file 
TTMAP50D_PARTS1.IFF). Do not pry the chip out with a screwdriver 
because this will damage the PLCC socket. Once the old Agnus is 
removed go on to the next step.

[ ] 9.24  There are different versions of the 2000 motherboard. At 
this point, using the information that you got in step 9.20, you will 
need to determine which version and type of Amiga 2000 you have. If 
you have an Amiga 2000 with 512K of chip RAM and 512K of fast RAM on 
the motherboard then GO TO STEP 9.25. If you have an Amiga 2000 with 1 
meg of chip RAM then GO TO STEP 9.27. If you have an Amiga 2000 with a 
total of 512K of chip RAM and no fast RAM on your motherboard then you 
cannot do this modification to your machine at this time; go to the 
section on compatibility.


9d. FOR AN AMIGA 2000 WITH 512K OF CHIP RAM AND 512K OF FAST RAM ON 
THE MOTHERBOARD.

[ ] 9.25  Locate jumper pad J500 which is to the lower left of one of 
the 8520 chips. This is a two pad jumper with a trace connecting the 
two pads. Using a sharp X-Acto knife or similar item, cut the trace  
connecting these two pads. Be careful not to cut any other traces. 
Cutting this trace keeps the *EXRAM signal from being tied to ground. 
Once this has been completed go on to the next step.

[ ] 9.26  Locate jumper pad J101 which is to the lower right of the 
power connector. Move the shorting block so that pins 2 and 3 are 
connected. Doing this will enable the A19 address line to the Agnus 
socket. Once you have done this go on to the next step.

[ ] 9.27  At this point your machine should have 1 meg of chip RAM. 
With this configuration you are now able to install the TTMAP board. 
The first thing that you must do is line up pin 1 of the TTMAP board's 
PLCC plug (P1) with pin 1 of Agnus' 84 pin PLCC socket on the 
motherboard. The orientation of pin 1 on the motherboard's Agnus 
socket is located on the right side of the Agnus socket. Make sure 
that the slanted corner of both the PLCC plug and the Agnus socket 
line up. Once the board is properly lined up, firmly seat it down in 
place. Go on to the next step.

[ ] 9.28  Once the TTMAP board is seated in the motherboard's Agnus 
socket you must connect the clip lead to pin 36 of the GARY chip or 
pin 48 of the 68000 chip. See TTMAP50D_PARTS2.IFF for a picture 
showing which pins to connect to. If the notch on the chip faces left 
then pin 1 is at the bottom left corner, if it faces right then pin 1 
is on the top right corner. Now counting in a counter clockwise 
direction from pin 1 you should be able to find the pin you want to 
connect to. Make sure that this clip is attached properly so that it 
is not touching any other pin and it will not pop off the pin it is 
attached to when the computer is closed. Go on to the next step.

[ ] 9.29  After you have installed the TTMAP board and connected the 
clip lead you should now recheck the installation.
     [ ] Traces are all properly cut and reconnected if needed.
     [ ] The TTMAP board is installed properly with the correct
         orientation and is firmly seated.
     [ ] The clip lead is properly attached to Gary pin 36 or to the
         68000 pin 48.

If all of the above check out okay then go on to the next step.


[ ] 9.30  You can now re-assemble your computer. Putting your computer 
back together involves reversing the disassembly instructions above in 
steps 9.21 and 9.22. First reconnect the power connector and the 
ribbon cable from the power supply and disk drive assembly, to the 
motherboard. Carefully place the power supply and disk drive assembly 
back into the computer's body, then replace the seven screws that 
mount the supply to the body of the computer. Next replace the cover 
over the body of the computer and replace the five cover screws. Now 
that your computer is re-assembled GO TO STEP 10.1 of section 10 
"TESTING THE COMPUTER WITH THE TWO MEG AGNUS INSTALLED".


----------------------------------------------------------------------


10. TESTING THE COMPUTER WITH THE TWO MEG AGNUS INSTALLED:

[ ] 10.1  The first thing you should do is set up your computer so 
that you can test it and make sure that the modifications were done 
correctly. After you have set up your computer, boot it up. After 
booting up, open up a CLI and type in "avail" then press return. Look 
under the "Maximum" column and on the "Chip" row to see the amount of 
chip RAM you have. If the number starts with a 2 and is seven digits 
long (like "2096128") then you have 2 megs of chip ram. Using a memory 
testing program verify that the memory on both the motherboard and the 
TTMAP board is operating correctly. If everything tests okay you are 
now done and the modification was done correctly. If the modification 
is not working properly go to section 13 "TROUBLESHOOTING THE TWO MEG 
AGNUS PROJECT". Once you have confirmed that the modification was done 
properly and the computer is operating correctly, you can now have fun 
with your 2 megs of chip RAM. There are no more steps. You have now 
successfully completed this project.


----------------------------------------------------------------------


11. TIPS FOR BUILDING THE TWO MEG AGNUS PROJECT:

  When building projects like this for the first time, it is very easy 
to make mistakes and errors. We've built many electronic projects and 
have found many different ways of doing things that save both time and 
headaches. We have already built a few of these kits so that we could 
get a good feel of what needs to be done in order to make this a 
smooth and easy project to put together. Below we have put together a 
few tips that should help you greatly in putting this kit together. A 
few of them are repeats from what was said earlier in the text.

1. Make sure all the parts NOT marked "OPTIONAL" in the parts list are
in the kit that you ordered.

2. Read all instructions before you ever start a project so that you 
can get a feel of what you will need to do.

3. Do not try to finish the project in one sitting. If you rush 
through it you will probably make some mistakes.

4. Plan out how you are going to do something before you do it.

5. Allow the soldering iron to heat up prior to starting and keep the 
tip of the iron clean with a damp cloth.

6. Do not put blobs of solder on the board. Put only enough solder to 
get the job done. The solder should flow between the pad and the 
component's lead.

7. When soldering, do not allow the iron to stay on the board for more 
than ten seconds at a time.

8. It is a good idea to tin a wire with solder right after its been 
stripped so that the fine strands of wire don't break off or frizz 
out.

9. Before turning on the power, always check for bent pins and proper 
alignment after installing ICs.

10. Because the inside of your computer is a static sensitive 
environment, do not touch any parts inside your computer unless you 
have grounded yourself. To ground yourself simply touch the grounded 
case of your computer or attach yourself to a grounded strap.


----------------------------------------------------------------------


12. OPTIONAL EXTRAS FOR THE TWO MEG AGNUS PROJECT:

1. 2 Megabyte Agnus Chip 8372B

  This is the driving force behind The Two Meg Agnus Project (well,
not really, the circuit and PAL really are, but anyway...) This chip
is required in order to use The Two Meg Agnus Project, and fits into
the PLCC socket on the board.


2. PLCC Extractor

  This is a special tool for removing the Agnus chip from the 
motherboard. To use this device simply insert the tabs of the device 
into the slots of the socket and squeeze. The Agnus chip will easily 
pop out. See the file TTMAP50D_PARTS1.IFF. This extractor is good for 
all sizes of PLCC devices you may come across.


3. 68000 Socket Extender

  On Amiga 500s many people have accelerator cards or RAM cards that 
sit in the 68000 socket of their motherboard. This configuration could 
cause a physical conflict with the installation of the TTMAP board 
because of where the Agnus socket sits on the motherboard. The socket 
extender, when installed, will simply raise the accelerator and/or RAM 
card so that the TTMAP board can sit in the Agnus socket below with 
(hopefully) no conflicts. This extender should be used if you find 
that the two boards physically conflict with each other. The socket
extender raises the accelerator, RAM, or any other expansion card you
may have sitting in the 68000 socket approximately 1/8" (3mm). You
should also use an insulator sheet with this extender.


4. Insulator Sheet

  This insulator sheet is to be placed between the TTMAP board and any 
accelerator and/or RAM board sitting in the 68000 socket. The purpose 
of this sheet is to keep the two boards from touching each other in 
this tight configuration.


5. IC DIP Sockets

  If you would like to have the PAL chip placed in a socket, you may 
do so ONLY if your machine's motherboard allows you to. On some 
machines putting the PAL in a socket causes the PAL to hit another 
device on the motherboard. This does not let the TTMAP board sit 
properly in the Agnus socket. Verify the clearance before you do this. 
We recommend soldering the PAL straight to the board, this makes it 
compatible with all machines.
  The RAM chips can NOT be placed in sockets. This is because they 
will hit other devices on the motherboard no matter which version or 
type of machine you have.


----------------------------------------------------------------------


13. TROUBLESHOOTING THE TWO MEG AGNUS PROJECT

  This section will help you pinpoint any problems that you may have 
in trying to get The TTMAP board to work.

Problem:
After re-assembling the machine the computer will not power-on.

Solution:
Check to make sure all connections to the machine are correct.
Check to make sure the computer is plugged in.
Check to make sure you paid your electric bill.


Problem:
With the TTMAP board installed, typing in the command "avail" only 
shows the maximum chip RAM to be 1 meg.

Solution:
Verify that the clip lead is properly connected to either Gary pin 36 
or to the 68000 pin 48. If this connection is not made you will only 
get 1 meg of chip RAM.
Make sure that the TTMAP board is properly seated in the Agnus socket.


Problem:
The computer will not boot-up properly. It either locks up or
gives a green or blue screen.

Solution:
Verify that the clip lead is properly connected to either Gary pin 36 
or to the 68000 pin 48.
Make sure that the TTMAP board is seated properly.
Make sure that the clip lead is not shorting any other pins.
Make sure that the 2 meg Agnus chip is seated properly in the PLCC 
socket on the TTMAP board.
Make sure all the parts on the TTMAP board are installed properly.


Problem:
None of the solutions above helped to solve the problem.

Solution:
Review all of the instructions and verify that you did everything 
correctly. Then contact us at the addresses shown below by either E-
mail or postal.


  When the Amiga resets, the screen flashes a few different colors. 
Those colors indicate whether there are problems or not, and also
indicates where the problem might be. Here is a list of the possible 
colors and what they mean.

Dark Gray     Hardware OK
Light Gray    Software OK
Red           Bad ROM Checksum
Green         Bad RAM
Blue          Bad Custom Chips
Yellow        Exception


  To further help in solving problems, here is a list of the steps the 
computer takes upon a reset. This can help you get an idea of where 
the computer is crashing depending upon the color of the screen.

- Clear Chips (screen turns blue on a custom chip failure)
- Disable DMA and Interrupts
- Clear the Screen
- Check the Hardware
- Pass/Fail the Hardware to the Screen (Dark Gray=OK, Blue=bad)
- System Setup
- Test the RAM
- Pass/Fail the RAM to the Screen (Green=bad)
- Check the Software
- Pass/Fail the software to the screen (Light Gray=OK, Yellow=bad)
- Set Up the RAM
- Link the Libraries
- Find External RAM and Link it to the list
- Set up Interrupts and DMA
- Start Default Task
- Check for 68010, 68020, 68030, 68040, 68881, 68882
- Check for an Exception (yellow screen if found and 'Software
  Failure' handler not set up)
- System Reset


----------------------------------------------------------------------


If you have any problems or questions we can be reached over the modem 
at:

     INET: ttmaphelp@struad.cts.com

or through the mail at:

     Structured Applications & Designs, Inc.
     TTMAP - Questions and Comments
     P.O. Box 60414
     San Diego, CA 92166
     USA


----------------------------------------------------------------------


LOOK FOR THESE AND OTHER PROJECTS FROM US

The Multi-Kickstart Board Project rev 3.1 (TMKBP) - RELEASED
  The Multi-Kickstart Board Project allows the user of an Amiga 500, 
2000, or 2500 to switch between 3 different versions of the operating 
system via an external switch. These versions of the operating system 
are contained on ROM chips that are normally plugged into the computer 
motherboard. This archive can be found on Fred Fish disk #587 as 
"TMKBP.lzh". It is also on BIX and Genie under the name "TMKBP31.lzh". 
This archive is also on Aminet, the Amiga ftp section. There the 
archive can be found in /pub/aminet/hard/hack/romswitcher31.lzh.

The Multi-Kickstart Board Project - PiggyBack rev 1.0 (TMKBP-PB) -SOON
  The Multi-Kickstart Board PiggyBack is an addition to our TMKBP 
project for the 500, 2000, and 2500 that adds the ability to switch 
operating system versions via the keyboard.

The Two Meg Agnus Project rev 5.0D4 (TTMAP) - RELEASED
  The Two Meg Agnus Project increases the amount of "chip" RAM in an 
Amiga 500, 2000, or 2500 to 2 megabytes. If you are continuously 
running out of graphics memory, then this is for you. The archive 
called "2MegAgnus50d1.lha" will be on a Fish Disk but at this time the 
disk number is undetermined; it will be somewhere between disk 900 and 
1000. The archive is also on BIX and Genie under the name 
"2MegAgnus50d1.lha". It is also on Aminet, the Amiga ftp section. There 
it can be found in /pub/aminet/hard/hack/2megagnus50d4.lha.
