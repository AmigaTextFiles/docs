                    Atari Trackball to Amiga Conversion
                    -----------------------------------

                              By John H. Lee
                         (jhlee@hac2arpa.hac.com)

           Copyright 1995 by John H. Lee.  All Rights Reserved.




                                  NOTICE
                                  ------
           Permission to freely redistribute this file is hereby
           granted provided that it is redistributed in its
           entirety.  The author assumes no liability for any
           damage or injury resulting from use of or following of
           directions in this document.  USE AT YOUR OWN RISK.


This file documents how to convert Atari model CX22 and CX80 trackballs
(originally manufactured for the Atari Video Computer System(TM) and Atari
home computers) for use on Commodore Amiga computers.

I've encountered at least two different Atari trackballs:  the model CX22
and model CX80.  The model CX22 has a beige trackball and two round
buttons.  The model CX80 has a black trackball and twp triangular buttons.
The CX22 appears to be the original model while the CX80 is the newer
cost-reduced model.  They are functionally identical with somewhat similar
circuit designs.  Their construction differ considerably, but both can be
converted into Amiga trackballs while preserving their switchable trackball
and joystick modes.





Atari CX22 Trackball Conversion (Round Buttons & Beige Trackball)
-----------------------------------------------------------------

Theory of Conversion:

        The CX22 trackball generates quadrature signals from vertical and
        horizontal optical interrupters just like an Amiga mouse.  A LM339C
        quad op-amp IC is used as a quad comparator to clean up the signals
        from the optical pickups.  A 4538 (dual D-flip-flop) and a 4011
        (quad 2-input NAND) IC take the quadrature signals and generate
        four direction signals:  left, right, up, and down.  The four
        direction signals, the vertical pulse signal, and horizontal pulse
        signals are fed into a 4019 (quad AND/OR selector) IC that selects
        between the joystick signals and the Atari mouse velocity &
        direction signals.

        The conversion works by replacing the Atari mouse signals at the
        4019 selector IC with the quadrature signals from the comparator.
        The Atari joystick signals are the same as the Amiga's.  If
        desired, the right trackball button is separated from the left
        button and turned into Mouse Button 3 (the right mouse button).
        Some games also recognize it as a second joystick button.

Parts Needed:
        9-pin cable with female DB9 connector (if a right-mouse button is
                desired)
        Parts to connect the 9-pin cable (heatshrink tubing for insulating
                splices or 6 crimp terminals for a .100"-center Molex-type
                 housing)
        Hookup wire

Tools Needed:
        #2 Phillips screwdriver
        Anti-static wriststrap
        IC puller
        Needle nose pliers
        Ohmmeter
        Soldering iron
        Solder


1.  Remove the four screws from the corners on the underside of the case.

2.  Carefully pry apart the two halves of the shell, which are held together
    by two pressure-fit posts.  They might be tight, so be patient.  You
    might want to try pushing on the post with a screwdriver through what
    look like two screw holes in the bottom shell.  Be careful not to drop
    the freed trackball on your foot.

3.  Remove the two interrupter shafts and bearings.

4.  Remove the two screws that hold down the printed circuit board and
    carefully disengage the plastic hook that holds down the corner.

5.  Lift up the PCB and unplug the cable connector J1.

6.  Remove the PCB from the shell.

7.  Take anti-static precautions and locate the 16-pin IC marked "A5" on
    the PCB (a 4019) on the left side of the PCB.  Carefully remove IC A5
    from its socket, noting the orientation of the IC (look for the dot
    at pin 1 or the notch at one end.)

8.  Carefully straighten pins 1, 3, 5, and 7 so that they stick straight
    out to the side of the IC.

        Dual In-Line Package IC Pin Numbering
        (looking from COMPONENT side at a 16-pin IC):
        ---------------------------------------------
             Dot---\  v------Notch
                    +-U-+
                  1 |o  | 16
                  2 |   | 15
                  3 |   | 14
                  4 |   | 13
                  5 |   | 12
                  6 |   | 11
                  7 |   | 10
                  8 |   |  9
                    +---+

9.  Reinsert IC A5 into its socket, making sure it's oriented correctly.

10. Solder the following jumper wires directly to IC A5 from the test points
    marked "TPx" placed along the bottom of the PCB.  Be careful to avoid
    overheating the IC.

        IC A5 Pin   Test Point      Which Is Connected To (for reference)
        ---------   ----------      -------------------------------------
            1           TP3                 IC A1 pin 13
            3           TP2                 IC A1 pin 1
            5           TP4                 IC A1 pin 14
            7           TP1                 IC A1 pin 2

11. Unfortunately, the original cable does not connect pin 9, so it cannot
    support a right mouse button.  If you don't want the right mouse
    button, you can leave the original cable and skip to step 16.

12. Replace the original cable with the new 9-pin cable.  Connect the
    following pins from the female DB9 cable to connector J1.  I reused
    the J1 connector shell from the original cable and installed new
    crimp-on terminals purchased from an electronics store.  You may find
    it easier to cut the wires, leaving about 2" to splice the connector
    onto the new cable (don't cut the black ground wire to the buttons!)
    I highly recommend heat-shrink tubing to seal the splices; electrical
    tape *will* come apart, permitting shorts to occur.

        DB9 Pin     J1 Pin          Used For
        -------     ------          --------
           1          4             Mouse Vertical / Forward
           2          3             Mouse Horizontal / Back
           3          6             Vertical Quadrature / Left
           4          5             Horiz. Quadrature / Right
           5        (not connected) Mouse Button 2 (Middle) / Horiz. Pot
           6        (Left Button)   Mouse Button 1 (Left) / Fire
           7          2             +5
           8          1             Ground
           9        (Right Button)  Mouse Button 3 (Right) / Vertical Pot

        DB9 Pin Numbering (looking at the end of the female DB9):

                 +-----------+
                 | 5 4 3 2 1 |
                  \         /
                   \9 8 7 6/
                    +-----+

13. Cut the red wire that runs between the two buttons.  Cut it as close
    as possible to the connector at the left button.

14. Splice the left button red wire to the DB9 pin 6.

15. Splice the right button red wire to the DB9 pin 9.

16. At this point, all wiring has been completed.  Double check your work
    and make sure there are no shorts.

17. Plug connector J1 back onto the PCB.

18. Snap the PCB back into the bottom shell, but do not install the screws
    yet.  Replace the two interrupter shafts and bearings, and place the
    trackball on the shafts.

19. Test the trackball while it's still disassembled.  Set the mode select
    switch on the trackball to "Trackball" and plug the trackball into the
    mouse port of your Amiga.

20. Turn your Amiga on and verify that the mouse cursor moves and the
    buttons work as expected.

21. Run your favorite joystick game, move the trackball to the second
    mouse port if needed, switch the trackball to joystick mode, and
    verify the that trackball now acts like a joystick.

22. Turn your Amiga off and unplug the trackball.

23. Install the two screws that hold down the PCB.  Make sure that the
    interrupters spin without touching the optical sensors.

24. Reassemble the shell and install the four screws in the corners.

25. Enjoy your new trackball!







Atari CX80 Trackball Conversion (Triangular Buttons & Black Trackball)
----------------------------------------------------------------------

Theory of Conversion:

        The CX80 trackball generates quadrature signals from vertical
        and horizontal optical interrupters just like the Amiga mouse.
        Two-thirds of a 40106 (hex Schmitt-trigger inverter) IC is used
        as a quad comparator to clean up the signals from the optical
        sensors.  A 4098 (dual precision retriggerable monostable
        multivibrator), 4013 (dual D-flip-flop), and remaining one-third
        of the 40106 IC take the quadrature signals and generate four
        direction signals, left, right, up, and down.  The four direction
        signals, the vertical pulse, and horizontal pulse signals are fed
        into a 4019 (quad AND/OR selector) IC that selects between the
        joystick signals and the Atari mouse velocity & direction signals.

        The conversion works by replacing the Atari mouse signals at the
        4019 selector IC with the quadrature signals from the 40106 hex
        inverter.  The Atari joystick signals are the same as the Amiga's.
        If desired, the right trackball button is separated from the left
        button and turned into Mouse Button 3 (the right mouse button).
        Some games also recognize it as a second joystick button.

Parts Needed:
        9-pin cable with female DB9 connector (if a right-mouse button is
                desired)
        Heatshrink tubing (for insulating splices)
        Hookup wire

Tools Needed:
        Anti-static wriststrap
        #1 Phillips screwdriver
        Needle-nose pliers
        Soldering iron
        Solder
        X-acto knife


1.  Peel off the four stick-on rubber feet on the underside of the case.

2.  Remove the four screws hidden by the feet.

3.  Open the shell.  Be careful not to drop the loose trackball on your foot.

4.  Take anti-static precautions.  The main printed circuit board is
    attached to two small circuit boards by ribbon cable.  These small PCBs
    hold the optical sensors for the vertical and horizontal interrupters.
    They are slid into place and held by friction.  Carefully pry up and
    loosen them.

5.  Carefully lift the PCB assembly from the bottom shell.  Do not
    disconnect the cable yet.

6.  There are four IC's on the PCB.  Looking at the component side of the
    PCB with the connectors to the cable at top, locate the 4019 (16 pin)
    and 4013 (14 pin) IC's on the right side of the PCB.

7.  Turn the PCB over and on the solder side locate the solder pads for the
    4013 and 4019 IC's.

8.  Using a sharp Xacto knife, cut the traces to the 4019 IC at pins 4, 6,
    and 15.  Be sure to cut only the traces to those pins.  Pin 1 is marked
    with a small "1".  Remember that the left and right sides are reversed
    when you're looking at the solder side.  My favorite technique is to
    make two cuts close to each other and then lift (or scrape) the copper
    sliver between the cuts away from the PCB.

        Dual In-Line Package IC Pin Numbering
        (looking from COMPONENT side at a 16-pin IC):
        ---------------------------------------------
             Dot---\  v------Notch
                    +-U-+
                  1 |o  | 16
                  2 |   | 15
                  3 |   | 14
                  4 |   | 13
                  5 |   | 12
                  6 |   | 11
                  7 |   | 10
                  8 |   |  9
                    +---+

9.  Verify with a ohmmeter that the traces have been cut.

10. Solder the following jumpers from the pads of the 4013 IC to the pads
    of the 4019 IC.  Use short pieces of hookup wire; 30-gauge wire-wrap
    wire works pretty well.  Be careful not to overhead the IC's.

                4013 IC Pin     4019 IC Pin
                -----------     -----------
                     3               6
                     9              15
                    11               4

11. Unfortunately, the original cable does not connect pin 9, so it cannot
    support a right mouse button.  If you don't want the right mouse
    button, you can leave the original cable and skip to step 15.

12. Locate the contact area for the right button on the PCB.  There is a
    trace that goes to the "BLUE" connector via a solder pad for a jumper
    to the left button.  Cut this trace between the right button contact
    area and the first solder pad, near the solder pad.  The wire to pin 9
    of the DB9 cable will be soldered directly to the trace leading to the
    contact area.

13. Replace the original cable with the new 9-pin cable.  Connect the
    following pins from the female DB9 cable to the connector pads along
    the top edge of the PCB.  You'll probably want to solder the new
    cable directly to the pads.  Optionally, you can cut off the spade
    connectors from the original cable and splice them to the new cable.
    (I couldn't find substitute spade connectors.)  I highly recommend
    heat-shrink tubing to seal the splices; electrical tape *will* come
    apart, possibly permitting shorts to occur.

        DB9 Pin     PCB Pad         Used For
        -------     ------          --------
           1        Brown           Mouse Vertical/Forward
           2        Red             Mouse Horizontal/Back
           3        Orange          Vertical Quadrature/Left
           4        Yellow          Horiz. Quadrature/Right
           5        (not connected) Mouse Button 2 (Middle)/Horiz. Pot
           6        Blue            Mouse Button 1 (Left)/Fire
           7        Purple          +5
           8        Gray            Ground
           9        (Right Button)  Mouse Button 3 (Right)/Vertical Pot


        DB9 Pin Numbering (looking at the end the female DB9):

                 +-----------+
                 | 5 4 3 2 1 |
                  \         /
                   \9 8 7 6/
                    +-----+

14. Scrape the oxidation off the trace to the right button and solder the
    wire to the DB9 pin 9 directly to the PCB trace leading to the right
    button.

15. At this point, all wiring has been completed.  Double check your work
    and make sure there are no shorts.

16. Reinsert the optical sensor PCB's back into their slots.  Make sure
    they're fully inserted and that the interrupters spin without
    touching the optical sensors.

17. Position the PCB back into the bottom shell and place the trackball
    on the interrupter shafts.

18. Fit the top shell back on and install only two screws, in diagonally
    opposite corners.

19. Test the trackball while it's still partially disassembled.  Set the
    mode select switch on the trackball to "TB" and plug the trackball
    into the mouse port of your Amiga.

20. Turn your Amiga on and verify that the mouse cursor moves and the
    buttons work as expected.

21. Run your favorite joystick game, move the trackball to the second
    mouse port if needed, switch the trackball to "JS" mode, and verify
    the that trackball now acts like a joystick.

22. Turn your Amiga off and unplug the trackball.

23. Install the remaining two screws into the shell.

24. Stick the four rubber feet back over the screw holes.

25. Enjoy your new trackball!



---------------
Copyright 1995 by John H. Lee.  All Rights Reserved.
All trademarks are the property of the respective trademark owners.

