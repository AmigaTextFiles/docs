

Changes from V39 to V40
=======================


Environment variable I2CDELAY
-----------------------------

This is good news for developers.  No more need for each and every I2C
client program to adjust the bus timing on startup.  The user does this
once for the whole system and all I2C clients will run happily ever after.

However, existing V39 programs that call SetI2CDelay() and expect the user 
to supply a suitable setting will still continue to work this way.  That's 
sad, but simply disabling SetI2CDelay() in the new library was not an 
option.  That would have put diagnostic programs (like I2CScan) out of
action, too, which are essential for *finding* a suitable delay value in
the first place.

Note that the V39 documentation was wrong in claiming that the default
delay value of 0 (at that time) would be "okay in most cases, anyway".
This is definitely not true for A1200, but I learnt that only
recently. My apologies.


Performance counters in I2C_Base
--------------------------------

Fun.  Execute "I2CScan -w" while some other I2C client is running to see
what they do.  (Source code for that program is supplied, too.)


Interface type information in I2C_Base
--------------------------------------

This might be useful to resolve the old dilemma "Need I call ShutDownI2C()
before my program tries to print something?  After all, the I2C interface
might or might not be connected to the printer port..."

For an example, take a look at I2Cscan.c, funtion "watcher()".

