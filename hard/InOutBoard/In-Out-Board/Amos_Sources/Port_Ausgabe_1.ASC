'**************************************************************************
'*                                                                        *
'*                    Programm: Port_Ausgabe_1.Amos                       *
'*                                                                        *
'*                     © 1993-96 Andreas Heinrich                         *
'*                                                                        *
'**************************************************************************
'
'
'        Dieses Programm schreibt an Port 3 den Wert der Variable N
'             Dabei wird N hochgezählt bis 255 erreicht wird.
'
'
'**************************************************************************
'
'  A=Port selektieren
'  N=Wert an diesem Port geben
   Global A,N
   Hide On : Curs Off
'
'
A=3 : Rem       Ausgabeport 3 wird ausgewählt -> IC 4
N=0 : Rem       Wert 0 in N
'
INIT : Rem      Nach dem einschalten einmal aufrufen
'
'**************************** Hauptprogramm *******************************
'
'               Und hier wird an Port 3 der Wert N hochgezählt
'
NOCH_EINMAL:
For X=0 To 255
N=X
Print N : Rem              N auf Bildschirm ausgegeben
SCHREIBEN
Wait 25 : Rem              Zur besseren Kontrolle wird das Programm
'                          gebremst.
'                          Um volle Geschwindigkeit zu bekommen, die
'                          Print und Wait - Anweisung herausnehmen.
Next X
Print
Centre "Noch einmal ? Dann eine Taste drücken."
Print
Print
Centre "Oder Abbruch mit Ctrl - C"
Print
Print
'                          Warten bis Taste gedrückt.
Wait Key
Goto NOCH_EINMAL : Rem     Und noch einmal
'
'
'************************** Proceduren ********************************
'
Procedure SCHREIBEN
'
Poke 12570624,248+A : Rem  Adresse A selektieren
Poke 12575489,255 : Rem    Port als Ausgang schalten
Poke 12574977,N : Rem      Wert N schreiben
Poke 12570624,255 : Rem    Ready LED einschalten
'
End Proc
'
Procedure INIT
'
Poke 12571136,199 : Rem    Busy,P-aus und SEL=Bitmuster Ausgabe
Poke 12570624,255 : Rem    Adresse 7 selektieren (Ready LED ein)
Poke 12575489,0 : Rem      Port als Eingang schalten
'
End Proc
'
