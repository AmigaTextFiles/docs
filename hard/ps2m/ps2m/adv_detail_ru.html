<html><head><title>Ultimate Amiga PS/2 Wheel Mouse Controller</title></head>
<body bgcolor="A0A0A0" link="ff0000" vlink="ff0000">

<a href="index_ru.html">Оглавление</a>

<h3>Более детальный обзор:</h3>

<ul>
<li><b>предупреждение переполнения счётчиков мыши Амиги</b><p>
На Амиге для счёта положения мыши используются байтовые счётчики со знаком, и AmigaOS
проверяет их один раз каждый обратный ход луча.  Это означает, что мышь может перемещаться
только на 127*КадроваяЧастота пикселов в секунду (6096 пикселов в секунду для дефолтового
DblPAL).  Если это значение превышено, AmigaOS не может определить истинное перемещение
мыши, и стрелка начинает хаотично метаться по экрану.  Для исправления этого эффекта, мой
PS/2 контроллер ограничивает перемещение до 6000 пикселов в секунду.  Если мышь
перемещается быстрее, перемещение будет запомнено и отработано на скорости 6000 пикселов в
секунду.<p>
Более медленные перемещения всегда отрабатываются на своей реальной скорости.<p>

<li><a name="linear"><b>линейная интерполяция перемещения</b><p>
Как известно, RS-232C (так же известные как &laquo;COM&raquo;)
мыши на ПЦ имеют исключительно отстойное качество - мышиная стрелка с ними не
перемещается, а сколее прыгает.  Это происходит из-за того, что обычная трёхкнопочная
RS-232C мышь сообщает о своём состоянии всего 25 раз в секунду (а кадровая частота обычно
в несколько раз больше этого значения).  PS/2 мыши работают лучше - все они умеют сообщать
о изменении сосотяния как минимум 80 раз в секунду, и большинство из них (исключая
пятикнопочные мыши) умеют это делать даже 200 раз в секунду.  Но это тоже не идеал -
поскольку скорость обновления с мыши вызывает &laquo;биения&raquo; (интерференцию) с
частотой обновления экрана, которая обычно имеет сходную величину (для сравнения - 80 герц
для Genius NetScroll Optical и 72 герца для популярного экранного режима Super72).  Для
исправления этого, мой контроллер перемещает &laquo;виртуальную амижную мышь&raquo;
плавно.  Если пользователь перемещает PS/2 мышь на 500 пикселов в секунду, Амига получит с
моего контроллера истинные 500 пикселов в секунду, с не менее истинными
двухмиллисекундными интервалами - Вы можете взять осциллограф и проверить это.
Приведённая ниже иллюстрация наглядно демонстрирует эту идею:<p>

<img src="movement.png" width="518" height="389" alt="Линейная интерполяция перемещения"><p>

Большинство (если не все) остальных контроллеров ПЦ-мышей не имеют чего-либо подобного,
и перемещают &laquo;виртуальную амижную мышь&raquo; рывками после каждого пакета байтов с
ПЦ-мыши.  Например, если пользователь перемещает RS-232C мышь на 500 пикселов в секунду,
и мышь посылает 25 пакетов в секунду, Амига получит 25 пакетов по 20 быстрых (несколько
микросекунд между отсчётами) перемещений в секунду, с почти 40-миллисекундными интервалами
между пакетами.  Если пользователь имеет 75 герц кадровой частоты, положение мышиной
стрелки будет обновляться только каждый третий вертикальный ход луча, и прыжки мышиной
стрелки (по сравнению с идеально плавной амижной мышью) будут только подталкивать
пользователя к самоубийству при помощи шнура от мыши :-)<p>
Мой PS/2 контроллер свободен от этих эффектов.  Теоретически я даже могу сделать плавный
контроллер RS-232C мышей, но это бессмысленно ввиду фактической смерти RS-232C мышей как
явления.  Современные оптические мыши уже не имеют RS-232C версий, но не существует
современных мышей без PS/2 версии.<p>

<li><b>отслеживание зависаний мыши</b><p>
Некоторые китайские мыши не только очень дешевы, но и очени нестабильны.  Встроенный в
мышь контроллер может зависнуть и даже не отвечать на команду сброса.  Такие мыши на ПЦ
требуют реконнекта (и иногда ребута) - либо передёргивания питания.  Мой контроллер в
случае двухсекундной &laquo;тишины&raquo; (когда пользователь не трогает мышь) спрашивает
мышь о её состоянии.  Если мышь не отвечает, контроллер автоматически снимает с неё
питание на некоторое время.<p>
Будьте внимательны: аппаратный сброс не работает на
<a href="version_ru.html">пятикнопочной версии</a> контроллера из-за нехватки
контактов PIC'а - вы можете выбирать между пятикнопочной версией и качественной мышью, и
четырёхкнопочной версией для отстойных мышей.  Однако, в любом случае, экстренный сброс
мыши можно осуществить путём её &laquo;перетыкания&raquo; на лету...<p>

<li><b>полная поддержка Plug'n'Play</b><p>
Благодаря предыдущей возможности, контроллер будет определять смену мыши,
и даже корректно определять её дополнительные возможности (или их отсутствие).
Вам не нужно не только заменять драйвера, но даже перегружаться для смены мыши на
абсолютно другую: смело меняйте её &laquo;на лету&raquo; - это вам не ПЦ :)<p>

<li><a name="buttons"><b>поддержка популярного протокола Microsoft Intellimouse/Explorer</b><p>
Microsoft (в данном контексте это не ругательство, а всего лишь название компании) вместо
своей обычной практики утаивания разных тонкостей, опубликовал протоколы своих
&laquo;колёсных&raquo; мышей.  Этот протокол имеет два уровня - протокол трёхкнопочной
колёсной мыши (Intellimouse), и протокол пятикнопочной колёсной мыши (Intellimouse
Explorer).  На рынке присутствует множество совместимых с первым уровнем этого протокола
мышей (например, упомянутый выше Genius NetScroll Optical).  Все эти мыши должны работать
с колёсиком на моём контроллере.<p>
Некоторые другие мыши поддерживают и второй уровень протокола.  Например, это мышка A4Tech
WOP-35.  С моим контроллером на таких мышах поддерживаются все пять кнопок.  Если Вы
используете <a href="version_ru.html">четырёхкнопочную версию</a> моего
контроллера, обе дополнительные кнопки будут работать как одна.<p>

<li><b>поддержка протокола Genius NetScroll Optical</b><p>

Некоторые мыши, типа описанной Genius NetScroll Optical, могут поддерживать только
первый уровень протокола Microsoft - хотя имеют дополнительные кнопки.  Для поддержки
дополнительных возможностей в таких мышах реализован собственный протокол.  Начиная с
<b>версии 1.5</b>, контроллер поддерживает оба пятикнопочных протокола, включая протокол
NetScroll Optical.<p>

Другие мыши, типа A4Tech WOP-35, могут также иметь совместимость с протоколами MS и свои
собственные протоколы - для дополнительных колёсиков (WOP-35), &laquo;отдачи&raquo;
(Logitech iFeel) и т.п.  Некоторые мыши имеют другую идеологию органов управления -
как, например, &laquo;джойстик&raquo; между кнопками Maxxtro.  Дополнительные возможности
всех этих мышей пока не могут быть использованы с моим контроллером - но всё меняется :-)<p>

Если у Вас не поддерживаемая моим контроллером мышь, Вы можете передать её мне лично или
послать по почте (либо прислать сумму, достаточную для её покупки здесь) - и я сделаю её
поддержку.  <a href="compatibility_ru.html#support">Заинтересованы?</a><p>

<li><b>пятая кнопка мыши - теперь и на Амиге тоже!</b><p>
До этого времени на Амиге поддерживалось максимум четыре кнопки мыши.
Мой контроллер преодолел этот барьер - пусть будет больше кнопок, хороших и разных! :)<p>

<li><b>горизонтальный скроллинг даже на мыши с одним колёсиком</b><p>
Вы можете переключить вертикальный скроллинг на горизонтальный с помощью нажатия
выделенной для этого клавиши или кнопки мыши.  Могут использоваться клавиши
Ctrl/Alt/Shift/Amiga на клавиатуре, любая кнопка мыши, любая кнопка джойстика.<p>

<li><b>полная совместимость со стандартом Amiga NewMouse</b><p>
Стандарт NewMouse описывает внутренний протокол AmigaOS для &laquo;колёсных&raquo; мышей.
Есть ряд программ, совместимых с этим стандартом - например, утилита MUIWheel и пакет
Directory Opus Magellan.  Все эти программы будут работать с моим PS/2 контроллером.<p>
К сожалению, этот стандарт описывает только четыре кнопки мыши.  Но в любом случае, любая
из двух дополнительных кнопок может быть использована как абстрактная четвёртая кнопка, и
вторая - как временный переключатель направления скроллинга (вертикальный/горизонтальный).
Также можно использовать обе кнопки как горизонтальный скроллер.<p>

<li><b>полная совместимость с программой WheelBusMouse</b><p>
WheelBusMouse на самом деле не является драйвером колёсика для моего переходника.  Это
самостоятельный программный продукт, позволяющий подключать к Амиге переделанные ПЦ-мыши с
сохранением дополнительных функций.  Контроллер полностью электрически совместим с
переделанной мышью - и в результате с <a href="ftp://de.aminet.net/pub/aminet/util/mouse/WheelBusMouse.lha">пакетом WBM</a>.
Таким образом, Вы можете установить пакет WBM и переделать мышь вместо изготовления моего
переходника.  А можно и наоборот :)<p> Поскольку для колёсика используются такие же
квадратурные сигналы, как и для основной функции мыши, то Вы даже можете просто воткнуть в
джойстиковый порт вторую мышь и использовать её в качестве скроллера ;-)<p>

<li><a name="joystick"><b>вы можете одновременно использовать мышь и два джойстика</b><p>
То, что сигналы колёсика заводятся на джойстиковый порт - никак не мешает использованию
джойстика.  Контроллер не нужно &laquo;перетыкать&raquo; - можно сделать для него
&laquo;проходной&raquo; разъём, или вообще смонтировать его путём припаивания проводами к
материнке в desktop/tower варианте Амиги.  Более того, вы можете использовать даже ВТОРОЙ
джойстик безе &laquo;перетыкания&laquo; - просто подключив его параллельно мышиному
контроллеру!<p>
Для реализации таких чудес применено простейшее решение.  Очевидно, что джойстик и мышь
одновременно обычно не требуются.  Поэтому для активации джойстика достаточно нажать на
нём Fire - контроллер обнаружит это и уберёт с джойстикового порта свои сигналы.
Это ещё не является каким-то особенным режимом его работы - при прокручивании колёсика
сигналы появятся вновь.<p>
Для того, чтобы начать использовать два джойстика - нужно на втором (подключённом
параллельно мыши) опять же нажать кнопку Fire.  После этого контроллер полностью
отключится, убрав свои сигналы с обоих портов.  Более того, он никак себя не будет
проявлять даже при движении мыши - что ликвидирует неприятные эффекты во время игры, если
Вы случайно заденете мышь.<p>
Чтобы вернуть контроллер в &laquo;мышиное состояние&raquo; - нажмите любую кнопку мыши.<p>

<li><b>низкая загрузка процессора в &laquo;колёсном&raquo; режиме</b><p>
Контроллер не использует никаких программных последовательных протоколов - типа
применяемого для считывания состояния игрового контроллера CD32.  Не используется
аналого-цифровых преобразований, не используются прерывания - как для сериальных мышей.
Таким образом, количество обращений к чипсету сводится до абсолютного минимума, и этот
вариант реализации &laquo;колёсных&raquo; мышей можно считать наиболее шустрым среди всех
имеющихся.<p>

<li><b>самый продвинутый контроллер мыши для Амиги</b><p>
<font color="ffffff">Вы всё ещё сомневаетесь в этом? :) ;) =)</font>
</ul>

</body></html>
