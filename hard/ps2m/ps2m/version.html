<html><head><title>Ultimate Amiga PS/2 Wheel Mouse Controller</title></head>
<body bgcolor="ffffff" link="ff4040" vlink="ff4040">

<a href="index.html">Main page</a>

<h2>Two versions of PS/2 controller hardware</h2>

From <b>version 1.4</b>, there is new version of hardware - with 5 buttons support.
But this version lacks one of previous features - hardware mouse reset by power switching.
This is because of lack of PIC pins - I don't want use 28-pin PIC instead of 18-pin only
because of not very useful (with quality mice) hardware reset feature.  It means that
controller with new hardware can't reset mouse, if mouse hangs (but anyway you can reset
your mouse by reconnecting &laquo;on the fly&raquo;).  Because of this, if you have cheap
Chinese mouse without any additional buttons, you can still use old hardware version.<p>

For possibility to select between old and new hardware, there are and will be two
firmware versions:

<ul>
<li>4-button version with hardware reset feature
<li>5-button version without hardware reset feature
</ul>

<font size="+1"><b>Take care of firmware and hardware correspondence:
each firmware can be used only with corresponding hardware!</b></font><p>

<h2>New 5-button version of controller</h2>

5-button version (click <a href="pic/ps2m_5button.hex">here</a> for corresponding firmware)
is intended for use with high-quality, rich-featured, optical mice.  It can't reset mouse
by power switching.  Anyway, even if this mouse hang, you can reset it by reconnect
&laquo;on the fly&raquo; as described above.  This version can be used with any mice
because of no restrictions of loading current.<p>
<center>
<img src="ps2m_5button.png" width="502" height="284" alt="5-button controller schematic diagram">
</center><p>

From <b>version 1.5</b> you can use PIC16F627 (628) instead of older PICs.  This PIC has
internal RC generator and doesn't require crystal resonator.  Firmware is <a
href="pic/ps2m_5button.hex">the same</a>.  You can simplify scheme because of this, and in
future (because of free OSC PIC pins) you can use two-wheel mice and/or joystick
simulation on keyboard:<p>
<center>
<img src="ps2m_2wheel.png" width="502" height="284" alt="2-wheel controller schematic diagram">
</center><p>

<h2>Old (now 4-button) version of controller</h2>

It is old (version 1.3) hardware - click <a href="pic/ps2m_mousepower.hex">here</a> for
corresponding firmware.  There is no reason to build it now - even your mouse sometimes
hangs, it is a good reason to buy something better :)&nbsp;  This version can't be
used without modification to work with optical mice because of low-current output of PIC
(25mA max versus 80-100mA of optical mice), and it is useless for high-quality mice that
don't hang.  Of course, if you want, you can power-up RA4 pin by MOSFET and work even with
optical mice :)<p>

In spite of old hardware version, <a href="pic/ps2m_mousepower.hex">new firmware</a> on old
hardware now supports 4 buttons (instead of 3 in version 1.3).  It was done due to
connection of PIC to Fire-0 on joyport - it is now used not only for wheel disable by
joystick, but for fourth button too.  If you use 5-button mouse in this mode, additional
buttons will act like one.<p>

<center>
<img src="ps2m_mousepower.png" width="502" height="284" alt="4-button controller schematic diagram">
</center><p>

<h2>What version to build?</h2>

If you don't know, what version to do - <b>build new 5-button version</b>.  If you mouse
hang - as I said above, it's a good reason to buy some better :)<p>

<b>WARNING!</b> That two versions has DIFFERENT connection to joystick port!  This is
because of pull-up needed for joystick fire-1, used for 5th mouse button - RA lines of PIC
don't have it, and it was connected to RB5 line.  RA4 was reconnected to joystick
fire-0.<p>

<h2>How to upgrade my old controller for 5 buttons?</h2>

This upgrade for <b>version 1.3</b> is simple: reconnect RB5 (10 pin of PIC) to 9 pin of
joyport (instead of old 6 pin), connect RA4 (3 pin of PIC) to 6 pin of joyport, disconnect
it from mouse socket and connect this mouse socket pin (4 of MiniDIN) to ground (for
example - 5 pin of PIC).<p>

If you don't want to modify old controller - simply use <a href="pic/ps2m_mousepower.hex">4-button
firmware</a>.

</body></html>
