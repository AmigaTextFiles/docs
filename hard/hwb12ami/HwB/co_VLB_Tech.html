<html>

<head>
<meta http-equiv="Content-Type"
content="text/html; charset=iso-8859-1">
<meta name="Author" content="Joakim Ögren">
<meta name="Description"
content="Technical description of the VESA LocalBus (VLB) connector.">

<title>HwB: VESA LocalBus (VLB) (Tech) Connector</title>
<meta name="Keywords"
content="HwB, pinout, hardware, connector, vesa, localbus, vlb, bus, technical">


</head>

<body background="images/bgr_grey.jpg" bgcolor="#C0C0C0"
text="#000000" link="#0000EE" vlink="#551A8B" alink="#FF0000">


<p align="center"><a href="menu_Connector.html"><img
src="images/mini_Back.GIF" alt="GoTo Connector" border="0"
width="64" height="48"></a><img src="images/menu_Connector.GIF"
alt="CONNECTOR" width="400" height="48"><a href="hwb.html"><img
src="images/mini_hwb.GIF" alt="GoTo Main" border="0" width="64"
height="48"></a></p>


<h1>VESA LocalBus (VLB) (Technical)</h1>

<p>This section is currently based soly on the work by Mark
Sokos.</p>

<p>This file is intended to provide a basic functional overview
of the Vesa Local Bus, so that hobbyists and ametuers can design
their own VLB compatible cards.</p>

<p>It is not intended to provide complete coverage of the VLB
standard.</p>

<p>VLB Connectors are usually inline with ISA connectors, so that
adapter cards may use both. However, the VLB is seperate, and
does not need to connect to the ISA portion of the bus.</p>

<p>The 64 bit expansion of the bus (optional) does not add
additional pins or connectors. Instead, it multiplexes the
existing pins. The 32 bit VLB bus does not use the 64 bit signals
shown in the above pinouts.</p>

<h2>Signal Descriptions</h2>

<h3>A2-A31</h3>

<p>Address Bus</p>

<h3>ADS</h3>

<p>Address Strobe</p>

<h3>BE0-BE3</h3>

<p>Byte Enable. Indicates that the 8 data lines corresponding to
each signal will deliver valid data.</p>

<h3>BLAST</h3>

<p>Burst Last. Indicates a VLB Burst Cycle, which will complete
with *BRDY. The VLB Burst cycle consists of an address phase
followed by four data phases.</p>

<h3>BRDY</h3>

<p>Burst Ready. Indicates the end of the current burst transfer.</p>

<h3>D0-D31</h3>

<p>Data Bus. Valid bytes are indicated by *BE(x) signals.</p>

<h3>D/C</h3>

<p>Data/Command. Used with M/IO and W/R to indicate the type of
cycle.</p>

<table border="1">
    <tr>
        <th>M/IO</th>
        <th>D/C</th>
        <th>W/R</th>
        <th></th>
    </tr>
    <tr>
        <td>0</td>
        <td>0</td>
        <td>0</td>
        <td>INTA sequence</td>
    </tr>
    <tr>
        <td>0</td>
        <td>0</td>
        <td>1</td>
        <td>Halt/Special (486)</td>
    </tr>
    <tr>
        <td>0</td>
        <td>1</td>
        <td>0</td>
        <td>I/O Read</td>
    </tr>
    <tr>
        <td>0</td>
        <td>1</td>
        <td>1</td>
        <td>I/O Write</td>
    </tr>
    <tr>
        <td>1</td>
        <td>0</td>
        <td>0</td>
        <td>Instruction Fetch</td>
    </tr>
    <tr>
        <td>1</td>
        <td>0</td>
        <td>1</td>
        <td>Halt/Shutdown (386)</td>
    </tr>
    <tr>
        <td>1</td>
        <td>1</td>
        <td>0</td>
        <td>Memory Read</td>
    </tr>
    <tr>
        <td>1</td>
        <td>1</td>
        <td>1</td>
        <td>Memory Write</td>
    </tr>
</table>

<h3>ID0-ID4</h3>

<p>Identification Signals.</p>

<table border="1">
    <tr>
        <th>ID0</th>
        <th>ID1</th>
        <th>ID4</th>
        <th>CPU</th>
        <th>Bus Width</th>
        <th>Burst</th>
    </tr>
    <tr>
        <td>0</td>
        <td>0</td>
        <td>0</td>
        <td>(res)</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
    </tr>
    <tr>
        <td>0</td>
        <td>0</td>
        <td>1</td>
        <td>(res)</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
    </tr>
    <tr>
        <td>0</td>
        <td>1</td>
        <td>0</td>
        <td>486</td>
        <td>16/32</td>
        <td>Burst Possible</td>
    </tr>
    <tr>
        <td>0</td>
        <td>1</td>
        <td>1</td>
        <td>486</td>
        <td>16/32</td>
        <td>Read Burst</td>
    </tr>
    <tr>
        <td>1</td>
        <td>0</td>
        <td>0</td>
        <td>386</td>
        <td>16/32</td>
        <td>None</td>
    </tr>
    <tr>
        <td>1</td>
        <td>0</td>
        <td>1</td>
        <td>386</td>
        <td>16/32</td>
        <td>None</td>
    </tr>
    <tr>
        <td>1</td>
        <td>1</td>
        <td>0</td>
        <td>(res)</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
    </tr>
    <tr>
        <td>1</td>
        <td>1</td>
        <td>1</td>
        <td>486</td>
        <td>16/32/64</td>
        <td>Read/Write Burst</td>
    </tr>
</table>

<p>&nbsp;</p>

<table border="1">
    <tr>
        <td>ID2 Indicates wait:</td>
        <td>0 = 1 wait cycle (min)</td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td>1 = no wait</td>
    </tr>
    <tr>
        <td>ID3 Indicates bus speed:</td>
        <td>0 = greater than 33.3 MHz</td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td>1 = less than 33.3 MHz</td>
    </tr>
</table>

<h3>IRQ9</h3>

<p>Interrupt Request. Connected to IRQ9 on ISA bus.This allows
standalone VLB adapters (not connected to ISA portion of the bus)
to have one IRQ.</p>

<h3>LEADS</h3>

<p>Local Enable Address Strobe. Set low by VLB master (not CPU).
Also used for cache invalidation signal.</p>

<h3>LBS16</h3>

<p>Local Bus Size 16. Used by slave device to indicate that it
has a transfer width of only 16 bits.</p>

<h3>LCLK</h3>

<p>Local Clock. Runs at the same frequency as the cpu, up to 50
MHz. 66 MHz is allowed for on-board devices.</p>

<h3>LDEV</h3>

<p>Local Device: When appropriate address and M/IO signals are
present on the bus, the VLB device must pull this line low to
indicate that it is a VLB device. The VLB controller will then
use the VLB bus for the transfer.</p>

<h3>LRDY</h3>

<p>Local Ready. Indicates that the VLB device has completed the
cycle. This signal is only used for single cycle transfers. *BRDY
is used for burst transfers.</p>

<h3>LGNT</h3>

<p>Local Grant. Indicates that an *LREQ signal has been granted,
and control is being transferred to the new VLB master.</p>

<h3>LREQ</h3>

<p>Local Request. Used by VLB Master to gain control of the bus.</p>

<h3>M/IO</h3>

<p>Memory/IO. See D/C for signal description.</p>

<h3>RDYRTN</h3>

<p>Ready Return. Indicates VLB cycle has been completed. May
precede LRDY by one cycle.</p>

<h3>RESET</h3>

<p>Reset. Resets all VLB devices.</p>

<h3>WBACK</h3>

<p>Write Back.</p>

<h2>64-bit Expansion Signals</h2>

<h3>ACK64</h3>

<p>Acknowledge 64 bit transfer. Indicates that the device can
perform the requested 64 bit transfer cycle.</p>

<h3>BE4-BE7</h3>

<p>Byte Enable. Indicates which bytes are valid (similar to
BE0-BE3).</p>

<h3>D32-D63</h3>

<p>Upper 32 bits of data bus. Multiplexed with address bus.</p>

<h3>LBS64</h3>

<p>Local Bus Size 64 bits. Used by VLB Master to indicate that it
desires a 64 bit transfer.</p>

<h3>W/R</h3>

<p>Write/Read. See D/C for signal description.</p>

<h2>64 Bit Data Transfer Timing Diagram:</h2>

<pre>             Address         Data
             Phase           Phase
             _______         _______         _______
LCLK     ___|       |_______|       |_______|       |_______

         ____         ______________________________________
*ADS         |_______|

              _______________  _______________
A2-A31   ----&lt;_______________&gt;&lt;_______________&gt;-------------
D34-D63         Address          Data D34-D63

              _______________  _______________
D/C      ----&lt;_______________&gt;&lt;_______________&gt;-------------
M/IO, W/R      M/IO, W/R         Data D32-33

         _____                 _____________________________
*LDEV         |_______________|

         _____                 _____________________________
*LBS64        |_______________|


         ______                _____________________________
*ACK64         |______________|

                               _______________
D0-D31    --------------------&lt;_______________&gt;-------------

          _____________________                _____________
LRDY                           |______________|</pre>

<address>
    <font size="2">Contributor: </font><a
    href="mailto:qtech@mailhost.net"><font size="2">Joakim Ögren</font></a><font
    size="2">, </font><a href="mailto:msokos1@gl.umbc.edu"><font
    size="2">Mark Sokos</font></a> 
</address>

<address>
    <font size="2">Sources:&nbsp;</font><a
    href="http://www.gl.umbc.edu/~msokos1/vlb.txt"><font size="2">Mark
    Sokos VLB page</font></a><font size="2"><br>
    Sources:&nbsp;&quot;The Indispensible PC Hardware Book&quot;
    by Hans-Peter Messmer, ISBN 0-201-8769-3 </font> 
</address>


<address>
    <font size="1">Please send any comments to </font><a
    href="mailto:qtech@mailhost.net"><font size="1">Joakim Ögren</font></a><font
    size="1">.</font> 
</address>

</body>
</html>