<HTML>
  <HEAD>
  <META http-equiv="Content-Type" content="text/html; charset=iso-8859-2"
  <META name="author" content="MASTER">
  <META name="keywords" content="AMIGA ATX PSU">
    <TITLE>AMI ATX</TITLE>
  </HEAD>
  <BODY text="#000000" link="#0000FF" vlink="#000080" alink="#0056FF">
    <a name="start"></A>
    <DIV ALIGN="CENTER"><BR>
    <IMG width=224 height=60 SRC="pic/ami_atx.jpg">©<BR>version 1.2<BR>
    <TABLE width="100%" BORDER="0">
     <TR>
      <TD width="30%"></TD>
      <TD width="580">
       <DIV ALIGN="LEFT">
       <UL type="square">
                  <LI><a href="#opis">DESCRIPTION</a>
        <LI><a href="#16f84">16F84A</a>
        <LI><a href="#16F62">16F627 or 16F628</a>
        <LI><a href="#kontakt">CONTACT</a>
      </UL>
       </DIV>
     </TD>
     </TR>
    </TABLE>
    <A href="pic/AMI_ATX_pic3.jpg" target="_blank"><IMG src="pic/AMI_ATX_pic3.jpg" alt="AMI_ATX_pic3.jpg (15725 bytes)" width=120 height=100></A>
    <A href="pic/AMI_ATX_pic4.jpg" target="_blank"><IMG src="pic/AMI_ATX_pic4.jpg" alt="AMI_ATX_pic4.jpg (9932 bytes)" width=120 height=100></A>
    <HR WIDTH="90%" SIZE="5"><BR><BR>
    <a name="opis"></A>
    <FONT SIZE="6" COLOR="BLACK">
    <B><U>DESCRIPTION</U></B>
    </FONT><BR><BR>
    With this hardware it's possible to connect ATX PSU to AMIGA computer and turn it off from shell.
    <BR>
    Features:<BR>
    <TABLE width="100%" BORDER="0">
     <TR>
      <TD width="30%"></TD>
      <TD width="580">
       <DIV ALIGN="LEFT">
         <UL>
         <LI>two LED's shows what the stuff do - (it's optional);
         <LI>short push of 'POWER' button turns the amiga on;
         <LI>when You push and hold 2 sec. the 'POWER' button then the amiga will turn off, not earlier;
         <LI>You can turn off the computer with command <a href="program/aaoff">aaoff</A> - Ami Atx OFF ©; from the shell;<BR>
         <LI>jumper JP1 - use only at crisis situation - when You wont turn it on manualy.
        </UL>
       </DIV>
      </TD>
      </TR>
      </TABLE><BR><BR>
        <BR>When You wont turn on ATX PSU (Power Supply Unit), You must connect signal 'Power ON'<BR>
         (the standard it's from +2V to +5V) with any ground (GND).<BR>
         <P>
          ATX connector:
          <TABLE BORDER="4" CELLPADDING="8">
           <TR>
           <TD>Pin 1</TD><TD>Pin 2</TD><TD>Pin 3</TD><TD>Pin 4</TD><TD>Pin 5</TD><TD>Pin 6</TD><TD>Pin 7</TD>
           <TD>Pin 8</TD><TD>Pin 9</TD><TD>Pin 10</TD></TR><TR><TD>3.3V</TD><TD>3.3V</TD><TD>Gnd</TD><TD>5V
           </TD><TD>Gnd</TD><TD>5V</TD><TD>Gnd</TD><TD>P_OK</TD><TD>5VSB</TD><TD>12V</TD></TR><TR><TD>Oran
           </TD><TD>Oran</TD><TD>Blk</TD><TD>Red</TD><TD>Blk</TD><TD>Red</TD><TD>Blk</TD><TD>Gray</TD><TD>
           Purp</TD><TD>Yell</TD></TR><TR><TD>Oran</TD><TD>Blue</TD><TD>Blk</TD><TD>Green</TD><TD>Blk</TD>
           <TD>Blk</TD><TD> Blk</TD><TD>White</TD><TD>Red</TD><TD>Red</TD></TR><TR><TD>3.3V</TD><TD>-12V
           </TD><TD>Gnd</TD><TD>P_ON</TD><TD>Gnd</TD><TD>Gnd</TD><TD>Gnd</TD><TD>-5V</TD><TD>5V</TD><TD>5V
           </TD></TR><TR><TD>Pin 11</TD><TD>Pin 12</TD><TD>Pin 13</TD><TD>Pin 14</TD><TD>Pin 15</TD><TD>
           Pin 16</TD><TD>Pin 17</TD><TD>Pin 18</TD><TD>Pin 19</TD><TD>Pin 20</TD></TR></TABLE>
         <BR>
          When You wont make this stuff, You should have signal SEL2 (select drive) from Amiga main board<BR>
          You will find it at the 21 pin of external floppy drive port.<BR>
         <A href="pic/sel2.jpg" target="_blank"><IMG src="pic/sel2.jpg" alt="sel2.jpg (17306 bytes)" width=120 height=100></A>
         <BR>
         When You give the power to PSU then the 'AMI ATX' will make self test - both LED's shine, since (1sec.);<BR>
         after it, the 'POWER' LED turns off, only 'Stand By' LED is shining - after that the 'ami atx' is ready to work .<BR>
         When You wont turn on the AMIGA, then You must press the button 'Power SW' - and in the same time<BR>
         'POWER' LED is on, 'Stand By' LED is off and finally the AMIGA is ON.<BR>
         To turn off the computer You must push and hold the button 'POWER SW' - 2 sec. or<BR>
         turn it off by software - just type in shell: <a href="program/aaoff"><FONT COLOR=#10659A>aaoff.</FONT></A><BR>
         <BR><BR>
         To do this stuff You can use two type of a pic microkontroler: PIC16F84A or PIC 16F627 and PIC 16F628.<BR>
         To do't with PIC 16F84A You will need more parts, becouse there is need the resonator 4MHz.<BR>
         But when You will use PIC16F627 or 16F628 there it's no problem with resonator becouse they have it inside.<BR>
         <B><U>NOTE!</U></B><BR>
         Use the AMI ATX at your own risk - I will not pay You when something goes wrong.<BR>
         <a href="#start">^TOP^</a><BR>
    <HR WIDTH="75%" SIZE="1"><BR><BR>
    <a name="16F84"></A>
    <FONT SIZE="6" COLOR="BLACK">
    <B><U>PIC 16F84A</U></B>
    </FONT>
    <BR><BR><BR>
    <B>SCHEME</B><BR>
    <IMG src="pic/AMI_ATX_pic2.png" alt="AMI_ATX_pic2.png (9160 bytes)" width=596 height=429><BR>
      The 'heart' of this project is the microprocesor PIC16F84, programmed with <a href="program/ami_atx(16F84A).hex">AMI-ATX.hex</A> ©<BR>
    <BR><BR><B>PARTS</B><BR><BR>
    <TABLE width="100%" BORDER="0">
     <TR>
      <TD width="30%"></TD>
      <TD width="480">
       <DIV ALIGN="LEFT">
        <UL>
         <LI>1 x microprocesor PIC16F84;<BR>
         <LI>1 x resonator 4MHz -Q1;<BR>
         <LI>2 x ceramic capacitors 30pF - C1, C2;<BR>
         <LI>1 x resistor 3,3kom 0,25W - R1;<BR>
         <LI>2 X resistor 1kom 0,25W - R2, R3;<BR>
         <LI>1 X resistor 4,7kom 0,25W - R4;<BR>
         <LI>2 x diode LED - LED1, LED2;<BR>
         <LI>1 x diode 1N4148 - D1;<BR>
         <LI>1 x transistor BC547 - T1;<BR>
         <LI>1 x 18pin chip socket;<BR>
         <LI>1 x switch - SW;<BR>
         <LI>some wires.<BR>
        </UL>
       </DIV>
     </TD>
     </TR>
    </TABLE>
    <BR><BR><B>PCB</B><BR><BR>
    <IMG src="pic/AMI_ATX_pcb.png" alt="AMI_ATX_pcb.png (5469 bytes)" width=331 height=430>
    <IMG src="pic/AMI_ATX_pcb_el.png" alt="AMI_ATX_pcb_el.png (7409 bytes)" width=396 height=434><BR>
    <IMG src="pic/AMI_ATX_pic1.jpg" alt="AMI_ATX_pic1.jpg (9296 bytes)" width=227 height=185>
    <BR><BR>
    <BR><BR><B>HOW TO DO</B><BR><BR>
    <TABLE width="100%" BORDER="0">
     <TR>
      <TD width="20%"></TD>
      <TD width="480">
     <DIV ALIGN="LEFT">
        <UL>
         <LI>get all parts;<BR>
         <LI>make the PCB;<BR>
         <LI>program the PIC with <a href="program/ami_atx(16F84A).hex">AMI-ATX.hex</A><BR><BR>
         You can program the PIC with very simple <A href="pic/DEV_PIC.jpg" target="_blank">PIC programer</A> <a href="http://main.aminet.net/dev/cross/devpic.lha">DEVPIC.</A>

         <BR>
         With command:<BR>
         <B>picprog ami_atx(16F84A).hex configword=16377</B><BR><BR>
         <LI>when You wont to use existing programer, you must select following options (words):<BR>
         <B>OSC_XT=ON</B> [crystal oscylator - XT - ON] ; <B>WDT=OFF</B> [WatchDog Timer - OFF];
         <LI>then connect: switch, signal SEL2, LED's,
         <LI>and it's ready - congratulations.
         <Li>BTW the jumper JP1 should be open - at <b>normal</b> work.
        </UL>
       </DIV>
     </TD>
     </TR>
    </TABLE>
    <a href="#start">^TOP^</a><BR><BR>
    <HR WIDTH="75%" SIZE="1"><BR><BR>
    <a name="16F62"></A>
    <FONT SIZE="6" COLOR="BLACK">
    <B><U>PIC 16F627 or PIC 16F628</U></B>
    </FONT>
    <BR><BR><BR>
    <B>SCHEME</B><BR>
    <IMG src="pic/AMI_ATX_pic2_2.png" alt="AMI_ATX" width=596 height=429><BR>
      The 'heart' of this project is the microprocesor PIC16F627 or 16F628, programed with <a href="program/ami_atx(16F62X).hex">AMI-ATX.hex</A> ©<BR>
    <BR><BR><B>PARTS</B><BR><BR>
    <TABLE width="100%" BORDER="0">
     <TR>
      <TD width="30%"></TD>
      <TD width="480">
       <DIV ALIGN="LEFT">
        <UL>
         <LI>1 x microprocesor PIC16F627 or PIC16F628;<BR>
         <LI>1 x resistor 3,3kom 0,25W - R1;<BR>
         <LI>2 X resistor 1kom 0,25W - R2, R3;<BR>
         <LI>1 X resistor 4,7kom 0,25W - R4;<BR>
         <LI>2 x diode LED - LED1, LED2;<BR>
         <LI>1 x diode 1N4148 - D1;<BR>
         <LI>1 x transistor BC547 - T1;<BR>
         <LI>1 x 18pin chip socket;<BR>
         <LI>1 x switch - SW;<BR>
         <LI>some wires.<BR>
        </UL>
       </DIV>
     </TD>
     </TR>
    </TABLE>
    <BR><BR><B>PCB</B><BR><BR>
    <IMG src="pic/AMI_ATX_pcb2.png" alt="AMI_ATX_pcb.png (5469 bytes)" width=331 height=430>
    <IMG src="pic/AMI_ATX_pcb_el2.png" alt="AMI_ATX_pcb_el.png (7409 bytes)" width=396 height=434><BR>
    <BR><BR><B>HOW TO DO</B><BR>
    <TABLE width="100%" BORDER="0">
     <TR>
      <TD width="30%"></TD>
      <TD width="480">
     <DIV ALIGN="LEFT">
        <UL>
         <LI>get all parts;<BR>
         <LI>make the PCB;<BR>
         <LI>program the PIC with <a href="program/ami_atx(16F62X).hex">AMI-ATX.hex</A><BR><BR>
          You can program the PIC with very simple <A href="pic/DEV_PIC.jpg" target="_blank">PIC programer</A> <a href="http://main.aminet.net/dev/cross/devpic.lha">DEVPIC</A>

         <BR>
         With command:<BR>
         <B>picprog ami_atx(16F62X).hex configword=16248</B><BR><BR>
         <LI>when You wont to use existing programer, you must select following options (words):<BR>
         <B>WDT=OFF</B> [WatchDog Timer - OFF];<B>LVD=OFF</B> [Low Volage Programming - OFF];<B>INTRC OSC NOCLKOUT=ON</B> [Internal Oscilator No Clock Out - ON];
         <LI>then connect: switch, signal SEL2, LED's,
         <LI>and it's ready - congratulations.
         <Li>BTW the jumper JP1 should be open - at <b>normal</b> work.
        </UL>
       </DIV>          
   </TD>
     </TR>
    </TABLE>
    <BR><BR>
    <a href="#start">^TOP^</a><BR>
    <a name="kontakt"></A>
    <HR WIDTH="75%" SIZE="1"><BR><BR>
    <FONT SIZE="6" COLOR="BLACK">
    <B><U>CONTACT</U></B>
    </FONT>
    <BR><BR>
    <TABLE width="100%" BORDER="0">
     <TR>
      <TD width="30%"></TD>
      <TD width="580">
       <DIV ALIGN="LEFT">
         Suggestions and questions? - email me!:<BR>
         <B>11MASTER@op.pl</B><BR><U>Rafaî '<B>MASTER</B>' Siedlaczek</U><BR><BR>
         <B>Thanks to:</B><BR>
         <U>MinisterQ</U> - for help;<BR>
         <u>Valwit</U> - for idea with SEL2 signal;<BR>
       </DIV>
     </TD>
     </TR>
    </TABLE>
    <a href="#start">^TOP^</a>
  </DIV><BR><BR><BR><BR><BR>
  </BODY>
</HTML>


