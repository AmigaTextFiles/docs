============================================================================

                          The Master Clock Tests.
                          -----------------------

(Apologies for any typos, 16-06-2008. :)
(I am always one for doing the ~impossible~... :)

(AN A1200(HD) IS ASSUMED TO BE THE COMPUTER TESTBED.)

PAR: In Basic Read Mode:-
-------------------------

  1) Read the WARNING section at the end of this text file.
  2) Do a final check of your wiring and construction!!! IF you are happy
     then continue to 3) otherwise STOP at this point.
  3) REMOVE jumpers from LK18B and LK19B.
  4) Connect the black jumper to LK18A. Refer to the photo' and drawings.
  5) Connect the red jumper to LK19A. Refer to the photo' and drawings.
  6) Ensure the AMIGA is switched off, (powered down).
  7) Connect the PAR_Dev_Board to the parallel port.
  8) AmigaBASIC is used for this part only so the usage of AmigaBASIC
     on an A1200(HD) will be required from AMINET:-

           <http://main.aminet.net/dev/basic/AmigaBASIC-Info.lha>

  9) It is assumed that you are now ready to use the A1200(HD) in
     Workbench 1.3x AND Kickstart 3.xx mode.
 10) Switch on the AMIGA and boot into Workbench 1.3x.
 11) Start up AmigaBASIC and load in the file from the ~Test-SW~ drawer
     ~Par_Read.B~, ensure you type in the FULL path to this AmiagBASIC
     code or else an error will occur and you will have to re-type it all
     again!
 12) From AmigaBASIC's menu run the code to read 8 bit data from the
     parallel port.
 13) With NOTHING attached to the 8 data lines then there will be a line
     printed below......

                           Byte read is:- 255.

     ......will be continuously written.
 14) If you get this line then go to Part 16).
 15) IF YOU DO NOT GET THE ABOVE LINE AT ALL, SWITCH OFF THE AMIGA
     IMMEDAITELY, DISCONNECT THE BOARD AND THOROUGHLY CHECK ALL OF YOUR
     WORK AGAIN!!!
 16) Shorting ANY or a combination of the 8 data lines, pins 2 to 9, of the
     OUTPUT terminals to Ground, GND, will update this value anywhere
     between 0 and 255 [decimal].
 17) "That's all there is to it!", when using PAR: as a VOLUME in very
     basic READ mode... :)
 18) When the board is proven to be working in this mode then exit the
     AmigaBASIC program and close down AmigaBASIC itself.
 19) Switch off the AMIGA and disconnect all of the attached hardware to
     the parallel port.

----------------------------------------------------------------------------

PAR: In Basic Write Mode:-
--------------------------

  1) Read the WARNING section at the end of this text file.
  2) Do a final check of your wiring and construction!!! IF you are happy
     then continue to 3) otherwise STOP at this point.
  3) REMOVE jumpers from LK18B and LK19B.
  4) Connect the black jumper to LK18A. Refer to the photo' and drawings.
  5) Connect the red jumper to LK19A. Refer to the photo' and drawings.
  6) Ensure the AMIGA is switched off, (powered down).
  7) Connect the PAR_Dev_Board to the parallel port.
  8) Connect a wire to pin 11 of the OUTPUT terminals and leave the other
     end free at this point.
  9) AmigaBASIC is used for this part only so the usage of a AmigaBASIC
     on an A1200(HD) will be required from AMINET:-

           <http://main.aminet.net/dev/basic/AmigaBASIC-Info.lha>

 10) It is assumed that you are now ready to use the A1200(HD) in
     Workbench 1.3x AND Kickstart 3.xx mode.
 12) Switch on the AMIGA and boot into Workbench 1.3x.
 13) Start up AmigaBASIC and load in the file from the ~Test-SW~ drawer
     ~Par_Write.B~, ensure you type in the FULL path to this AmiagBASIC
     code or else an error will occur and you will have to re-type it all
     again!
 14) From AmigaBASIC's menu run the code to write 8 bit data to the
     parallel port.
 15) A line will be printed......

                           Byte written is:- 127.

     ......and will appear as though the parallel port is locked up.
 16) Now touch the free, bared end of the wire attached to OUTPUT terminal
     11 to Ground, GND, and another line will appear......

                           Q or q<ENTER> to quit. |

     ......pressing <RETURN/ENTER> alone will increment the output counter
     by 1 and delete the above line.
 17) If you get this then go to Part 19).
 18) IF YOU DO NOT GET THE ABOVE LINE AT ALL, SWITCH OFF THE AMIGA
     IMMEDAITELY, DISCONNECT THE BOARD AND THOROUGHLY CHECK ALL OF YOUR
     WORK AGAIN!!!
 19) Do Part 16) again and see the number increase by one and the parallel
     port will lines follow also.
 20) When you have done a few cycles press ~Q~ or ~q~<RETURN/ENTER> to quit.
 21) "That's all there is to it!", when using PAR: as a VOLUME in very
     basic WRITE mode... :)
 22) When the board is proven to be working in this mode then exit the
     AmigaBASIC program and close down AmigaBASIC itself.
 23) Switch off the AMIGA and disconnect all of the attached hardware to
     the parallel port.

----------------------------------------------------------------------------

(HAS ANYONE FOUND THE FLAW YET WHEN USING PAR: AS A VOLUME IN EITHER READ
OR WRITE MODES?)

There is no need to extract this code as it is in the Test-SW drawer ready
for use.

----------------------------------------------------------------------------

AmigaBASIC Code:-
-----------------

Par_Write.B:-
-------------

REM PAR: as a VOLUME in ~continuous~ WRITE mode using AmigaBASIC.
REM Original idea copyright, (C)2008, B.Walker, G0LCU.
REM This software is Public Domain and you can do with it as you please.
REM Use a standard AmigaBASIC window.

REM Set up the required variables.
LET mybyte=127
LET a$="PAR: as a VOLUME in WRITE mode."

REM Generate a simple usable window
LOCATE 3,24
PRINT a$
LOCATE 5,27
PRINT "(C)2008, B.Walker, G0LCU."

REM The start of the test loop.
loopit:
REM Show the [decimal] value to be written to the parallel port.
LOCATE 7,29
PRINT "Byte written is:-";mybyte;CHR$(8);".     "
LOCATE 10,28
PRINT "                        "

REM Open up PAR: as a VOLUME in WRITE mode.
OPEN "O", #3, "PAR:"
REM Send the byte value to the parallel port.
PRINT #3,CHR$(mybyte)
REM Immediately close the channel.
CLOSE #3

REM Increase the byte value by one.
LET mybyte=mybyte+1
REM Until a maximum of 255 [decimal] is reached then reset back to zero.
IF mybyte>255 THEN LET mybyte=0

REM Give a simple means of quitting the program.
REM Press <ENTER/RETURN> on its own to continue.
LOCATE 10,29
INPUT "Q or q<ENTER> to quit. ",a$
IF a$="Q" OR a$="q" THEN GOTO getout:
REM Carry on looping.
GOTO loopit:

REM A simple clean exit.
getout:
END

----------------------------------------------------------------------------

AmigaBASIC Code:-
-----------------

Par_Read.B:-
------------

REM PAR: as a VOLUME in continuous READ mode using AmigaBASIC.
REM Original idea copyright, (C)2008, B.Walker, G0LCU.
REM This software is Public Domain and you can do with it as you please.
REM Use a standard AmigaBASIC window.

REM                          !!! CAUTION !!!
REM                          ---------------
REM
REM DO NOT RUN WITHOUT AN EXTERNAL TTL LEVEL CLOCK ON THE ~-ACK~ LINE!!!

REM Set up the required variables.
LET mybyte=0
LET mybyte$="(C)2008, B.Walker, G0LCU."
LET a$="PAR: as a VOLUME in READ mode."

REM Generate a simple usable window
LOCATE 3,24
PRINT a$
LOCATE 5,27
PRINT mybyte$
LOCATE 7,28
PRINT "Press <ENTER> to quit."

REM Enter the continuous loop and press <RETURN/ENTER> to QUIT.
loopit:
REM Open a channel to import the byte from the parallel port.
OPEN "I", #3, "PAR:"
REM Grab that data byte sitting on the parallel port.
LET mybyte$=INPUT$(1,#3)
REM Immediately close the channel after byte access.
CLOSE #3

REM Convert to a [decimal] number.
LET mybyte=ASC(mybyte$)

REM Print the value to the screen.
LOCATE 10,30
PRINT "Byte read is:-";mybyte;CHR$(8);".     "

REM Go and grab another byte unless <RETURN/ENTER> is pressed..."
LET a$=INKEY$
IF a$="" THEN GOTO loopit:

REM Then QUIT the program.
END

----------------------------------------------------------------------------

There is a package for ARexx usage on AMINET if you DO NOT want to use
AmigaBASIC and Workbench 1.3x......

               <http://main.aminet.net/dev/src/PAR_ARexx.lha>

Use basically the same method for testing as the AmigaBASIC methods above.

The difference is when writing data you will not realise it has finished
as there is no deliberate ~INPUT~ command to stop the write loop.

have fun and experiment with this now independant board that will have
lots of uses in the not too distant future... :)

============================================================================

The next part will be the PC compatible simple supply rail(s).
These WILL also work just as well in AMIGA mode and take the stress off of
the 5 Volt supply at Pin 14 of the AMIGA A500 and similar parallel port.

Enjoy finding simple solutions to often difficult problems. :)

============================================================================

                                 WARNING.
                                 --------

  1) DISCONNECT any faulty equipment under test from the MAINS supply.
  2) If a DC supply is used do NOT reverse polarity the connections.
  3) Do NOT power up any electronic item until it is safe to do so.
  4) CHECK and RECHECK all of your construction and repair work thoroughly.
  5) Handle ALL tools used with care.
  6) Beware of ALL types of solvents, glues and etching fluids.
  7) NEVER leave a soldering iron switched on unattended.
  8) KEEP everything OUT of the reach of small children.
  9) Switch OFF the AMIGA before connecting any hardware.
 10) And finally read 1) to 9) again.

----------------------------------------------------------------------------

    Mr Barry Walker,
    70 King George Road,
    Loughborough,
    Leicestershire,
    LE11 2PA,
    England.

    Email to:-

    wisecracker@tesco.net

    BYE.....

============================================================================
