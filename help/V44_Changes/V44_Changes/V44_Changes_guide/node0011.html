<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/39.2 FILE="V44_Changes.guide" NODE="Installer" TITLE="V44_Changes.guide/Installer" TOC="Main" NEXT="SetPatch" PREV="Picture Datatype" -->
<head>
<title>V44_Changes.guide/Installer</title>
</head>
<body text="#000000" bgcolor="#AAAAAA">
<a href="../V44_Changes_guide/node0000.html"><img src="../images/toc.gif" alt="[Contents]" border=0></a>
<img src="../images/index_d.gif" alt="[Index]">
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../V44_Changes_guide/node0010.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../V44_Changes_guide/node0012.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->

The Installer program
*********************

   The latest pre-V44 release of the <b>Installer</b> was V43.2, distributed on
the Amiga Technologies FTP site.

Checking the Installer version
==============================

   If your installation script uses new features not available in
earlier versions of the <b>Installer</b>, it is important to check the
variable @INSTALLER-VERSION before using these new features. This
variable will default to 0 with old versions of <b>Installer</b> like V1.24,
so it is safe and easy to check.  Please do not do an exact equality
check. Check for a minimum revision, just like with libraries.

Backtracing
===========

   Starting with V44 the <b>Installer</b> allows backtracing in your script.
If you use this mechanism the <b>Abort Install</b> button is replaced with a
<b>Back</b> button in most cases. You should define a <b>(back)</b> parameter for all
statements and functions with user interaction that presents the <b>Back</b>
button. If you don't the <b>Back</b> button is disabled which may frustrate
the user. The following new commands support backtracing:

<b>(trace)</b>
     The trace statement sets an backtrace position. A retrace will
     continue on that position in the script.

<b>(retrace)</b>
     The retrace initiates the backtrace mechanism. It skips the last
     backtrace position and searchs for the previous one.

<b>(back &#060;code&#062;)</b>
     If the user press the <b>Back</b> button the code is executed.  Typically
     this code will contain a <b>(retrace)</b> statement the last statement.

Please see the <b>Installer.guide</b> for a detailed description of these
commands.

Interaction with the Workbench
==============================

   The V44 <b>Installer</b> provides a way for installation scripts to
interact with the Workbench. The following commands are new in V44:

<b>(openwbobject &#060;argument&#062; ...)</b>
     Open a Workbench object which can be a disk, a drawer, a trashcan,
     a tool or a project.

<b>(showwbobject &#060;argument&#062;)</b>
     This statement scrolls the view of an workbench drawer until the
     named icon is visible. The drawer has to be opened before.

<b>(closewbobject &#060;argument&#062;)</b>
     This statement closes the named workbench object. Currently only
     disks, trashcans and drawers can be closed.

Multimedia support
==================

   The V44 <b>Installer</b> provides support for displaying text and pictures
and playing sounds during the installation. It is also possible to have
the <b>Installer</b> open on its own screen to provide a full screen backdrop
for the installation. The OS 3.5 installer script makes use of these
new features to provide an eye pleasing installation procedure as well
as showing the user license in a separate window. Before V44, some
later installation scripts from third party applications already made
use of external programs to obtain similar results. It is recommended
that you adapt your existing scripts to use the new mechanisms built
into the Installer for increased consistency between different products.

   The following multimedia commands are provided by the V44 <b>Installer</b>:

<b>(effect &#060;position&#062; &#060;effect&#062; &#060;color 1&#062; &#060;color 2&#062;)</b>
     Sets the graphical effect that is used for the background.

<b>(showmedia &#060;medianame&#062; &#060;filename&#062; &#060;position&#062; &#060;size&#062; &#060;borderflag&#062; ...)</b>
     showmedia opens a datatype and presents it to the user.

<b>(setmedia &#060;media&#062; &#060;action&#062; [parameter])</b>
     Using the setmedia statement some action can be performed on the
     datatype.

<b>(closemedia &#060;media&#062;)</b>
     Closes a media file and removes it from memory.

Please see the <b>Installer.guide</b> for a detailed description of these
commands.

Rebooting the System
====================

   One new command allows to reboot the system automatically once the
installation has finished. This command should be used with extreme
caution: forced reboots are extremely annoying to most users.

<b>(reboot)</b>
     This commands reboots the Amiga.
<!-- AG2HTML: BODY=END -->
</pre>
</body>
</html>
