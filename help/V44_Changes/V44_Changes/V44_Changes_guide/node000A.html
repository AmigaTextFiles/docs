<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/39.2 FILE="V44_Changes.guide" NODE="Palette Mapped Icons" TITLE="V44_Changes.guide/Palette Mapped Icons" TOC="Icon Library" NEXT="About NewIcons" -->
<head>
<title>V44_Changes.guide/Palette Mapped Icons</title>
</head>
<body text="#000000" bgcolor="#AAAAAA">
<a href="../V44_Changes_guide/node0009.html"><img src="../images/toc.gif" alt="[Contents]" border=0></a>
<img src="../images/index_d.gif" alt="[Index]">
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../V44_Changes_guide/node0009.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../V44_Changes_guide/node000B.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->

The New Palette Mapped Icons
============================

   The <b>icon.library</b> has been enhanced to support palette mapped icons.
The icon file format has been extended in a backwards compatible way to
support palette mapped images as well as old-style images. This means
that V44 icons can contain TWO image sets: the old-style planar images
(for normal and selected states) and the new style palette mapped
images.

   New API calls are provided to retrieve the V44 image data.  The
<b>GetDiskObject()</b>, <b>GetDiskObjectNew()</b> and <b>PutDiskObject()</b> calls are now
declared obsolete: they are still supported for backwards compatiblity
only and therefore they don't provide a way to access the new palette
mapped images(1).

   Applications which manipulate icons should be adapted to use the new
<b>GetIconTagList()</b> function. This new function is a superset of
<b>GetDiskObject()</b>: it still returns a pointer to a pointer to a <b>struct
DiskObject</b>, but it provides greater control by means of several taglist
parameters.

   The defaults are to load and automatically remap the new style
images embedded into the icon. The <b>ICONGETA_Screen</b> tag specifies which
Screen the icon is to be displayed on.  See the <b>GetIconTagList()</b>
AutoDoc for more information.

   The new <b>icon.library/IconControlA()</b> call allows the applications to
retrieve and change any of the extended icon attributes, including the
palette and imagery.

   ---------- Footnotes ----------

   (1) Actually, this is not completely true: the <b>struct DiskObject</b>
really contains the new images in its private data. The only way to
retrieve it is by calling <b>DupDiskObject()</b> and passing the tag
<b>ICONDUPA_ActivateImageData</b>. This trick is used by the Workbench as a
workaround to display the new style image for AppIcons passed by
non-V44-aware applications.
<!-- AG2HTML: BODY=END -->
</pre>
</body>
</html>
