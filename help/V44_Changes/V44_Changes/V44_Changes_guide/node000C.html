<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/39.2 FILE="V44_Changes.guide" NODE="Drawing Icons" TITLE="V44_Changes.guide/Drawing Icons" TOC="Icon Library" NEXT="Changing Icons Look" PREV="About NewIcons" -->
<head>
<title>V44_Changes.guide/Drawing Icons</title>
</head>
<body text="#000000" bgcolor="#AAAAAA">
<a href="../V44_Changes_guide/node0009.html"><img src="../images/toc.gif" alt="[Contents]" border=0></a>
<img src="../images/index_d.gif" alt="[Index]">
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../V44_Changes_guide/node000B.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../V44_Changes_guide/node000D.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->

Drawing icons in applications
=============================

<b>DrawIconStateA()</b>
----------------

   The V44 <b>icon.library</b> provides functions to support applications
which need to display icons in their own GUI. These include icon
editors, <b>WBInfo()</b> patches and full Workbench replacements. The pre-V44
method to draw an icon inside a window was to manipulate the images
embedded into the icon directly. As of V44, this technique is strongly
discouraged.

   The new <b>icon.library/DrawIconStateA()</b> function provides the same
functionality in a straightforward way. Shall the icon appearance be
changed with future extensions of the <b>icon.library</b>, your application
will pick them up automatically.

<b>LayoutIconA()</b>
-------------

   The <b>icon.library</b> supports drawing icons on any screen (not just on
the Workbench screen). For these reason, icon imagery can be loaded into
memory and then remapped at a later time by calling <b>LayoutIconA()</b>.

<b>   LayoutIconA()</b> is called implicitly by <b>GetIconTagList()</b> (1). The
icons are automatically remapped for display on the screen selected
using <b>IconControlA()</b>.  This could be undesiderable when your
application wants to display the icon on another screen.

   Note that <b>LayoutIconA()</b> allocates shared pens from the passed screen
using the <b>graphics.library/ObtainBestPen()</b> function.  These pens will
be released when the icon is disposed (with <b>FreeDiskObject()</b>) or when
the icon is remapped again by <b>LayoutIcon()</b>. It is <b>VERY IMPORTANT</b> that
your custom or public screen is not closed until there are still icon
objects remapped for it. See the <b>LayoutIconA()</b> AutoDoc for possible
workarounds.

   ---------- Footnotes ----------

   (1) To prevent this from happening, you must explicitly set the
<b>ICONGETA_RemapIcon</b> tag to FALSE.
<!-- AG2HTML: BODY=END -->
</pre>
</body>
</html>
