<html>
<head>
<title>Amiga C Kurs f&uuml;r Einsteiger</title>
<META NAME="description" CONTENT="Amiga C Kurs f&uuml;r Einsteiger">
<META NAME="keywords"    CONTENT="C, Amiga, Programmierung, Kurs, Einsteiger, StormC">
<META NAME="author"      CONTENT="Norman Walter">

<script language="JavaScript" src="JavaScript/C-Kurs_Kapitel.js" type="text/javascript">
</script>

</head>
<body bgcolor="black" link="#DDDDDD" vlink="#BBBBBB">
<center>
<TABLE>
<TD VALIGN="TOP" ALIGN="TOP" WIDTH="140">
<CENTER>
<A HREF="index.html" NAME="Home"><IMG SRC="Home.png" ALT="Home" BORDER="0"></A><BR>
<A HREF="download.html" NAME="Downloads"><IMG SRC="Download.png" ALT="Downloads" BORDER="0"></A><BR>
<A HREF="Links.html" NAME="Links"><IMG SRC="Links.png" ALT="Links" BORDER="0"></A><BR>
<a href="cgi-bin/GB_SHOW.cgi" method="POST"><img SRC="guestbook.png" BORDER=0 alt="Guestbook"></a>
<p>
<A HREF="http://www.norman-interactive.com/email_feedback.html">
<IMG SRC="@.png" Border="0" Alt="e-mail"><BR><small>e-mail</small></A><BR>
<p>

<img src="C-Kurs/C-Kurs_sm.png" alt="Amiga C Kurs f&uuml;r Einsteiger" vspace="20"><BR>

<NOSCRIPT>
<font color="red">
Diese Seite ben&ouml;tigt JavaScript.
Entweder Ihr Browser unterst&uuml;tzt kein JavaScript, oder Sie haben es deaktiviert.
</font>
</NOSCRIPT>

<SCRIPT LANGUAGE="JavaScript">
<!--

  erzeuge_Kapitel(5);

//-->
</SCRIPT>

<p>
</CENTER>
</TD>
<TD VALIGN="TOP" ALIGN="TOP" WIDTH="400" HEIGHT="600">
<center>
<p>
<BR>
<font color="white">

<img src="C-Kurs/C-Kurs.png" alt="Amiga C Kurs f&uul,r Einsteiger"><BR>
</center>
<p>
<font color="gray"><H2>Typumwandlung (Cast)</H2></font><BR>
<p>
In diesem Kurs haben wir bereits verschiedene <a href="C-Kurs_Datentypen.html">Datentypen</a>
wie <TT>int</TT>, <TT>float</TT>, <TT>double</TT> und <TT>char</TT> kennengelernt.
Dabei haben wir auch gelernt, da&szlig; man bei der Deklaration von <a href="C-Kurs_1_10.html">Funktionen</a>
die <a href="C-Kurs_Datentypen.html">Datentypen</a> der zu &uuml;bergebenden Parameter angeben mu&szlig;. In der Header-Datei <TT>math.h</TT> ist
zum Beispiel der Funktionsprototyp der <a href="C-Kurs_1_10.html">Funktion</a> <TT>sin</TT> deklariert.
Als Eingabeparameter erwartet diese <a href="C-Kurs_1_10.html">Funktion</a> laut Deklaration einen
Wert vom Typ <TT>double</TT>.

<p>
<center>
<TABLE border="0" cellpadding="5" cellspacing="0" bgcolor="#AAAAAA"><TR>
<TD>
<!-- begin of C code -->
&nbsp;&nbsp;<font color="#AA00FF"><b>double</b></font>&nbsp;<font color="#852608"><b>sin</b></font>(<font color="#AA00FF"><b>double</b></font>);<br>

<!-- end of C code -->

</TD>
</TR>
</TABLE>
</center>
<BR>
<p>

Wenn wir die <a href="C-Kurs_1_10.html">Funktion</a> <TT>sin</TT> aber mit einem Wert vom Typ <TT>int</TT>
aufrufen, wird dieser automatisch in einen Wert vom Typ <TT>double</TT>
umgewandelt.

<p>
<center>
<TABLE border="0" cellpadding="5" cellspacing="0" bgcolor="#AAAAAA"><TR>
<TD>
<!-- begin of C code -->
&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;&Uuml;bergabe&nbsp;eines&nbsp;int-Wertes&nbsp;an&nbsp;die&nbsp;Funktion&nbsp;sin<br></b></font>
&nbsp;&nbsp;Ergebnis&nbsp;=&nbsp;<font color="#852608"><b>sin</b></font>(2);<br>

<!-- end of C code -->

</TD>
</TR>
</TABLE>
</center>
<BR>
<p>

Manchmal wollen wir aber auch Werte eines bestimmten <a href="C-Kurs_Datentypen.html">Datentyps</a>
einer Variable eines anderen <a href="C-Kurs_Datentypen.html">Datentyps</a> zuweisen.
In Listing 5.5 deklarieren wir zwei Variablen vom Typ <TT>float</TT>.
Diesen weisen wir dann Werte vom Typ <TT>float</TT> zu und addieren diese.
Das Ergebnis weisen wir der Variablen <TT>z</TT> vom Typ <TT>int</TT> zu.
Wenn Sie die Rechnung selbst nachrechnen, werden Sie feststellen, da&szlig; das
Ergebnis der Addition <TT>0.5 + 1.25 = 1.75</TT> ist. Da aber unsere Variable
<TT>z</TT> vom Typ <TT>int</TT> ist, kann diese nur ganzzahlige Werte speichern.
Also mu&szlig; gerundet werden. Als Ergebnis wird dann in der Variablen <TT>z</TT>
der Wert <TT>2</TT> stehen.

<p>
<center>
<TABLE border="0" cellpadding="5" cellspacing="0" bgcolor="#AAAAAA"><TR>
<TD>
<!-- begin of C code -->
<font color="#FFFFFF">
/*&nbsp;&nbsp;Listing&nbsp;5.5<br>
&nbsp;*&nbsp;&nbsp;Unsichere&nbsp;Typkonvertierung<br>
&nbsp;*/<br></font>
<br>
#include&nbsp;&lt;stdio.h&gt;<br>
<br>
<font color="#AA00FF"><b>int</b></font>&nbsp;main(<font color="#AA00FF"><b>void</b></font>)<br>
{<br>
&nbsp;&nbsp;<font color="#AA00FF"><b>float</b></font>&nbsp;x,y;<br>
&nbsp;&nbsp;<font color="#AA00FF"><b>int</b></font>&nbsp;z;<br>
<br>
&nbsp;&nbsp;x=0.5;<br>
&nbsp;&nbsp;y=1.25;<br>
<br>
<font color="#FFFFFF">
&nbsp;&nbsp;/*&nbsp;&nbsp;Unsichere&nbsp;Typkonvertierung:<br>
&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;Hier&nbsp;weisen&nbsp;wir&nbsp;die&nbsp;Summe&nbsp;zweier&nbsp;float-Variablen<br>
&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;einer&nbsp;int-Variablen&nbsp;zu.&nbsp;Dabei&nbsp;geht&nbsp;Information<br>
&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;verloren,&nbsp;d.h.&nbsp;es&nbsp;mu&szlig;&nbsp;gerundet&nbsp;werden.<br>
&nbsp;&nbsp;&nbsp;*/<br></font>
<br>
&nbsp;&nbsp;z=x+y;<br>
<br>
&nbsp;&nbsp;<font color="#852608"><b>printf</b></font>(<font color="#EEDD05">"%d"</font>,z);<br>
<br>
&nbsp;&nbsp;<font color="#AA00FF"><b>return</b></font>&nbsp;0;<br>
}<br>

<!-- end of C code -->

</TD>
</TR>
</TABLE>
</center>
<BR>
<p>

Wenn Sie Listing 5.5 wie oben kompilieren, wird der Compiler folgende Warnung ausgeben:
<p>
<center>
<img src="C-Kurs/Typkonvertierung.png" alt="unsichere Typkonvertierung"><BR>
</center>
<BR>
Diese Warnung gibt einen Hinweis darauf, da&szlig; hier eine Typumwandlung
stattgefunden hat, ohne da&szlig; Sie dies explizit im Programmtext angegeben haben.
Es k&ouml;nnte ja auch sein, da&szlig; Sie nur aus Versehen das Ergebnis der Rechnung
<TT>x+y</TT> einer Variablen vom Typ <TT>int</TT> zugewiesen haben, ohne
dabei zu ber&uuml;cksichtigen, da&szlig; eventuell f&uuml;r die Rechnung wichtige Nachkommastellen
verloren gehen.
<p>
Um solche Warnungen zu vermeiden und dem Compiler klar zu machen, da&szlig;
diese Typumwandlung von Ihnen tats&auml;chlich so gewollt ist, k&ouml;nnen Sie
die sogenannte "explizite Typumwandlung" benutzen. &Auml;ndern Sie die Zuweisung
wie folgt:

<p>
<center>
<TABLE border="0" cellpadding="5" cellspacing="0" bgcolor="#AAAAAA"><TR>
<TD>
<!-- begin of C code -->
&nbsp;&nbsp;z=(<font color="#AA00FF"><b>int</b></font>)(x+y);&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Explizite&nbsp;Typumwandlung<br></b></font>

<!-- end of C code -->

</TD>
</TR>
</TABLE>
</center>
<BR>
<p>

Mit dieser expliziten Typumwandlung sorgen Sie daf&uuml;r, da&szlig; die Summe
<TT>x+y</TT>, welche wie die Variablen <TT>x</TT> und <TT>y</TT> vom
Typ <TT>float</TT> ist, nach <TT>int</TT> umgewandelt wird.
Bitte beachten Sie, da&szlig; bei dieser Umwandlung die Nachkommastellen
verloren gehen, da eine Variable vom Typ <TT>int</TT> nur ganzzahlige
Werte speichern kann.
<p>
</font>
</center>
</TD>
</TABLE>

</body>
</html>
