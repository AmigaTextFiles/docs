<html>
<head>
<title>Amiga C Kurs f&uuml;r Einsteiger</title>
<META NAME="description" CONTENT="Amiga C Kurs f&uuml;r Einsteiger">
<META NAME="keywords"    CONTENT="C, Amiga, Programmierung, Kurs, Einsteiger, StormC">
<META NAME="author"      CONTENT="Norman Walter">

<script language="JavaScript" src="JavaScript/C-Kurs_Kapitel.js" type="text/javascript">
</script>

</head>
<body bgcolor="black" link="#DDDDDD" vlink="#BBBBBB">
<center>
<TABLE>
<TD VALIGN="TOP" ALIGN="TOP" WIDTH="140">
<CENTER>
<A HREF="index.html" NAME="Home"><IMG SRC="Home.png" ALT="Home" BORDER="0"></A><BR>
<A HREF="download.html" NAME="Downloads"><IMG SRC="Download.png" ALT="Downloads" BORDER="0"></A><BR>
<A HREF="Links.html" NAME="Links"><IMG SRC="Links.png" ALT="Links" BORDER="0"></A><BR>
<a href="cgi-bin/GB_SHOW.cgi" method="POST"><img SRC="guestbook.png" BORDER=0 alt="Guestbook"></a>
<p>
<A HREF="http://www.norman-interactive.com/email_feedback.html">
<IMG SRC="@.png" Border="0" Alt="e-mail"><BR><small>e-mail</small></A><BR>
<p>

<img src="C-Kurs/C-Kurs_sm.png" alt="Amiga C Kurs f&uuml;r Einsteiger" vspace="20"><BR>

<NOSCRIPT>
<font color="red">
Diese Seite ben&ouml;tigt JavaScript.
Entweder Ihr Browser unterst&uuml;tzt kein JavaScript, oder Sie haben es deaktiviert.
</font>
</NOSCRIPT>

<SCRIPT LANGUAGE="JavaScript">
<!--

  erzeuge_Kapitel(1);

//-->
</SCRIPT>

<p>
</CENTER>
</TD>
<TD VALIGN="TOP" ALIGN="TOP" WIDTH="400" HEIGHT="600">
<center>
<p>
<BR>
<font color="white">

<img src="C-Kurs/C-Kurs.png" alt="Amiga C Kurs f&uuml;r Einsteiger"><BR>
</center>
<p>
<font color="gray"><H2>Funktionen</H2></font><BR>
<p>
C ist eine funktionale Programmiersprache. Einige solcher Funktionen
haben wir schon kennengelernt, darunter die Funktion <TT>main</TT> und
die Funktion <TT>printf</TT>. Wir k&ouml;nnen aber auch eigene Funktionen
schreiben.
<p>
Die allgemeine Form der Definition einer Funktion ist:
<p>
<pre>
[<i>speicherklasse</i>][<i>typ</i>] <i>name</i>([<i>deklarationsliste</i>])
{
  /* Deklaration und Anweisungen */
}

<i>speicherklasse</i>
 ist einer der Speicherklassen-Spezifizierer <TT>extern</TT> oder <TT>static</TT>.
 Da <TT>extern</TT> die Voreinstellung ist, wird in der Regel kein
 Speicherklassen-Spezifizierer angegeben.

<i>typ</i>
 ist der <a href="C-Kurs_Datentypen.html">Datentyp</a> des R&uuml;ckgabewertes. Das ist entweder <TT>void</TT> (= nichts)
 oder ein beliebiger <a href="C-Kurs_Datentypen.html">Datentyp</a>, ausgenommen ein Vektor-Typ.

<i>name</i>
 ist der Funktionsname.

<i>deklarationsliste</i>
 enth&auml;lt die Deklarationen der Parameter. Die Liste ist leer, wenn die Funktion
 keine Parameter besitzt. Bei den einzelnen Parameter der Deklatationsliste
 wird zuerst der <a href="C-Kurs_Datentypen.html">Datentyp</a> des Parameters und dann die Bezeichnung
 des Parameters angegeben. Wenn man mehrere Parameter angeben will,
 mu&szlig; man diese durch Komma voneinander trennen.

</pre>
<BR>
<p>
Innerhalb einer Funktion deklarierte Variablen sind nur innerhalb der jeweiligen
Funktion g&uuml;ltig. &Uuml;ber den G&uuml;ltigkeitsbereich von Variablen werden wir noch in einer
anderen Lektion etwas lernen.
<p>
Aus einer Funktion kehrt man mit der Anweisung <TT>return</TT> zur aufrufenden
Funktion (z.B. <TT>main</TT>) zur&uuml;ck. Dabei wird der Wert des Ausdrucks in
der return-Anweisung als R&uuml;ckgabewert zur&uuml;ckgegeben.
<p>
Die Verwendung von Funktionen demonstrieren wir in Listing 1.10.1 anhand der Potenzfunktion.

<p>
<center>
<TABLE border="0" cellpadding="5" cellspacing="0" bgcolor="#AAAAAA"><TR>
<TD>
<!-- begin of C code -->
<font color="#FFFFFF">
/*&nbsp;&nbsp;Listing&nbsp;1.10.1<br>
&nbsp;*&nbsp;&nbsp;Verwendung&nbsp;von&nbsp;Funktionen&nbsp;und&nbsp;Funktionsprototypen<br>
&nbsp;*&nbsp;&nbsp;Demonstration&nbsp;anhand&nbsp;von&nbsp;Potenzfunktionen<br>
&nbsp;*/<br></font>
<br>
<br>
#include&nbsp;&lt;stdio.h&gt;<br>
<br>
<font color="#008822"><b>//&nbsp;Funktionsprototypen<br></b></font>
<font color="#AA00FF"><b>int</b></font>&nbsp;potenz(<font color="#AA00FF"><b>int</b></font>&nbsp;basis,&nbsp;<font color="#AA00FF"><b>int</b></font>&nbsp;exponent);<br>
<font color="#AA00FF"><b>float</b></font>&nbsp;f_potenz(<font color="#AA00FF"><b>float</b></font>&nbsp;basis,&nbsp;<font color="#AA00FF"><b>int</b></font>&nbsp;exponent);<br>
<br>
<font color="#AA00FF"><b>int</b></font>&nbsp;main(<font color="#AA00FF"><b>void</b></font>)<br>
{<br>
&nbsp;&nbsp;<font color="#AA00FF"><b>int</b></font>&nbsp;x,y;<br>
&nbsp;&nbsp;<font color="#AA00FF"><b>float</b></font>&nbsp;a;<br>
<br>
&nbsp;&nbsp;<font color="#852608"><b>printf</b></font>(<font color="#EEDD05">"Bitte&nbsp;geben&nbsp;Sie&nbsp;zwei&nbsp;Ganzzahlen&nbsp;ein:\n"</font>);<br>
&nbsp;&nbsp;<font color="#852608"><b>scanf</b></font>(<font color="#EEDD05">"%d&nbsp;%d"</font>,&x,&y);<br>
&nbsp;&nbsp;<font color="#852608"><b>printf</b></font>(<font color="#EEDD05">"%d&nbsp;hoch&nbsp;%d&nbsp;ist&nbsp;%d\n"</font>,x,y,potenz(x,y));<br>
<br>
&nbsp;&nbsp;<font color="#852608"><b>printf</b></font>(<font color="#EEDD05">"Geben&nbsp;Sie&nbsp;jetzt&nbsp;zuerst&nbsp;eine&nbsp;Flie&szlig;kommazahl&nbsp;und&nbsp;dann&nbsp;eine&nbsp;Ganzzahl&nbsp;ein:&nbsp;\n"</font>);<br>
&nbsp;&nbsp;<font color="#852608"><b>scanf</b></font>(<font color="#EEDD05">"%f&nbsp;%d"</font>,&a,&y);<br>
&nbsp;&nbsp;<font color="#852608"><b>printf</b></font>(<font color="#EEDD05">"%f&nbsp;hoch&nbsp;%d&nbsp;ist&nbsp;%f\n"</font>,a,y,f_potenz(a,y));<br>
<br>
&nbsp;&nbsp;<font color="#AA00FF"><b>return</b></font>&nbsp;0;<br>
}<br>
<br>
<br>
<font color="#FFFFFF">
/*&nbsp;&nbsp;Funktion&nbsp;zur&nbsp;Berechnung&nbsp;der&nbsp;Potenz<br>
&nbsp;*&nbsp;&nbsp;Parameter:&nbsp;basis&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Ganzzahl)<br>
&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exponent&nbsp;&nbsp;(Ganzzahl)<br>
&nbsp;*&nbsp;&nbsp;R&uuml;ckgabe:&nbsp;&nbsp;basis&nbsp;hoch&nbsp;exponent&nbsp;(Ganzzahl)<br>
&nbsp;*<br>
&nbsp;*&nbsp;&nbsp;Beispiel:&nbsp;&nbsp;2&nbsp;hoch&nbsp;3&nbsp;ergibt&nbsp;8<br>
&nbsp;*<br>
&nbsp;*/<br></font>
<br>
<font color="#AA00FF"><b>int</b></font>&nbsp;potenz(<font color="#AA00FF"><b>int</b></font>&nbsp;basis,&nbsp;<font color="#AA00FF"><b>int</b></font>&nbsp;exponent)<br>
{<br>
&nbsp;&nbsp;<font color="#AA00FF"><b>int</b></font>&nbsp;i,ergebnis;<br>
<br>
&nbsp;&nbsp;ergebnis&nbsp;=&nbsp;1;<br>
<br>
&nbsp;&nbsp;<font color="#AA00FF"><b>for</b></font>&nbsp;(i=0;i&lt;exponent;i++)<br>
&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;ergebnis&nbsp;=&nbsp;ergebnis&nbsp;*&nbsp;basis;<br>
&nbsp;&nbsp;}<br>
<br>
&nbsp;&nbsp;<font color="#AA00FF"><b>return</b></font>&nbsp;ergebnis;<br>
<br>
}<br>
<br>
<br>
<font color="#FFFFFF">
/*&nbsp;&nbsp;Funktion&nbsp;zur&nbsp;Berechnung&nbsp;der&nbsp;Potenz<br>
&nbsp;*&nbsp;&nbsp;Parameter:&nbsp;basis&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Flie&szlig;kommazahl)<br>
&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exponent&nbsp;&nbsp;(Ganzzahl)<br>
&nbsp;*&nbsp;&nbsp;R&uuml;ckgabe:&nbsp;&nbsp;basis&nbsp;hoch&nbsp;exponent&nbsp;(Flie&szlig;kommazahl)<br>
&nbsp;*<br>
&nbsp;*&nbsp;&nbsp;Beispiel:&nbsp;&nbsp;0.5&nbsp;hoch&nbsp;3&nbsp;ergibt&nbsp;0.125<br>
&nbsp;*<br>
&nbsp;*/<br></font>
<br>
<font color="#AA00FF"><b>float</b></font>&nbsp;f_potenz(<font color="#AA00FF"><b>float</b></font>&nbsp;basis,&nbsp;<font color="#AA00FF"><b>int</b></font>&nbsp;exponent)<br>
{<br>
&nbsp;&nbsp;<font color="#AA00FF"><b>int</b></font>&nbsp;i;<br>
&nbsp;&nbsp;<font color="#AA00FF"><b>float</b></font>&nbsp;ergebnis&nbsp;=&nbsp;1.0;<br>
<br>
&nbsp;&nbsp;<font color="#AA00FF"><b>for</b></font>&nbsp;(i=0;i&lt;exponent;i++)<br>
&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;ergebnis&nbsp;=&nbsp;ergebnis&nbsp;*&nbsp;basis;<br>
&nbsp;&nbsp;}<br>
<br>
&nbsp;&nbsp;<font color="#AA00FF"><b>return</b></font>&nbsp;ergebnis;<br>
<br>
}<br>

<!-- end of C code -->

</TD>
</TR>
</TABLE>
</center>
<BR>
<p>

Wir formulieren zwei Funktionen zur Berechnung der Potenz:
Einmal eine Funktion, die als Parameter eine ganzzahlige Basis und
einen ganzzahligen Exponenten erwartet. Der R&uuml;ckgabewert ist hier
ebenfalls ganzzahlig.
<p>
Die Berechnung der Potenz (Basis hoch Exponent) ist trivial.
<p>
Beispiel:
<pre>
   2 hoch 4
</pre>
<BR>
ist das selbe wie
<pre>
   2 * 2 * 2 * 2
 = 4 * 2 * 2
 = 8 * 2
 = 16
</pre>
<BR>
Als Anfangswert der Variable "ergebnis" m&uuml;&szlig;en wir das neutrale Element
der Multiplikation - also die 1 - verwenden.
<p>
Das Ganze formulieren wir dann in einer Schleife. Wenn die Berechnung
fertig ist, geben wir das Ergebnis mit der Anweisung <TT>return</TT>
zur&uuml;ck.
<p>
Die zweite Potenzfunktion erwartet als Eingabeparameter ein Basis
vom Typ <TT>float</TT> (also z.B. 0.5) und einen Exponenten vom
Typ <TT>int</TT> (also z.B. 3). Der R&uuml;ckgabewert ist hier vom
Typ <TT>float</TT>.
<p>
Wie wir bereits im Abschnitt &uuml;ber <a href="C-Kurs_1_2.html">Bezeichner, Datentypen und Variablen</a>
gelernt haben, m&uuml;&szlig;en wir Funktionen eindeutige Namen geben.
Das bedeutet in unserem Fall, da&szlig; wir unserer Potenzfunktion f&uuml;r
Flie&szlig;kommazahlen eine andere Bezeichnung wie unserer Funktion f&uuml;r
Ganzzahlen geben m&uuml;&szlig;en. Unterschiedliche Funktionen mit gleichem
Namen sind in C nicht erlaubt.
<p>
Andere Programmiersprachen wie z.B. Ada95 oder C++ erlauben das sogenannte
"&Uuml;berladen von Funktionen". Das bedeutet, da&szlig; man in diesen Sprachen
durchaus zwei Funktionen mit gleichem Namen definieren kann. Dort wird dann
beim Funktionsaufruf anhand des Datentyps und der Anzahl der Eingabeparameter
entschieden, welche der Funktionen gemeint ist.
<p>
Da der Compiler beim &Uuml;bersetzen den Quelltext von oben nach unten liest,
m&uuml;&szlig;en wir eine Funktion zuerst deklarieren, bevor wir sie zum erstem mal
aufrufen. Machen wir das nicht, meldet der Compiler (bzw. der Linker) einen
Fehler. Dazu benutzen wir sogenannte Funktionsprototypen. Ein Funktionsprototyp
ist die Deklaration einer Funktion. Sie enth&auml;lt jedoch keine Anweisungen.
Die Definition enth&auml;lt dann die vollst&auml;ndige Funktion mit Anweisungen.

<p>
<center>
<TABLE border="0" cellpadding="5" cellspacing="0" bgcolor="#AAAAAA"><TR>
<TD>
<!-- begin of C code -->
<font color="#008822"><b>//&nbsp;Funktionsprototypen<br></b></font>
<font color="#AA00FF"><b>int</b></font>&nbsp;potenz(<font color="#AA00FF"><b>int</b></font>&nbsp;basis,&nbsp;<font color="#AA00FF"><b>int</b></font>&nbsp;exponent);<br>
<font color="#AA00FF"><b>float</b></font>&nbsp;f_potenz(<font color="#AA00FF"><b>float</b></font>&nbsp;basis,&nbsp;<font color="#AA00FF"><b>int</b></font>&nbsp;exponent);<br>

<!-- end of C code -->

</TD>
</TR>
</TABLE>
</center>
<BR>
<p>

Anstatt am Anfang des Quelltextes Funktionsprototypen zu deklarieren,
kann man auch zuerst die Definitionen der Funktionen und dann die
main-Funktion schreiben. Dann mu&szlig; man allerdings auf die Reihenfolge achten.
Meist verwendet man selbst definierte Funktionen in anderen Funktionen.
Auch hier mu&szlig; eine Funktion (oder zumindest deren Prototyp) vor dem ersten
Aufruf bekannt sein.
<p>
Der aufmerksame Leser mag vielleicht einwenden, da&szlig; es bessere Methoden zur
Berechnung von Potenzen gibt (z.B. sukzessive Quadratbildung). In der Regel
werden wir sowieso die Funktion <TT>pow</TT> aus <TT>math.h</TT> zur Berechnung
von Potenzen verwenden. Listing 1.10.1 dient nur zu Demonstrationszwecken.
<p>
Anstatt <TT>ergebnis = ergebnis * basis;</TT> h&auml;tten wir hier auch die verk&uuml;rzte
Notation <TT>ergebnis *= basis;</TT> verwenden k&ouml;nnen. F&uuml;r Umsteiger von anderen
Programmiersprachen wie z.B. Basic ist dies jedoch m&ouml;glicherweise etwas
gew&ouml;hnungsbed&uuml;rftig.
<p>
Es sind auch Funktionen erlaubt, die zwar etwas tun, jedoch keine f&uuml;r die aufrufende
Funktion relevanten Berechnungen durchf&uuml;hren. Wir h&auml;tten unser Beispielprogramm zum
Thema <a href="C-Kurs_1_7.html">"Schleifen mit for"</a> auch wie folgt formulieren
k&ouml;nnen:

<p>
<center>
<TABLE border="0" cellpadding="5" cellspacing="0" bgcolor="#AAAAAA"><TR>
<TD>
<!-- begin of C code -->
<font color="#FFFFFF">
/*&nbsp;&nbsp;Listing&nbsp;1.10.2<br>
&nbsp;*&nbsp;&nbsp;Funktionen&nbsp;ohne&nbsp;R&uuml;ckgabewert<br>
&nbsp;*/<br></font>
<br>
<br>
#include&nbsp;&lt;stdio.h&gt;<br>
<br>
<br>
<font color="#FFFFFF">
/*&nbsp;Gibt&nbsp;den&nbsp;Text&nbsp;n&nbsp;mal&nbsp;aus&nbsp;*/<br></font>
<br>
<font color="#AA00FF"><b>void</b></font>&nbsp;schreibe_n_mal(<font color="#AA00FF"><b>int</b></font>&nbsp;n)<br>
{<br>
&nbsp;&nbsp;<font color="#AA00FF"><b>int</b></font>&nbsp;i;<br>
<br>
&nbsp;&nbsp;<font color="#AA00FF"><b>for</b></font>&nbsp;(i=1;i&lt;=n;i++)<br>
&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#852608"><b>printf</b></font>(<font color="#EEDD05">"%d.&nbsp;Ich&nbsp;darf&nbsp;den&nbsp;Lehrer&nbsp;nicht&nbsp;&auml;rgern.\n"</font>,i);<br>
&nbsp;&nbsp;}<br>
}<br>
<br>
<font color="#AA00FF"><b>int</b></font>&nbsp;main(<font color="#AA00FF"><b>void</b></font>)<br>
{<br>
&nbsp;&nbsp;<font color="#AA00FF"><b>int</b></font>&nbsp;max;<br>
<br>
&nbsp;&nbsp;<font color="#852608"><b>printf</b></font>(<font color="#EEDD05">"Wie&nbsp;oft?&nbsp;"</font>);<br>
&nbsp;&nbsp;<font color="#852608"><b>scanf</b></font>(<font color="#EEDD05">"%d"</font>,&max);<br>
<br>
&nbsp;&nbsp;schreibe_n_mal(max);<br>
<br>
&nbsp;&nbsp;<font color="#AA00FF"><b>return</b></font>&nbsp;0;<br>
}<br>

<!-- end of C code -->

</TD>
</TR>
</TABLE>
</center>
<BR>
<p>

Die hier verwendete Funktion <TT>schreibe_n_mal</TT> gibt den Text <TT>n</TT> mal aus.
Allerdings berechnet sie nichts, was wir in <TT>main</TT> verwenden.
Die Funktion hat eigentlich keinen R&uuml;ckgabewert. In einem solchen Fall tr&auml;gt
man bei der Funktionsdeklaration als <a href="C-Kurs_Datentypen.html">Datentyp</a>
f&uuml;r den R&uuml;ckgabewert <TT>void</TT> ein, was soviel bedeutet wie "nichts".
Eine Funktion, die nichts zur&uuml;ckgibt, braucht auch keine <TT>return</TT> Anweisung.
<p>
</font>
</center>
</TD>
</TABLE>

</body>
</html>
