<html>
<head>
<title>Amiga C Kurs f&uuml;r Einsteiger</title>
<META NAME="description" CONTENT="Amiga C Kurs f&uuml;r Einsteiger">
<META NAME="keywords"    CONTENT="C, Amiga, Programmierung, Kurs, Einsteiger, StormC">
<META NAME="author"      CONTENT="Norman Walter">

<script language="JavaScript" src="JavaScript/C-Kurs_Kapitel.js" type="text/javascript">
</script>

</head>
<body bgcolor="black" link="#DDDDDD" vlink="#BBBBBB">
<center>
<TABLE>
<TD VALIGN="TOP" ALIGN="TOP" WIDTH="140">
<CENTER>
<A HREF="index.html" NAME="Home"><IMG SRC="Home.png" ALT="Home" BORDER="0"></A><BR>
<A HREF="download.html" NAME="Downloads"><IMG SRC="Download.png" ALT="Downloads" BORDER="0"></A><BR>
<A HREF="Links.html" NAME="Links"><IMG SRC="Links.png" ALT="Links" BORDER="0"></A><BR>
<a href="cgi-bin/GB_SHOW.cgi" method="POST"><img SRC="guestbook.png" BORDER=0 alt="Guestbook"></a>
<p>
<A HREF="http://www.norman-interactive.com/email_feedback.html">
<IMG SRC="@.png" Border="0" Alt="e-mail"><BR><small>e-mail</small></A><BR>
<p>

<img src="C-Kurs/C-Kurs_sm.png" alt="Amiga C Kurs f&uuml;r Einsteiger" vspace="20"><BR>

<NOSCRIPT>
<font color="red">
Diese Seite ben&ouml;tigt JavaScript.
Entweder Ihr Browser unterst&uuml;tzt kein JavaScript, oder Sie haben es deaktiviert.
</font>
</NOSCRIPT>

<SCRIPT LANGUAGE="JavaScript">
<!--

  erzeuge_Kapitel(4);

//-->
</SCRIPT>

<p>
</CENTER>
</TD>
<TD VALIGN="TOP" ALIGN="TOP" WIDTH="400" HEIGHT="600">
<center>
<p>
<BR>
<font color="white">

<img src="C-Kurs/C-Kurs.png" alt="Amiga C Kurs f&uul,r Einsteiger"><BR>
</center>
<p>
<font color="gray"><H2>Zeiger als Funktionsargumente</H2></font><BR>
<p>
<a href="C-Kurs_4_1.html">Zeiger</a> k&ouml;nnen auch als Funktionsargumente verwendet werden.
Dies wird auch als <i>call by reference</i> bezeichnet. Wenn man hingegen <a href="C-Kurs_1_2.html">Variablen</a> als Funktionsargumente
&uuml;bergibt, wird dies als <i>call by value</i> bezeichnet. Bei <i>call by value</i> werden
lokale Kopien der &uuml;bergebenen <a href="C-Kurs_1_2.html">Variablen</a> angelegt, bei <i>call by reference</i> werden keine
Kopien angelegt, sondern es wird direkt mit den <a href="C-Kurs_1_2.html">Variablen</a> gearbeitet, auf den die jeweiligen Zeiger
zeigen.
<p>
Ein typisches Beispiel ist die Verwendung eines Zeigers auf ein <TT>char</TT>-Array als Funktionsargument,
um einen Textstring an eine <a href="C-Kurs_1_10.html">Funktion</a> zu &uuml;bergeben.
<p>
Das folgende Beispiel ist eine erweiterte Version von <a href="C-Kurs_1_10.html">Listing 1.10.2</a>:
<p>
<center>
<TABLE border="0" cellpadding="5" cellspacing="0" bgcolor="#AAAAAA"><TR>
<TD>
<!-- begin of C code -->
<font color="#FFFFFF">
/*&nbsp;&nbsp;Listing&nbsp;4.4.1<br>
&nbsp;*&nbsp;&nbsp;Zeiger&nbsp;als&nbsp;Funktionsargumente<br>
&nbsp;*/<br></font>
<br>
#include&nbsp;&lt;stdio.h&gt;<br>
<br>
#define&nbsp;MAXPUFFER&nbsp;80&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Gr&ouml;&szlig;e&nbsp;des&nbsp;Puffers<br></b></font>
<br>
<font color="#FFFFFF">
/*&nbsp;&nbsp;Gibt&nbsp;den&nbsp;Text&nbsp;n&nbsp;mal&nbsp;aus<br>
&nbsp;*&nbsp;&nbsp;Eingabeparameter:<br>
&nbsp;*&nbsp;&nbsp;char&nbsp;*text&nbsp;:&nbsp;Zeiger&nbsp;auf&nbsp;einen&nbsp;String<br>
&nbsp;*&nbsp;&nbsp;unsigned&nbsp;int&nbsp;n&nbsp;:&nbsp;Wie&nbsp;oft&nbsp;soll&nbsp;der&nbsp;Text&nbsp;ausgegeben&nbsp;werden?<br>
&nbsp;*<br>
&nbsp;*/<br></font>
<font color="#AA00FF"><b>void</b></font>&nbsp;schreibe_n_mal(<font color="#AA00FF"><b>char</b></font>&nbsp;*text,&nbsp;<font color="#AA00FF"><b>unsigned</b></font>&nbsp;<font color="#AA00FF"><b>int</b></font>&nbsp;n)<br>
{<br>
&nbsp;&nbsp;<font color="#AA00FF"><b>unsigned</b></font>&nbsp;<font color="#AA00FF"><b>int</b></font>&nbsp;i;<br>
<br>
&nbsp;&nbsp;<font color="#AA00FF"><b>for</b></font>&nbsp;(i=1;i&lt;=n;i++)&nbsp;<font color="#852608"><b>printf</b></font>(<font color="#EEDD05">"%d.\t%s\n"</font>,i,text);<br>
}<br>
<br>
<font color="#AA00FF"><b>int</b></font>&nbsp;main(<font color="#AA00FF"><b>void</b></font>)<br>
{<br>
&nbsp;&nbsp;<font color="#AA00FF"><b>char</b></font>&nbsp;puffer[MAXPUFFER];&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Puffer&nbsp;f&uuml;r&nbsp;Zeichen<br></b></font>
&nbsp;&nbsp;<font color="#AA00FF"><b>unsigned</b></font>&nbsp;<font color="#AA00FF"><b>int</b></font>&nbsp;max;<br>
<br>
&nbsp;&nbsp;<font color="#852608"><b>printf</b></font>(<font color="#EEDD05">"Bitte&nbsp;geben&nbsp;Sie&nbsp;einen&nbsp;Text&nbsp;ein&nbsp;(maximal&nbsp;%d&nbsp;Zeichen)!\n"</font>,MAXPUFFER);<br>
&nbsp;&nbsp;<font color="#852608"><b>gets</b></font>(puffer);&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Eine&nbsp;Zeile&nbsp;von&nbsp;der&nbsp;Konsole&nbsp;einlesen<br></b></font>
&nbsp;&nbsp;<font color="#852608"><b>printf</b></font>(<font color="#EEDD05">"Wie&nbsp;oft?&nbsp;"</font>);<br>
&nbsp;&nbsp;<font color="#852608"><b>scanf</b></font>(<font color="#EEDD05">"%d"</font>,&max);<br>
<br>
&nbsp;&nbsp;schreibe_n_mal(puffer,max);<br>
<br>
&nbsp;&nbsp;<font color="#AA00FF"><b>return</b></font>&nbsp;0;<br>
}<br>
<!-- end of C code -->

</TD>
</TR>
</TABLE>
</center>
<BR>
<p>
Unsere <a href="C-Kurs_1_10.html">Funktion</a> <TT>schreibe_n_mal</TT> wird im Programm wie folgt aufgerufen:
<p>
<center>
<TABLE border="0" cellpadding="5" cellspacing="0" bgcolor="#AAAAAA"><TR>
<TD>
<!-- begin of C code -->
  &nbsp;&nbsp;schreibe_n_mal(puffer,max);<br>
<!-- end of C code -->
</TD>
</TR>
</TABLE>
</center>
<BR>
<p>
Das erste Argument ist der <a href="C-Kurs_1_2.html">Bezeichner</a> unseres <TT>char</TT>-Arrays.
Dies ist gleichbedeutend mit einem <a href="C-Kurs_4_1.html">Zeiger</a> auf das erste Element des Arrays.
Wir k&ouml;nnten also <TT>schreibe_n_mal</TT> auch wie folgt aufrufen:
<p>
<center>
<TABLE border="0" cellpadding="5" cellspacing="0" bgcolor="#AAAAAA"><TR>
<TD>
<!-- begin of C code -->
  schreibe_n_mal(&puffer[0],max);
<!-- end of C code -->
</TD>
</TR>
</TABLE>
</center>
<BR>
<p>
Da das erste Argument unserer <a href="C-Kurs_1_10.html">Funktion</a> <TT>schreibe_n_mal</TT> ein
<a href="C-Kurs_4_1.html">Zeiger</a> auf ein <TT>char</TT>-Array ist, k&ouml;nnen wir auch einen
String als Argument &uuml;bergeben. Wenn wir z.B. 10 mal "Hallo Welt!"
ausgeben wollen, k&ouml;nnen wir <TT>schreibe_n_mal</TT> wie folgt aufrufen:
<p>
<center>
<TABLE border="0" cellpadding="5" cellspacing="0" bgcolor="#AAAAAA"><TR>
<TD>
<!-- begin of C code -->
  schreibe_n_mal("Hallo Welt",10);
<!-- end of C code -->
</TD>
</TR>
</TABLE>
</center>
<BR>
<p>

Anstatt eine <a href="C-Kurs_1_10.html">Funktion</a> mit sehr vielen Argumenten zu schreiben, kann man die Argumente
auch als <a href="C-Kurs_3_3.html">Struktur</a> zusammenfassen und der <a href="C-Kurs_1_10.html">Funktion</a> einen <a href="C-Kurs_4_2.html">Zeiger auf diese Struktur</a>
&uuml;bergeben.
<p>
Wenn wir z.B. eine <a href="C-Kurs_3_3.html">Struktur</a> f&uuml;r eine Adresse wie folgt definieren
<p>
<center>
<TABLE border="0" cellpadding="5" cellspacing="0" bgcolor="#AAAAAA"><TR>
<TD>
<!-- begin of C code -->
<font color="#008822"><b>//&nbsp;Struktur&nbsp;f&uuml;r&nbsp;Adresse<br></b></font>
<font color="#AA00FF"><b>struct</b></font>&nbsp;Adresse<br>
{<br>
&nbsp;&nbsp;&nbsp;<font color="#AA00FF"><b>char</b></font>&nbsp;Vorname[20];<br>
&nbsp;&nbsp;&nbsp;<font color="#AA00FF"><b>char</b></font>&nbsp;Nachname[20];<br>
&nbsp;&nbsp;&nbsp;<font color="#AA00FF"><b>char</b></font>&nbsp;Strasse[40];<br>
&nbsp;&nbsp;&nbsp;<font color="#AA00FF"><b>char</b></font>&nbsp;Plz[6];<br>
&nbsp;&nbsp;&nbsp;<font color="#AA00FF"><b>char</b></font>&nbsp;Stadt[20];<br>
};<br>
<!-- end of C code -->
</TD>
</TR>
</TABLE>
</center>
<BR>
<p>

k&ouml;nnte eine m&ouml;gliche <a href="C-Kurs_1_10.html">Funktion</a> zur Ausgabe so aussehen:

<p>
<center>
<TABLE border="0" cellpadding="5" cellspacing="0" bgcolor="#AAAAAA"><TR>
<TD>
<!-- begin of C code -->
<font color="#AA00FF"><b>void</b></font>&nbsp;Zeige_Adresse(<font color="#AA00FF"><b>char</b></font>&nbsp;*Vorname,<font color="#AA00FF"><b>char</b></font>&nbsp;*Nachname,&nbsp;<font color="#AA00FF"><b>char</b></font>&nbsp;*Strasse,&nbsp;<font color="#AA00FF"><b>char</b></font>&nbsp;*Plz,&nbsp;<font color="#AA00FF"><b>char</b></font>&nbsp;*Stadt)<br>
{<br>
&nbsp;&nbsp;&nbsp;<font color="#852608"><b>printf</b></font>(<font color="#EEDD05">"%s&nbsp;%s\n"</font>,Vorname,Nachname);<br>
&nbsp;&nbsp;&nbsp;<font color="#852608"><b>printf</b></font>(<font color="#EEDD05">"%s\n"</font>,Strasse);<br>
&nbsp;&nbsp;&nbsp;<font color="#852608"><b>printf</b></font>(<font color="#EEDD05">"%s&nbsp;%s\n"</font>,Plz,Stadt);<br>
}<br>
<!-- end of C code -->
</TD>
</TR>
</TABLE>
</center>
<BR>
<p>
Diese <a href="C-Kurs_1_10.html">Funktion</a> hat f&uuml;r jede Komponente der <a href="C-Kurs_3_3.html">Struktur</a> <TT>Adresse</TT> ein Argument.
Der Funktionsaufruf w&uuml;rde dann z.B. so aussehen:
<p>
<center>
<TABLE border="0" cellpadding="5" cellspacing="0" bgcolor="#AAAAAA"><TR>
<TD>
<!-- begin of C code -->
&nbsp;&nbsp;Zeige_Adresse(Anschrift.Vorname,Anschrift.Nachname,Anschrift.Strasse,Anschrift.Plz,Anschrift.Stadt);<br>
<!-- end of C code -->
</TD>
</TR>
</TABLE>
</center>
<BR>
<p>
Wenn wir statt dessen einen <a href="C-Kurs_4_2.html">Zeiger auf eine Struktur</a> als Funktionsargument &uuml;bergeben,
reicht ein einziges Argument aus:
<p>
<center>
<TABLE border="0" cellpadding="5" cellspacing="0" bgcolor="#AAAAAA"><TR>
<TD>
<!-- begin of C code -->
<font color="#FFFFFF">
/*&nbsp;&nbsp;Zeige_Adresse<br>
&nbsp;*&nbsp;&nbsp;Gibt&nbsp;eine&nbsp;Adresse&nbsp;aus<br>
&nbsp;*<br>
&nbsp;*&nbsp;&nbsp;Eingabeparameter:<br>
&nbsp;*&nbsp;&nbsp;struct&nbsp;Adresse&nbsp;*a&nbsp;:&nbsp;Zeiger&nbsp;auf&nbsp;Strukturvariable&nbsp;vom&nbsp;Typ&nbsp;Adresse<br>
&nbsp;*<br>
&nbsp;*/<br></font>
<font color="#AA00FF"><b>void</b></font>&nbsp;Zeige_Adresse(<font color="#AA00FF"><b>struct</b></font>&nbsp;Adresse&nbsp;*a)<br>
{<br>
&nbsp;&nbsp;&nbsp;<font color="#852608"><b>printf</b></font>(<font color="#EEDD05">"%s&nbsp;%s\n"</font>,a->Vorname,a->Nachname);<br>
&nbsp;&nbsp;&nbsp;<font color="#852608"><b>printf</b></font>(<font color="#EEDD05">"%s\n"</font>,a->Strasse);<br>
&nbsp;&nbsp;&nbsp;<font color="#852608"><b>printf</b></font>(<font color="#EEDD05">"%s&nbsp;%s\n"</font>,a->Plz,a->Stadt);<br>
}
<!-- end of C code -->
</TD>
</TR>
</TABLE>
</center>
<BR>
<p>

Auch der Funktionsaufruf wird dann wesentlich k&uuml;rzer:

<p>
<center>
<TABLE border="0" cellpadding="5" cellspacing="0" bgcolor="#AAAAAA"><TR>
<TD>
<!-- begin of C code -->
&nbsp;&nbsp;Zeige_Adresse(Zeiger);
<!-- end of C code -->
</TD>
</TR>
</TABLE>
</center>
<BR>
<p>

Hier das vollst&auml;ndige Beispielprogramm:

<p>
<center>
<TABLE border="0" cellpadding="5" cellspacing="0" bgcolor="#AAAAAA"><TR>
<TD>
<!-- begin of C code -->
<font color="#FFFFFF">
/*&nbsp;&nbsp;Listing&nbsp;4.4.2<br>
&nbsp;*&nbsp;&nbsp;Funktionsargumente&nbsp;zu&nbsp;einer&nbsp;Struktur&nbsp;zusammenfassen<br>
&nbsp;*/<br></font>
<br>
#include&nbsp;&lt;stdio.h&gt;<br>
<br>
<font color="#008822"><b>//&nbsp;Struktur&nbsp;f&uuml;r&nbsp;Adresse<br></b></font>
<font color="#AA00FF"><b>struct</b></font>&nbsp;Adresse<br>
{<br>
&nbsp;&nbsp;&nbsp;<font color="#AA00FF"><b>char</b></font>&nbsp;Vorname[20];<br>
&nbsp;&nbsp;&nbsp;<font color="#AA00FF"><b>char</b></font>&nbsp;Nachname[20];<br>
&nbsp;&nbsp;&nbsp;<font color="#AA00FF"><b>char</b></font>&nbsp;Strasse[40];<br>
&nbsp;&nbsp;&nbsp;<font color="#AA00FF"><b>char</b></font>&nbsp;Plz[6];<br>
&nbsp;&nbsp;&nbsp;<font color="#AA00FF"><b>char</b></font>&nbsp;Stadt[20];<br>
};<br>
<br>
<font color="#FFFFFF">
/*&nbsp;&nbsp;Zeige_Adresse<br>
&nbsp;*&nbsp;&nbsp;Gibt&nbsp;eine&nbsp;Adresse&nbsp;aus<br>
&nbsp;*<br>
&nbsp;*&nbsp;&nbsp;Eingabeparameter:<br>
&nbsp;*&nbsp;&nbsp;struct&nbsp;Adresse&nbsp;*a&nbsp;:&nbsp;Zeiger&nbsp;auf&nbsp;Strukturvariable&nbsp;vom&nbsp;Typ&nbsp;Adresse<br>
&nbsp;*<br>
&nbsp;*/<br></font>
<font color="#AA00FF"><b>void</b></font>&nbsp;Zeige_Adresse(<font color="#AA00FF"><b>struct</b></font>&nbsp;Adresse&nbsp;*a)<br>
{<br>
&nbsp;&nbsp;&nbsp;<font color="#852608"><b>printf</b></font>(<font color="#EEDD05">"%s&nbsp;%s\n"</font>,a->Vorname,a->Nachname);<br>
&nbsp;&nbsp;&nbsp;<font color="#852608"><b>printf</b></font>(<font color="#EEDD05">"%s\n"</font>,a->Strasse);<br>
&nbsp;&nbsp;&nbsp;<font color="#852608"><b>printf</b></font>(<font color="#EEDD05">"%s&nbsp;%s\n"</font>,a->Plz,a->Stadt);<br>
}<br>
<br>
<font color="#AA00FF"><b>int</b></font>&nbsp;main(<font color="#AA00FF"><b>void</b></font>)<br>
{<br>
&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Anschrift&nbsp;ist&nbsp;eine&nbsp;Struktur&nbsp;vom&nbsp;Typ&nbsp;Adresse<br></b></font>
&nbsp;&nbsp;<font color="#AA00FF"><b>struct</b></font>&nbsp;Adresse&nbsp;Anschrift;<br>
<br>
&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Ein&nbsp;Zeiger&nbsp;auf&nbsp;eine&nbsp;Strukturvariable&nbsp;vom&nbsp;Typ&nbsp;Adresse<br></b></font>
&nbsp;&nbsp;<font color="#AA00FF"><b>struct</b></font>&nbsp;Adresse&nbsp;*Zeiger;<br>
<br>
&nbsp;&nbsp;Zeiger&nbsp;=&nbsp;&Anschrift;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Zeiger&nbsp;zeigt&nbsp;auf&nbsp;Anschrift<br></b></font>
<br>
&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Daten&nbsp;f&uuml;r&nbsp;Anschrift&nbsp;einlesen<br></b></font>
&nbsp;&nbsp;<font color="#852608"><b>printf</b></font>(<font color="#EEDD05">"Bitte&nbsp;geben&nbsp;Sie&nbsp;Ihre&nbsp;Adresse&nbsp;ein:\n"</font>);<br>
&nbsp;&nbsp;<font color="#852608"><b>printf</b></font>(<font color="#EEDD05">"Vornamen:&nbsp;"</font>);<br>
&nbsp;&nbsp;<font color="#852608"><b>gets</b></font>(Anschrift.Vorname);<br>
&nbsp;&nbsp;<font color="#852608"><b>printf</b></font>(<font color="#EEDD05">"Nachnamen:&nbsp;"</font>);<br>
&nbsp;&nbsp;<font color="#852608"><b>gets</b></font>(Anschrift.Nachname);<br>
&nbsp;&nbsp;<font color="#852608"><b>printf</b></font>(<font color="#EEDD05">"Stra&szlig;e&nbsp;und&nbsp;Hausnummer:&nbsp;"</font>);<br>
&nbsp;&nbsp;<font color="#852608"><b>gets</b></font>(Anschrift.Strasse);<br>
&nbsp;&nbsp;<font color="#852608"><b>printf</b></font>(<font color="#EEDD05">"Postleitzahl:&nbsp;"</font>);<br>
&nbsp;&nbsp;<font color="#852608"><b>gets</b></font>(Anschrift.Plz);<br>
&nbsp;&nbsp;<font color="#852608"><b>printf</b></font>(<font color="#EEDD05">"Stadt:&nbsp;"</font>);<br>
&nbsp;&nbsp;<font color="#852608"><b>gets</b></font>(Anschrift.Stadt);<br>
&nbsp;&nbsp;<font color="#852608"><b>printf</b></font>(<font color="#EEDD05">"\n"</font>);<br>
<br>
&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Anschrift&nbsp;ausgeben<br></b></font>
&nbsp;&nbsp;Zeige_Adresse(Zeiger);<br>
<br>
&nbsp;&nbsp;<font color="#AA00FF"><b>return</b></font>&nbsp;0;<br>
}<br>
<!-- end of C code -->

</TD>
</TR>
</TABLE>
</center>
<BR>
<p>

<p>
</font>
</center>
</TD>
</TABLE>

</body>
</html>
