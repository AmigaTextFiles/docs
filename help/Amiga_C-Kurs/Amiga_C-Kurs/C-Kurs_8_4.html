<html>
<head>
<title>Amiga C Kurs f&uuml;r Einsteiger</title>
<META NAME="description" CONTENT="Amiga C Kurs f&uuml;r Einsteiger">
<META NAME="keywords"    CONTENT="C, Amiga, Programmierung, Kurs, Einsteiger, StormC">
<META NAME="author"      CONTENT="Norman Walter">

<script language="JavaScript" src="JavaScript/C-Kurs_Kapitel.js" type="text/javascript">
</script>

</head>
<body bgcolor="black" link="#DDDDDD" vlink="#BBBBBB">
<center>
<TABLE>
<TD VALIGN="TOP" ALIGN="TOP" WIDTH="140">
<CENTER>
<A HREF="index.html" NAME="Home"><IMG SRC="Home.png" ALT="Home" BORDER="0"></A><BR>
<A HREF="download.html" NAME="Downloads"><IMG SRC="Download.png" ALT="Downloads" BORDER="0"></A><BR>
<A HREF="Links.html" NAME="Links"><IMG SRC="Links.png" ALT="Links" BORDER="0"></A><BR>
<a href="cgi-bin/GB_SHOW.cgi" method="POST"><img SRC="guestbook.png" BORDER=0 alt="Guestbook"></a>
<p>
<A HREF="http://www.norman-interactive.com/email_feedback.html">
<IMG SRC="@.png" Border="0" Alt="e-mail"><BR><small>e-mail</small></A><BR>
<p>

<img src="C-Kurs/C-Kurs_sm.png" alt="Amiga C Kurs f&uuml;r Einsteiger" vspace="20"><BR>

<NOSCRIPT>
<font color="red">
Diese Seite ben&ouml;tigt JavaScript.
Entweder Ihr Browser unterst&uuml;tzt kein JavaScript, oder Sie haben es deaktiviert.
</font>
</NOSCRIPT>

<SCRIPT LANGUAGE="JavaScript">
<!--

  erzeuge_Kapitel(8);

//-->
</SCRIPT>

<p>
</CENTER>
</TD>
<TD VALIGN="TOP" ALIGN="TOP" WIDTH="400" HEIGHT="600">
<center>
<p>
<BR>
<font color="white">

<img src="C-Kurs/C-Kurs.png" alt="Amiga C Kurs f&uuml;r Einsteiger"><BR>
</center>
<p>
<font color="gray"><H2>Polarkoordinaten</H2></font><BR>
<p>
In dieser Lektion machen wir einen kleinen Abstecher in die Welt der Mathematik.
Manchmal ist es zweckm&auml;&szlig;ig die Lage eines Punktes nicht - wie wir es bisher gemacht
haben - in Form von kartesischen Koorinaten, d.h. x- und y-Wert, sondern als Radius
und Winkel anzugeben.
<p>

<center>
<img src="C-Kurs/Polarkoordinaten.png" alt="Polarkoordinaten"><BR>
</center>

<p>
Aus dem Radius <TT>r</TT> und dem Winkel <TT>phi</TT> k&ouml;nnen wir mit Hilfe
der trigonometrischen Funktionen Sinus und Cosinus die <TT>x</TT> und <TT>y</TT>
Werte bestimmen.
<p>
Um Polarkoordinaten in kartesische Koordinaten umzuwandeln benutzen wir folgende <a href="C-Kurs_1_10.html">Funktion</a>:

<p>
<center>
<TABLE border="0" cellpadding="5" cellspacing="0" bgcolor="#AAAAAA"><TR>
<TD>
<!-- begin of C code -->
<font color="#FFFFFF">
/*&nbsp;&nbsp;&nbsp;Polar.c<br>
&nbsp;*&nbsp;&nbsp;&nbsp;Implementierungsmodul<br>
&nbsp;*/<br></font>
<br>
#ifndef&nbsp;POLAR_H<br>
#include&nbsp;POLAR_H<br>
#endif<br>
<br>
<font color="#008822"><b>//&nbsp;Rechnet&nbsp;Polarkoordinaten&nbsp;in&nbsp;kartesische&nbsp;koordinaten&nbsp;um<br></b></font>
<font color="#AA00FF"><b>void</b></font>&nbsp;PolarKart(<font color="#AA00FF"><b>double</b></font>&nbsp;r,&nbsp;<font color="#AA00FF"><b>double</b></font>&nbsp;phi,<font color="#AA00FF"><b>double</b></font>&nbsp;&x,&nbsp;<font color="#AA00FF"><b>double</b></font>&nbsp;&y)<br>
{<br>
&nbsp;&nbsp;x&nbsp;=&nbsp;r*<font color="#852608"><b>sin</b></font>(phi);<br>
&nbsp;&nbsp;y&nbsp;=&nbsp;r*<font color="#852608"><b>cos</b></font>(phi);<br>
}<br>

<!-- end of C code -->

</TD>
</TR>
</TABLE>
</center>
<BR>
<p>

Die Konstruktionen <TT>&x</TT> und <TT>&y</TT> werden Ihnen wahrscheinlich noch nicht
gel&auml;ufig sein. In der Lektion &uuml;ber <a href="C-Kurs_4_1.html">Zeiger und Adressen</a>
haben wir gesagt, da&szlig; ein Ausdruck wie <TT>&x</TT> die Adresse einer Variablen liefert.
Man bezeichnet eine solche Konstruktion auch als konstanten <a href="C-Kurs_4_1.html">Zeiger</a>
oder Referenz.
Im Fall unserer <a href="C-Kurs_1_10.html">Funktion</a> <TT>PolarKart</TT> bewirkt das, da&szlig; innerhalb der <a href="C-Kurs_1_10.html">Funktion</a> keine
<a href="C-Kurs_5_1.html">lokale Variablen</a> <TT>x</TT> und <TT>y</TT> definiert werden, sondern die angegebenen lokalen
Variablen der aufrufenden Funktion (z.B. <TT>main</TT>) oder <a href="C-Kurs_5_2.html">globale Variablen</a> ver&auml;ndert werden.
<p>

Und hier die zugeh&ouml;rige Header-Datei:

<p>
<center>
<TABLE border="0" cellpadding="5" cellspacing="0" bgcolor="#AAAAAA"><TR>
<TD>
<!-- begin of C code -->
<font color="#FFFFFF">
/*&nbsp;&nbsp;&nbsp;Polar.h<br>
&nbsp;*&nbsp;&nbsp;&nbsp;Definitionsmodul<br>
&nbsp;*/<br></font>
<br>
#ifndef&nbsp;POLAR_H<br>
#define&nbsp;POLAR_H<br>
<br>
<font color="#008822"><b>//&nbsp;Stellt&nbsp;sicher,&nbsp;da&szlig;&nbsp;math.h&nbsp;includiert&nbsp;wird<br></b></font>
#ifndef&nbsp;_INCLUDE_MATH_H<br>
#include&nbsp;&lt;math.h&gt;<br>
#endif<br>
<br>
<font color="#FFFFFF">
/*&nbsp;&nbsp;Falls&nbsp;Sie&nbsp;einen&nbsp;anderen&nbsp;Compiler&nbsp;als&nbsp;StormC<br>
&nbsp;*&nbsp;&nbsp;bzw.&nbsp;andere&nbsp;Header-Dateien&nbsp;verwenden,&nbsp;kann&nbsp;es&nbsp;vorkommen,<br>
&nbsp;*&nbsp;&nbsp;da&szlig;&nbsp;die&nbsp;symbolische&nbsp;Konstante&nbsp;PI&nbsp;nicht&nbsp;definiert&nbsp;ist.<br>
&nbsp;*/<br></font>
#ifndef&nbsp;PI<br>
#define&nbsp;PI&nbsp;3.14159265358979323846<br>
#endif<br>
<br>
<font color="#008822"><b>//&nbsp;Makro&nbsp;f&uuml;r&nbsp;die&nbsp;Umwandlung&nbsp;von&nbsp;Grad&nbsp;in&nbsp;Bogenma&szlig;<br></b></font>
#define&nbsp;DEG2RAD(a)&nbsp;(a*PI/180.0)<br>
<br>
<font color="#008822"><b>//&nbsp;Funktionsprototypen:<br></b></font>
<br>
<font color="#008822"><b>//&nbsp;Rechnet&nbsp;Polarkoordinaten&nbsp;in&nbsp;kartesische&nbsp;koordinaten&nbsp;um<br></b></font>
<font color="#AA00FF"><b>void</b></font>&nbsp;PolarKart(<font color="#AA00FF"><b>double</b></font>&nbsp;r,&nbsp;<font color="#AA00FF"><b>double</b></font>&nbsp;phi,<font color="#AA00FF"><b>double</b></font>&nbsp;&x,&nbsp;<font color="#AA00FF"><b>double</b></font>&nbsp;&y);<br>
<br>
#endif<br>

<!-- end of C code -->

</TD>
</TR>
</TABLE>
</center>
<BR>
<p>

Da wir die Funktionen <TT>sin</TT> und <TT>cos</TT> verwenden, mu&szlig; unbedingt sichergestellt
sein, da&szlig; die <a href="C-Kurs_6_1.html">Standard Definitionsdatei</a> <TT>math.h</TT> mit eingebunden
wird. Weil die trigonometrischen Funktionen aus <TT>math.h</TT> die Winkel in Bogenma&szlig; erwarten,
wir jedoch unsere Winkel lieber im Gradma&szlig; angeben wollen, definieren wir das <a href="C-Kurs_2_2.html">Makro</a>
<TT>DEG2RAD</TT>, welches die Umrechnung vom Grad- in das Bogenma&szlig; vornimmt.
<p>

<p>
Wir testen unsere <a href="C-Kurs_1_10.html">Funktion</a> <TT>PolarKart</TT> mit folgendem Programm:

<p>
<center>
<TABLE border="0" cellpadding="5" cellspacing="0" bgcolor="#AAAAAA"><TR>
<TD>
<!-- begin of C code -->
<font color="#FFFFFF">
/*&nbsp;&nbsp;&nbsp;Listing&nbsp;8.4.1<br>
&nbsp;*&nbsp;&nbsp;&nbsp;Polar_Umrechnung.c<br>
&nbsp;*&nbsp;&nbsp;&nbsp;Rechnet&nbsp;Polarkoordinaten&nbsp;in&nbsp;kartesische&nbsp;Koordinaten&nbsp;um.<br>
&nbsp;*<br>
&nbsp;*/<br></font>
<br>
#include&nbsp;&lt;stdio.h&gt;<br>
#include&nbsp;&lt;math.h&gt;<br>
<br>
<font color="#008822"><b>//&nbsp;Eigene&nbsp;Includes<br></b></font>
#include&nbsp;<font color="#EEDD05">"Polar.h"</font><br>
#include&nbsp;<font color="#EEDD05">"Polar.c"</font><br>
<br>
<font color="#AA00FF"><b>int</b></font>&nbsp;main(<font color="#AA00FF"><b>void</b></font>)<br>
{<br>
&nbsp;&nbsp;<font color="#AA00FF"><b>double</b></font>&nbsp;x,&nbsp;y,&nbsp;r,&nbsp;phi;<br>
<br>
&nbsp;&nbsp;<font color="#852608"><b>printf</b></font>(<font color="#EEDD05">"r="</font>);<br>
&nbsp;&nbsp;<font color="#852608"><b>scanf</b></font>(<font color="#EEDD05">"%lf"</font>,&nbsp;&r);<br>
&nbsp;&nbsp;<font color="#852608"><b>printf</b></font>(<font color="#EEDD05">"phi&nbsp;(in&nbsp;Grad)="</font>);<br>
&nbsp;&nbsp;<font color="#852608"><b>scanf</b></font>(<font color="#EEDD05">"%lf"</font>,&phi);<br>
<br>
<font color="#FFFFFF">
&nbsp;&nbsp;/*&nbsp;&nbsp;Da&nbsp;unsere&nbsp;Funktion&nbsp;PolarKart&nbsp;den&nbsp;Winkel<br>
&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;im&nbsp;Bogenma&szlig;&nbsp;erwartet,&nbsp;m&uuml;ssen&nbsp;wir&nbsp;phi&nbsp;zuvor<br>
&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;mit&nbsp;Hilfe&nbsp;unseres&nbsp;Makros&nbsp;DEG2RAD&nbsp;umwandeln.<br>
&nbsp;&nbsp;&nbsp;*/<br></font>
&nbsp;&nbsp;PolarKart(r,DEG2RAD(phi),x,y);<br>
<br>
&nbsp;&nbsp;<font color="#852608"><b>printf</b></font>(<font color="#EEDD05">"x=%lf&nbsp;y=%lf"</font>,x,y);<br>
<br>
&nbsp;&nbsp;<font color="#AA00FF"><b>return</b></font>&nbsp;0;<br>
}<br>

<!-- end of C code -->

</TD>
</TR>
</TABLE>
</center>
<BR>
<p>

Es empfiehlt sich vor allem bei gr&ouml;&szlig;eren Projekten, die einzelnen <a href="C-Kurs_2_3.html">Programmmodule</a>
zun&auml;chst mit Hilfe von kleinen Testprogrammen auszuprobieren um eventuelle Fehler erkennen
zu k&ouml;nnen.

<p>

Mit Hilfe unserer Umrechnungsfunktion f&uuml;r Polarkoordinaten k&ouml;nnen wir eine <a href="C-Kurs_1_10.html">Funktion</a>
zum Zeichnen von regelm&auml;&szlig;igen Polygonen (Vielecken) formulieren:

<p>
<center>
<TABLE border="0" cellpadding="5" cellspacing="0" bgcolor="#AAAAAA"><TR>
<TD>
<!-- begin of C code -->
<font color="#FFFFFF">
/*&nbsp;&nbsp;Polygon.c<br>
&nbsp;*&nbsp;&nbsp;Implementierungsmodul<br>
&nbsp;*/<br></font>
<br>
#include&nbsp;<font color="#EEDD05">"Polygon.h"</font><br>
<br>
<font color="#FFFFFF">
/*&nbsp;&nbsp;&nbsp;Zeichnet&nbsp;im&nbsp;RastPort&nbsp;rp&nbsp;ein&nbsp;regelm&auml;&szlig;iges&nbsp;n-Eck<br>
&nbsp;*&nbsp;&nbsp;&nbsp;mit&nbsp;Radius&nbsp;r&nbsp;und&nbsp;dem&nbsp;Mittelpunkt&nbsp;(xc/yc)<br>
&nbsp;*/<br></font>
<font color="#AA00FF"><b>void</b></font>&nbsp;ZeichnePolygon(<font color="#AA00FF"><b>struct</b></font>&nbsp;<font color="#45FF65">RastPort</font>&nbsp;*rp,&nbsp;<font color="#AA00FF"><b>int</b></font>&nbsp;n,&nbsp;<font color="#AA00FF"><b>double</b></font>&nbsp;r,&nbsp;<font color="#AA00FF"><b>int</b></font>&nbsp;xc,&nbsp;<font color="#AA00FF"><b>int</b></font>&nbsp;yc)<br>
{<br>
&nbsp;&nbsp;&nbsp;<font color="#AA00FF"><b>double</b></font>&nbsp;phi,xd,yd,alpha,beta;<br>
&nbsp;&nbsp;&nbsp;<font color="#AA00FF"><b>int</b></font>&nbsp;x0,y0,x1,y1;<br>
<br>
&nbsp;&nbsp;&nbsp;alpha=360.0/(<font color="#AA00FF"><b>double</b></font>)n;&nbsp;<font color="#008822"><b>//&nbsp;Winkel<br></b></font>
<br>
&nbsp;&nbsp;&nbsp;<font color="#AA00FF"><b>for</b></font>&nbsp;(phi=0.0;phi&lt;360.0;phi+=alpha)<br>
&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PolarKart(r,DEG2RAD(phi),xd,yd);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x0=(<font color="#AA00FF"><b>int</b></font>)xd+xc;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y0=(<font color="#AA00FF"><b>int</b></font>)yd+yc;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;beta=phi+alpha;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PolarKart(r,DEG2RAD(beta),xd,yd);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x1=(<font color="#AA00FF"><b>int</b></font>)xd+xc;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y1=(<font color="#AA00FF"><b>int</b></font>)yd+yc;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#FFFFAA">Move</font>(rp,x0,y0);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#FFFFAA">Draw</font>(rp,x1,y1);<br>
&nbsp;&nbsp;&nbsp;}<br>
<br>
}<br>

<!-- end of C code -->

</TD>
</TR>
</TABLE>
</center>
<BR>
<p>

Dazu lassen wir einen Zeiger (wie bei einer Uhr) mit Hilfe einer <a href="C-Kurs_1_7.html"><TT>for</TT> Schleife</a>
einmal im Kreis rotieren. Da ein voller Kreis die Winkelsumme von 360 Grad hat,
betr&auml;gt unsere Schrittweite f&uuml;r den Winkel <TT>alpha</TT>
360 Grad geteilt durch die Anzahl <TT>n</TT> der Ecken des regelm&auml;&szlig;igen Polygons,
also z.B. f&uuml;r ein F&uuml;nfeck 360 geteilt durch 5 = 72 Grad.
Mit Hilfe der Funktionen <TT>Move</TT> und <TT>Draw</TT> zeichnen wir Linien zwischen
den Eckpunkten des Polygons, so wie wir es bereits in der <a href="C-Kurs_8_2.html">Lektion &uuml;ber Grafikprimitiven</a>
besprochen haben: <TT>Move</TT> bewegt den (unsichtbaren) Grafikcursor zu den angegebenen (kartesischen) Koordinaten,
<TT>Draw</TT> zeichnet eine Linie von der Position des Grafikcursors zu dem angegebenen Punkt.
Zuvor m&uuml;ssen wir jedoch die Polarkoordinaten in kartesische Koordinaten umrechnen.
dies erledigt unsere <a href="C-Kurs_1_10.html">Funktion</a> <TT>PolarKart</TT>, die wir in <TT>Polar.h</TT> definiert
und in <TT>Polar.c</TT> implementiert haben.
Zus&auml;tzlich m&uuml;ssen wir eine <a href="C-Kurs_5_5.html">Typumwandlung</a> der Werte vornehnem,
da unsere Variablen <TT>xd</TT> und <TT>yd</TT> vom <a href="C-Kurs_Datentypen.html">Typ</a> <TT>double</TT> sind, die
Funktionen <TT>Move</TT> und <TT>Draw</TT> jedoch einen <TT>int</TT> Wert als
Eingabeparameter erwarten.

<p>

Und hier die zugeh&ouml;rige Headerdatei:

<p>
<center>
<TABLE border="0" cellpadding="5" cellspacing="0" bgcolor="#AAAAAA"><TR>
<TD>
<!-- begin of C code -->
<font color="#FFFFFF">
/*&nbsp;&nbsp;Polygon.h<br>
&nbsp;*&nbsp;&nbsp;Definitionsmodul<br>
&nbsp;*/<br></font>
<br>
#ifndef&nbsp;POLYGON_H<br>
#define&nbsp;POLYGON_H<br>
<br>
#ifndef&nbsp;POLAR_H<br>
#include&nbsp;<font color="#EEDD05">"Polar.h"</font><br>
#endif<br>
<br>
<font color="#008822"><b>//&nbsp;Funktionsprototypen:<br></b></font>
<br>
<font color="#AA00FF"><b>void</b></font>&nbsp;ZeichnePolygon(<font color="#AA00FF"><b>struct</b></font>&nbsp;<font color="#45FF65">RastPort</font>&nbsp;*rp,&nbsp;<font color="#AA00FF"><b>int</b></font>&nbsp;n,&nbsp;<font color="#AA00FF"><b>double</b></font>&nbsp;r,&nbsp;<font color="#AA00FF"><b>int</b></font>&nbsp;xc,&nbsp;<font color="#AA00FF"><b>int</b></font>&nbsp;yc);<br>
<br>
#endif<br>

<!-- end of C code -->

</TD>
</TR>
</TABLE>
</center>
<BR>
<p>

Mit folgendem Programm testen wir unsere <a href="C-Kurs_1_10.html">Funktion</a> <TT>ZeichnePolygon</TT>:

<p>
<center>
<TABLE border="0" cellpadding="5" cellspacing="0" bgcolor="#AAAAAA"><TR>
<TD>
<!-- begin of C code -->
<font color="#FFFFFF">
/*&nbsp;&nbsp;Listing&nbsp;8.4.2<br>
&nbsp;*&nbsp;&nbsp;Polygon&nbsp;Demo<br>
&nbsp;*/<br></font>
<br>
#include&nbsp;&lt;exec/types.h&gt;<br>
#include&nbsp;&lt;exec/exec.h&gt;<br>
#include&nbsp;&lt;intuition/intuition.h&gt;<br>
#include&nbsp;&lt;graphics/gfx.h&gt;<br>
#include&nbsp;&lt;dos/dos.h&gt;<br>
<br>
#include&nbsp;&lt;proto/intuition.h&gt;<br>
#include&nbsp;&lt;proto/graphics.h&gt;<br>
#include&nbsp;&lt;proto/exec.h&gt;<br>
<br>
<font color="#008822"><b>//&nbsp;Eigene&nbsp;Includes<br></b></font>
#include&nbsp;<font color="#EEDD05">"Polar.h"</font><br>
#include&nbsp;<font color="#EEDD05">"Polar.c"</font><br>
<br>
#include&nbsp;<font color="#EEDD05">"Polygon.h"</font><br>
#include&nbsp;<font color="#EEDD05">"Polygon.c"</font><br>
<br>
<font color="#008822"><b>//&nbsp;Symbolische&nbsp;Konstanten<br></b></font>
#define&nbsp;WIDTH&nbsp;400&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Breite&nbsp;des&nbsp;Fensters<br></b></font>
#define&nbsp;HEIGHT&nbsp;300&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;H&ouml;he&nbsp;des&nbsp;Fensters<br></b></font>
<br>
<font color="#AA00FF"><b>struct</b></font>&nbsp;<font color="#45FF65">Window</font>&nbsp;*Fenster;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Zeiger&nbsp;auf&nbsp;Window-Struktur<br></b></font>
<font color="#AA00FF"><b>struct</b></font>&nbsp;<font color="#45FF65">IntuitionBase</font>&nbsp;*<font color="#45FF65">IntuitionBase</font>;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Zeiger&nbsp;auf&nbsp;IntuitionBase-Struktur<br></b></font>
<font color="#AA00FF"><b>struct</b></font>&nbsp;<font color="#45FF65">GfxBase</font>&nbsp;*<font color="#45FF65">GfxBase</font>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Zeiger&nbsp;auf&nbsp;GfxBase-Struktur<br></b></font>
<font color="#AA00FF"><b>struct</b></font>&nbsp;<font color="#45FF65">RastPort</font>&nbsp;*rp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Zeiger&nbsp;auf&nbsp;RastPort-Struktur<br></b></font>
<br>
<br>
<font color="#AA00FF"><b>int</b></font>&nbsp;main(<font color="#AA00FF"><b>void</b></font>)<br>
{<br>
&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Intuition&nbsp;Library&nbsp;&ouml;ffnen<br></b></font>
&nbsp;&nbsp;<font color="#45FF65">IntuitionBase</font>&nbsp;=&nbsp;(<font color="#AA00FF"><b>struct</b></font>&nbsp;<font color="#45FF65">IntuitionBase</font>&nbsp;*)&nbsp;<font color="#FFFFAA">OpenLibrary</font>(<font color="#EEDD05">"intuition.library"</font>,36L);<br>
<br>
&nbsp;&nbsp;<font color="#AA00FF"><b>if</b></font>&nbsp;(<font color="#45FF65">IntuitionBase</font>&nbsp;!=&nbsp;NULL)<br>
&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Graphics&nbsp;Library&nbsp;&ouml;ffnen<br></b></font>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#45FF65">GfxBase</font>&nbsp;=&nbsp;(<font color="#AA00FF"><b>struct</b></font>&nbsp;<font color="#45FF65">GfxBase</font>&nbsp;*)&nbsp;<font color="#FFFFAA">OpenLibrary</font>(<font color="#EEDD05">"graphics.library"</font>,0L);<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#AA00FF"><b>if</b></font>&nbsp;(<font color="#45FF65">GfxBase</font>&nbsp;!=&nbsp;NULL)<br>
&nbsp;&nbsp;&nbsp;&nbsp;{<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Fenster&nbsp;mittels&nbsp;Tags&nbsp;&ouml;ffnen<br></b></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fenster&nbsp;=&nbsp;<font color="#FFFFAA">OpenWindowTags</font>(NULL,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WA_Left,&nbsp;100,&nbsp;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Abstand&nbsp;vom&nbsp;linken&nbsp;Rand<br></b></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WA_Top,&nbsp;100,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Abstand&nbsp;vom&nbsp;oberen&nbsp;Rand<br></b></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WA_Width,&nbsp;WIDTH,&nbsp;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Breite<br></b></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WA_Height,&nbsp;HEIGHT,&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;H&ouml;he<br></b></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WA_Title,&nbsp;<font color="#EEDD05">"Polygon&nbsp;Demo"</font>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Fenstertitel<br></b></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WA_CloseGadget,&nbsp;TRUE,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Close-Gadget<br></b></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WA_DragBar,&nbsp;TRUE,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Ziehleiste<br></b></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WA_DepthGadget,&nbsp;TRUE,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Depth-Gadget<br></b></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WA_GimmeZeroZero,&nbsp;TRUE,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Ursprung&nbsp;0/0<br></b></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WA_IDCMP,&nbsp;IDCMP_CLOSEWINDOW,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WA_Activate,&nbsp;TRUE,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Fenster&nbsp;aktivieren<br></b></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TAG_DONE);<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#AA00FF"><b>if</b></font>&nbsp;(Fenster&nbsp;!=&nbsp;NULL)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rp&nbsp;=&nbsp;Fenster->RPort;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;rp&nbsp;zeigt&nbsp;auf&nbsp;RastPort&nbsp;des&nbsp;Fensters<br></b></font>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#FFFFAA">SetRast</font>(rp,&nbsp;1L);&nbsp;<font color="#008822"><b>//&nbsp;Fensterinhalt&nbsp;l&ouml;schen<br></b></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#FFFFAA">SetAPen</font>(rp,&nbsp;2L);&nbsp;<font color="#008822"><b>//&nbsp;Farbe&nbsp;setzen<br></b></font>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Zeichnet&nbsp;Polygone<br></b></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ZeichnePolygon(rp,5,50.0,75,HEIGHT/2);&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;F&uuml;nfeck&nbsp;(Pentagon)<br></b></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ZeichnePolygon(rp,6,50.0,200,HEIGHT/2);&nbsp;<font color="#008822"><b>//&nbsp;Sechseck&nbsp;(Hexagon)<br></b></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ZeichnePolygon(rp,8,50.0,325,HEIGHT/2);&nbsp;<font color="#008822"><b>//&nbsp;Achteck&nbsp;(Oktagon)<br></b></font>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Auf&nbsp;Close-Gadget&nbsp;warten<br></b></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#FFFFAA">Wait</font>(1L&nbsp;&lt;&lt;&nbsp;Fenster-&gt;UserPort-&gt;mp_SigBit);<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#FFFFAA">CloseWindow</font>(Fenster);&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Fenster&nbsp;schlie&szlig;en<br></b></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<font color="#008822"><b>//&nbsp;end&nbsp;if<br></b></font>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<font color="#008822"><b>//&nbsp;end&nbsp;if<br></b></font>
<br>
&nbsp;&nbsp;}&nbsp;<font color="#008822"><b>//&nbsp;end&nbsp;if<br></b></font>
<br>
&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Libraries&nbsp;schlie&szlig;en<br></b></font>
&nbsp;&nbsp;<font color="#AA00FF"><b>if</b></font>&nbsp;(<font color="#45FF65">GfxBase</font>&nbsp;!=&nbsp;NULL)&nbsp;<font color="#FFFFAA">CloseLibrary</font>((<font color="#AA00FF"><b>struct</b></font>&nbsp;<font color="#45FF65">Library</font>&nbsp;*)<font color="#45FF65">GfxBase</font>);<br>
&nbsp;&nbsp;<font color="#AA00FF"><b>if</b></font>&nbsp;(<font color="#45FF65">IntuitionBase</font>&nbsp;!=&nbsp;NULL)&nbsp;<font color="#FFFFAA">CloseLibrary</font>((<font color="#AA00FF"><b>struct</b></font>&nbsp;<font color="#45FF65">Library</font>&nbsp;*)<font color="#45FF65">IntuitionBase</font>);<br>
<br>
&nbsp;&nbsp;<font color="#AA00FF"><b>return</b></font>&nbsp;0;<br>
<br>
}<br>

<!-- end of C code -->

</TD>
</TR>
</TABLE>
</center>
<BR>
<p>

Unser Programm zeichnet drei regelm&auml;&szlig;ige Polygone: Ein F&uuml;nfeck (Pentagon),
ein Sechseck (Hexagon) und ein Achteck (Oktagon).

<p>

<center>
<img src="C-Kurs/Polygon_Demo.png" alt="Polygon Demo"><BR>
</center>

<p>

Als n&auml;chstes wollen wir ein Programm schreiben, welches ein Polygon
abh&auml;ngig von der aktuellen Fenstergr&ouml;&szlig;e zeichnet.
Wieder verwenden wir unsere Includes Polygon.h und Polygon.c.

<p>

<center>
<img src="C-Kurs/Polygon2_small.png" hspace=25><BR>
<p>
<img src="C-Kurs/Polygon2_big.png" hspace=25><BR>
</center>

<p>

Wie in der Lektion <a href="C-Kurs_7_4.html">"Nachricht von Intuition"</a> reagieren wir auf Ereignisse:

<p>
<center>
<TABLE border="0" cellpadding="5" cellspacing="0" bgcolor="#AAAAAA"><TR>
<TD>
<!-- begin of C code -->
<font color="#FFFFFF">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;Welches&nbsp;Ereignis&nbsp;ist&nbsp;eingetreten?&nbsp;*/<br></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#AA00FF"><b>switch</b></font>(klasse)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#AA00FF"><b>case</b></font>&nbsp;CLOSEWINDOW&nbsp;:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Weiter&nbsp;=&nbsp;FALSE;&nbsp;<font color="#008822"><b>//&nbsp;Programmende<br></b></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#AA00FF"><b>break</b></font>;<br>
<br>
<font color="#FFFFFF">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;&nbsp;Wenn&nbsp;der&nbsp;Benutzer&nbsp;die&nbsp;Fenstergr&ouml;&szlig;e&nbsp;&auml;ndert,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;wird&nbsp;der&nbsp;Fensterinhalt&nbsp;neu&nbsp;gezeichnet.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#AA00FF"><b>case</b></font>&nbsp;NEWSIZE&nbsp;:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Neuzeichnen(Fenster);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#AA00FF"><b>break</b></font>;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<font color="#008822"><b>//&nbsp;Ende&nbsp;der&nbsp;switch-Verzweigung<br></b></font>

<!-- end of C code -->

</TD>
</TR>
</TABLE>
</center>
<BR>
<p>

Wenn der Benutzer die Fenstergr&ouml;&szlig;e ver&auml;ndert, wird unsere <a href="C-Kurs_1_10.html">Funktion</a>
<TT>Neuzeichnen</TT> aufgerufen. Als Parameter wird ein <a href="C-Kurs_4_2.html">Zeiger auf eine Struktur</a>
vom Typ <TT>Window</TT> &uuml;bergeben. Diese <a href="C-Kurs_3_3.html">Struktur</a> enth&auml;lt in ihren Komponenten
stets die aktuellen Parameter des Fensters, wie z.B. dessen H&ouml;he und Breite.

<p>
<center>
<TABLE border="0" cellpadding="5" cellspacing="0" bgcolor="#AAAAAA"><TR>
<TD>
<!-- begin of C code -->
<font color="#FFFFFF">
/*&nbsp;Zeichnet&nbsp;Fensterinhalt&nbsp;neu&nbsp;*/<br></font>
<font color="#AA00FF"><b>void</b></font>&nbsp;Neuzeichnen(<font color="#AA00FF"><b>struct</b></font>&nbsp;<font color="#45FF65">Window</font>&nbsp;*Win)<br>
{<br>
&nbsp;&nbsp;<font color="#AA00FF"><b>struct</b></font>&nbsp;<font color="#45FF65">RastPort</font>&nbsp;*rp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Zeiger&nbsp;auf&nbsp;RastPort-Struktur<br></b></font>
&nbsp;&nbsp;<font color="#AA00FF"><b>int</b></font>&nbsp;w,h;<br>
&nbsp;&nbsp;<font color="#AA00FF"><b>double</b></font>&nbsp;r;<br>
<br>
&nbsp;&nbsp;rp&nbsp;=&nbsp;Win->RPort;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;rp&nbsp;zeigt&nbsp;auf&nbsp;RastPort&nbsp;des&nbsp;Fensters<br></b></font>
&nbsp;&nbsp;w&nbsp;=&nbsp;Win->GZZWidth;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;aktuelle&nbsp;Fensterbreite<br></b></font>
&nbsp;&nbsp;h&nbsp;=&nbsp;Win->GZZHeight;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;aktuelle&nbsp;Fensterh&ouml;he<br></b></font>
<br>
<font color="#FFFFFF">
&nbsp;&nbsp;/*&nbsp;&nbsp;Wir&nbsp;berechnen&nbsp;den&nbsp;Radius&nbsp;des&nbsp;Polygons&nbsp;abh&auml;ngig&nbsp;von&nbsp;der<br>
&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;aktuellen&nbsp;Fenstergr&ouml;&szlig;e.&nbsp;Wir&nbsp;lassen&nbsp;dabei&nbsp;noch&nbsp;ein&nbsp;wenig<br>
&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;Abstand&nbsp;vom&nbsp;Fensterrand.<br>
&nbsp;&nbsp;&nbsp;*/<br></font>
&nbsp;&nbsp;r&nbsp;=&nbsp;(<font color="#AA00FF"><b>double</b></font>)MIN(w,h)/2.0-25.0;<br>
<br>
&nbsp;&nbsp;<font color="#FFFFAA">SetRast</font>(rp,&nbsp;1L);&nbsp;<font color="#008822"><b>//&nbsp;Fensterinhalt&nbsp;l&ouml;schen<br></b></font>
&nbsp;&nbsp;<font color="#FFFFAA">SetAPen</font>(rp,&nbsp;2L);&nbsp;<font color="#008822"><b>//&nbsp;Farbe&nbsp;setzen<br></b></font>
<br>
&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Zeichnet&nbsp;Polygon<br></b></font>
&nbsp;&nbsp;ZeichnePolygon(rp,5,r,w/2,h/2);&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;F&uuml;nfeck&nbsp;(Pentagon)<br></b></font>
<br>
}<br>

<!-- end of C code -->

</TD>
</TR>
</TABLE>
</center>
<BR>
<p>

Damit das Polygon in unser Fenster passt berechnen wir den Radius
des zu zeichnenden Polygons abh&auml;ngig von der aktuellen Fenstergr&ouml;&szlig;e.
Dazu ermitteln wir zun&auml;chst mittels unseres <a href="C-Kurs_2_2.html">Makros</a> <TT>MIN</TT>
das Minimum von Fensterh&ouml;he und Fensterbreite.
Wir teilen das Ergebnis durch zwei und ziehen dann noch 25 Pixel ab,
damit wir einen Abstand zum Fensterrand halten.
Die <a href="C-Kurs_1_10.html">Funktion</a> <TT>ZeichnePolygon</TT> aus unserer Include Datei Polygon.c
berechnet dann die Koordinaten der Eckpunkte des Polygons und zeichnet
es in das Fenster.

<p>
<center>
<TABLE border="0" cellpadding="5" cellspacing="0" bgcolor="#AAAAAA"><TR>
<TD>
<!-- begin of C code -->
<font color="#FFFFFF">
/*&nbsp;&nbsp;&nbsp;Listing&nbsp;8.4.3<br>
&nbsp;*&nbsp;&nbsp;&nbsp;Polygon_Demo_2.c<br>
&nbsp;*&nbsp;&nbsp;&nbsp;reagiert&nbsp;auf&nbsp;Gr&ouml;&szlig;en&auml;nderung&nbsp;des&nbsp;Fensters<br>
&nbsp;*/<br></font>
<br>
#include&nbsp;&lt;exec/types.h&gt;<br>
#include&nbsp;&lt;exec/exec.h&gt;<br>
#include&nbsp;&lt;intuition/intuition.h&gt;<br>
#include&nbsp;&lt;graphics/gfx.h&gt;<br>
#include&nbsp;&lt;dos/dos.h&gt;<br>
<br>
#include&nbsp;&lt;proto/intuition.h&gt;<br>
#include&nbsp;&lt;proto/graphics.h&gt;<br>
#include&nbsp;&lt;proto/dos.h&gt;<br>
#include&nbsp;&lt;proto/exec.h&gt;<br>
<br>
<font color="#008822"><b>//&nbsp;Eigene&nbsp;Includes<br></b></font>
#include&nbsp;<font color="#EEDD05">"Polar.h"</font><br>
#include&nbsp;<font color="#EEDD05">"Polar.c"</font><br>
<br>
#include&nbsp;<font color="#EEDD05">"Polygon.h"</font><br>
#include&nbsp;<font color="#EEDD05">"Polygon.c"</font><br>
<br>
<font color="#008822"><b>//&nbsp;Makro:&nbsp;Minimum<br></b></font>
#define&nbsp;MIN(a,b)&nbsp;((a&nbsp;&lt;&nbsp;b)&nbsp;?&nbsp;a&nbsp;:&nbsp;b)<br>
<br>
<font color="#AA00FF"><b>struct</b></font>&nbsp;<font color="#45FF65">Window</font>&nbsp;*Fenster;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Zeiger&nbsp;auf&nbsp;Window-Struktur<br></b></font>
<font color="#AA00FF"><b>struct</b></font>&nbsp;<font color="#45FF65">IntuitionBase</font>&nbsp;*<font color="#45FF65">IntuitionBase</font>;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Zeiger&nbsp;auf&nbsp;IntuitionBase-Struktur<br></b></font>
<font color="#AA00FF"><b>struct</b></font>&nbsp;<font color="#45FF65">GfxBase</font>&nbsp;*<font color="#45FF65">GfxBase</font>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Zeiger&nbsp;auf&nbsp;GfxBase-Struktur<br></b></font>
<br>
<font color="#008822"><b>//&nbsp;Funktionsprototypen<br></b></font>
<font color="#AA00FF"><b>void</b></font>&nbsp;Neuzeichnen(<font color="#AA00FF"><b>struct</b></font>&nbsp;<font color="#45FF65">Window</font>&nbsp;*Win);<br>
<br>
<font color="#AA00FF"><b>int</b></font>&nbsp;main(<font color="#AA00FF"><b>void</b></font>)<br>
{<br>
<font color="#FFFFFF">
&nbsp;&nbsp;/*&nbsp;Variablen&nbsp;zur&nbsp;Message-Bearbeitung&nbsp;*/<br></font>
&nbsp;&nbsp;<font color="#AA00FF"><b>struct</b></font>&nbsp;<font color="#45FF65">MsgPort</font>&nbsp;*Port;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Zeiger&nbsp;auf&nbsp;Message&nbsp;Port&nbsp;Struktur<br></b></font>
&nbsp;&nbsp;<font color="#AA00FF"><b>struct</b></font>&nbsp;<font color="#45FF65">IntuiMessage</font>&nbsp;*Nachricht;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Zeiger&nbsp;auf&nbsp;Intuition&nbsp;Message&nbsp;Struktur<br></b></font>
&nbsp;&nbsp;<font color="#45FF65">ULONG</font>&nbsp;&nbsp;klasse;<br>
&nbsp;&nbsp;USHORT&nbsp;code;<br>
<br>
&nbsp;&nbsp;<font color="#45FF65">BOOL</font>&nbsp;Weiter&nbsp;=&nbsp;TRUE;&nbsp;<font color="#008822"><b>//&nbsp;Boolsche&nbsp;Variable:&nbsp;Programmende?<br></b></font>
<br>
&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Intuition&nbsp;Library&nbsp;&ouml;ffnen<br></b></font>
&nbsp;&nbsp;<font color="#45FF65">IntuitionBase</font>&nbsp;=&nbsp;(<font color="#AA00FF"><b>struct</b></font>&nbsp;<font color="#45FF65">IntuitionBase</font>&nbsp;*)&nbsp;<font color="#FFFFAA">OpenLibrary</font>(<font color="#EEDD05">"intuition.library"</font>,36L);<br>
<br>
&nbsp;&nbsp;<font color="#AA00FF"><b>if</b></font>&nbsp;(<font color="#45FF65">IntuitionBase</font>&nbsp;!=&nbsp;NULL)<br>
&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Graphics&nbsp;Library&nbsp;&ouml;ffnen<br></b></font>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#45FF65">GfxBase</font>&nbsp;=&nbsp;(<font color="#AA00FF"><b>struct</b></font>&nbsp;<font color="#45FF65">GfxBase</font>&nbsp;*)&nbsp;<font color="#FFFFAA">OpenLibrary</font>(<font color="#EEDD05">"graphics.library"</font>,0L);<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#AA00FF"><b>if</b></font>&nbsp;(<font color="#45FF65">GfxBase</font>&nbsp;!=&nbsp;NULL)<br>
&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Fenster&nbsp;mittels&nbsp;Tags&nbsp;&ouml;ffnen<br></b></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fenster&nbsp;=&nbsp;<font color="#FFFFAA">OpenWindowTags</font>(NULL,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WA_Left,&nbsp;100,&nbsp;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Abstand&nbsp;vom&nbsp;linken&nbsp;Rand<br></b></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WA_Top,&nbsp;100,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Abstand&nbsp;vom&nbsp;oberen&nbsp;Rand<br></b></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WA_Width,&nbsp;400,&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Breite<br></b></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WA_Height,&nbsp;300,&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;H&ouml;he<br></b></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WA_Title,&nbsp;<font color="#EEDD05">"Polygon&nbsp;Demo&nbsp;2"</font>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Fenstertitel<br></b></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WA_CloseGadget,&nbsp;TRUE,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Close-Gadget<br></b></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WA_IDCMP,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;IDCMP&nbsp;Flags<br></b></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IDCMP_CLOSEWINDOW&nbsp;|&nbsp;IDCMP_NEWSIZE,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WA_ScreenTitle,&nbsp;<font color="#EEDD05">"Polygon&nbsp;Demo&nbsp;2"</font>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WA_DragBar,&nbsp;TRUE,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Ziehleiste<br></b></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WA_DepthGadget,&nbsp;TRUE,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Depth-Gadget<br></b></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WA_SizeGadget,&nbsp;TRUE,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Size-Gadget<br></b></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WA_GimmeZeroZero,&nbsp;TRUE,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Ursprung&nbsp;0/0<br></b></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WA_Activate,&nbsp;TRUE,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Fenster&nbsp;aktivieren<br></b></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WA_MinWidth,&nbsp;100,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;minimale&nbsp;Breite<br></b></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WA_MinHeight,&nbsp;100,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;minimale&nbsp;H&ouml;he<br></b></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TAG_DONE);<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#AA00FF"><b>if</b></font>&nbsp;(Fenster&nbsp;!=&nbsp;NULL)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>
<font color="#FFFFFF">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;Unser&nbsp;Port&nbsp;ist&nbsp;der&nbsp;UserPort&nbsp;unseres&nbsp;Fensters&nbsp;*/<br></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Port&nbsp;=&nbsp;Fenster->UserPort;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Neuzeichnen(Fenster);&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Grafik&nbsp;zeichnen<br></b></font>
<br>
<font color="#FFFFFF">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;&nbsp;Schleife&nbsp;l&auml;uft&nbsp;so&nbsp;lange,&nbsp;bis&nbsp;das&nbsp;Programm<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;durch&nbsp;anclicken&nbsp;des&nbsp;Close-Gadgets&nbsp;beedet&nbsp;wird.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#AA00FF"><b>while</b></font>&nbsp;(Weiter)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>
<font color="#FFFFFF">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;Auf&nbsp;ankommende&nbsp;Nachricht&nbsp;warten&nbsp;*/<br></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#FFFFAA">WaitPort</font>(Port);<br>
<br>
<font color="#FFFFFF">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;Schleife&nbsp;l&auml;uft&nbsp;bis&nbsp;alle&nbsp;Ereignisse<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;abgearbeitet&nbsp;sind.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#AA00FF"><b>while</b></font>(Nachricht&nbsp;=&nbsp;(<font color="#AA00FF"><b>struct</b></font>&nbsp;<font color="#45FF65">IntuiMessage</font>&nbsp;*)&nbsp;<font color="#FFFFAA">GetMsg</font>(Port))<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;klasse&nbsp;=&nbsp;Nachricht->Class;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;&nbsp;Nachricht->Code;<br>
<br>
<font color="#FFFFFF">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;Welches&nbsp;Ereignis&nbsp;ist&nbsp;eingetreten?&nbsp;*/<br></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#AA00FF"><b>switch</b></font>(klasse)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#AA00FF"><b>case</b></font>&nbsp;CLOSEWINDOW&nbsp;:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Weiter&nbsp;=&nbsp;FALSE;&nbsp;<font color="#008822"><b>//&nbsp;Programmende<br></b></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#AA00FF"><b>break</b></font>;<br>
<br>
<font color="#FFFFFF">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;&nbsp;Wenn&nbsp;der&nbsp;Benutzer&nbsp;die&nbsp;Fenstergr&ouml;&szlig;e&nbsp;&auml;ndert,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;wird&nbsp;der&nbsp;Fensterinhalt&nbsp;neu&nbsp;gezeichnet.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#AA00FF"><b>case</b></font>&nbsp;NEWSIZE&nbsp;:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Neuzeichnen(Fenster);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#AA00FF"><b>break</b></font>;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<font color="#008822"><b>//&nbsp;Ende&nbsp;der&nbsp;switch-Verzweigung<br></b></font>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#FFFFAA">ReplyMsg</font>((<font color="#AA00FF"><b>struct</b></font>&nbsp;<font color="#45FF65">Message</font>&nbsp;*)Nachricht);<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<font color="#008822"><b>//&nbsp;Ende&nbsp;der&nbsp;inneren&nbsp;while-Schleife<br></b></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<font color="#008822"><b>//&nbsp;Ende&nbsp;der&nbsp;&auml;u&szlig;eren&nbsp;while-Schleife<br></b></font>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#FFFFAA">CloseWindow</font>(Fenster);&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Fenster&nbsp;schlie&szlig;en<br></b></font>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<font color="#008822"><b>//&nbsp;end&nbsp;if<br></b></font>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<font color="#008822"><b>//&nbsp;end&nbsp;if<br></b></font>
&nbsp;&nbsp;}&nbsp;<font color="#008822"><b>//&nbsp;end&nbsp;if<br></b></font>
<br>
&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Intuition&nbsp;Library&nbsp;schlie&szlig;en<br></b></font>
&nbsp;&nbsp;<font color="#AA00FF"><b>if</b></font>&nbsp;(<font color="#45FF65">GfxBase</font>&nbsp;!=&nbsp;NULL)&nbsp;<font color="#FFFFAA">CloseLibrary</font>((<font color="#AA00FF"><b>struct</b></font>&nbsp;<font color="#45FF65">Library</font>&nbsp;*)<font color="#45FF65">GfxBase</font>);<br>
&nbsp;&nbsp;<font color="#AA00FF"><b>if</b></font>&nbsp;(<font color="#45FF65">IntuitionBase</font>&nbsp;!=&nbsp;NULL)&nbsp;<font color="#FFFFAA">CloseLibrary</font>((<font color="#AA00FF"><b>struct</b></font>&nbsp;<font color="#45FF65">Library</font>&nbsp;*)<font color="#45FF65">IntuitionBase</font>);<br>
<br>
&nbsp;&nbsp;<font color="#AA00FF"><b>return</b></font>&nbsp;0;<br>
}<br>
<br>
<font color="#FFFFFF">
/*&nbsp;Zeichnet&nbsp;Fensterinhalt&nbsp;neu&nbsp;*/<br></font>
<font color="#AA00FF"><b>void</b></font>&nbsp;Neuzeichnen(<font color="#AA00FF"><b>struct</b></font>&nbsp;<font color="#45FF65">Window</font>&nbsp;*Win)<br>
{<br>
&nbsp;&nbsp;<font color="#AA00FF"><b>struct</b></font>&nbsp;<font color="#45FF65">RastPort</font>&nbsp;*rp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Zeiger&nbsp;auf&nbsp;RastPort-Struktur<br></b></font>
&nbsp;&nbsp;<font color="#AA00FF"><b>int</b></font>&nbsp;w,h;<br>
&nbsp;&nbsp;<font color="#AA00FF"><b>double</b></font>&nbsp;r;<br>
<br>
&nbsp;&nbsp;rp&nbsp;=&nbsp;Win->RPort;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;rp&nbsp;zeigt&nbsp;auf&nbsp;RastPort&nbsp;des&nbsp;Fensters<br></b></font>
&nbsp;&nbsp;w&nbsp;=&nbsp;Win->GZZWidth;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;aktuelle&nbsp;Fensterbreite<br></b></font>
&nbsp;&nbsp;h&nbsp;=&nbsp;Win->GZZHeight;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;aktuelle&nbsp;Fensterh&ouml;he<br></b></font>
<br>
<font color="#FFFFFF">
&nbsp;&nbsp;/*&nbsp;&nbsp;Wir&nbsp;berechnen&nbsp;den&nbsp;Radius&nbsp;des&nbsp;Polygons&nbsp;abh&auml;ngig&nbsp;von&nbsp;der<br>
&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;aktuellen&nbsp;Fenstergr&ouml;&szlig;e.&nbsp;Wir&nbsp;lassen&nbsp;dabei&nbsp;noch&nbsp;ein&nbsp;wenig<br>
&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;Abstand&nbsp;vom&nbsp;Fensterrand.<br>
&nbsp;&nbsp;&nbsp;*/<br></font>
&nbsp;&nbsp;r&nbsp;=&nbsp;(<font color="#AA00FF"><b>double</b></font>)MIN(w,h)/2.0-25.0;<br>
<br>
&nbsp;&nbsp;<font color="#FFFFAA">SetRast</font>(rp,&nbsp;1L);&nbsp;<font color="#008822"><b>//&nbsp;Fensterinhalt&nbsp;l&ouml;schen<br></b></font>
&nbsp;&nbsp;<font color="#FFFFAA">SetAPen</font>(rp,&nbsp;2L);&nbsp;<font color="#008822"><b>//&nbsp;Farbe&nbsp;setzen<br></b></font>
<br>
&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Zeichnet&nbsp;Polygon<br></b></font>
&nbsp;&nbsp;ZeichnePolygon(rp,5,r,w/2,h/2);&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;F&uuml;nfeck&nbsp;(Pentagon)<br></b></font>
<br>
}<br>

<!-- end of C code -->

</TD>
</TR>
</TABLE>
</center>
<BR>
<p>

<p>

</font>
</center>
</TD>

</TABLE>

</body>
</html>
