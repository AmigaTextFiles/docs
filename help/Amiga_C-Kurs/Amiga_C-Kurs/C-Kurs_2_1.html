<html>
<head>
<title>Amiga C Kurs f&uuml;r Einsteiger</title>
<META NAME="description" CONTENT="Amiga C Kurs f&uuml;r Einsteiger">
<META NAME="keywords"    CONTENT="C, Amiga, Programmierung, Kurs, Einsteiger, StormC">
<META NAME="author"      CONTENT="Norman Walter">

<script language="JavaScript" src="JavaScript/C-Kurs_Kapitel.js" type="text/javascript">
</script>

</head>
<body bgcolor="black" link="#DDDDDD" vlink="#BBBBBB">
<center>
<TABLE>
<TD VALIGN="TOP" ALIGN="TOP" WIDTH="140">
<CENTER>
<A HREF="index.html" NAME="Home"><IMG SRC="Home.png" ALT="Home" BORDER="0"></A><BR>
<A HREF="download.html" NAME="Downloads"><IMG SRC="Download.png" ALT="Downloads" BORDER="0"></A><BR>
<A HREF="Links.html" NAME="Links"><IMG SRC="Links.png" ALT="Links" BORDER="0"></A><BR>
<a href="cgi-bin/GB_SHOW.cgi" method="POST"><img SRC="guestbook.png" BORDER=0 alt="Guestbook"></a>
<p>
<A HREF="http://www.norman-interactive.com/email_feedback.html">
<IMG SRC="@.png" Border="0" Alt="e-mail"><BR><small>e-mail</small></A><BR>
<p>

<img src="C-Kurs/C-Kurs_sm.png" alt="Amiga C Kurs f&uuml;r Einsteiger" vspace="20"><BR>

<NOSCRIPT>
<font color="red">
Diese Seite ben&ouml;tigt JavaScript.
Entweder Ihr Browser unterst&uuml;tzt kein JavaScript, oder Sie haben es deaktiviert.
</font>
</NOSCRIPT>

<SCRIPT LANGUAGE="JavaScript">
<!--

  erzeuge_Kapitel(2);

//-->
</SCRIPT>

<p>
</CENTER>
</TD>
<TD VALIGN="TOP" ALIGN="TOP" WIDTH="400" HEIGHT="600">
<center>
<p>
<BR>
<font color="white">

<img src="C-Kurs/C-Kurs.png" alt="Amiga C Kurs f&uul,r Einsteiger"><BR>
</center>
<p>
<font color="gray"><H2>Makros als symbolische Konstanten</H2></font><BR>
<p>
Im verlauf dieses Kurses werden wir noch oft mit Konstanten in Ber&uuml;hrung
kommen. Dies k&ouml;nnen z.B. Zahlenkonstanten oder Stringkonstanten sein.
Da wir faul sind, m&ouml;chten wir nicht jedes mal die Konstante ausschreiben,
wenn wir sie im Programmtext verwenden.
<p>
In Listing 2.1  definieren wir mit <TT>#define G 9.80665</TT> die
Gravitationskonstante der Erde. Bei diesem Beispiel mag der Sinn zwar
noch nicht einleuchten, aber stellen Sie sich einmal vor, Sie w&uuml;rden
z.B. aufwendige physikalische Berechnungen anstellen
(z.B. bei einem Fahrsimulator). Da w&auml;re es doch l&auml;stig, wenn Sie jedes
mal f&uuml;r die Gravitationskonstante <TT>9.80665</TT> schreiben m&uuml;&szlig;ten.
<p>
Jetzt werden Sie vielleicht sagen "dann benutze ich eben die Suchen und Erstetzen
Funktion meines Texteditors". Richtig! Genau das geschieht bei der &Uuml;bersetzung des
Programms. Vor der Compilierung wird der Quelltext durch den Pr&auml;prozessor bearbeitet.
Dieser entfernt Kommentare und ersetzt Makros.
<p>
In den kommenden Lektionen werden wir noch verschiedene sogenannter
"Pr&auml;prozessor-Direktiven" kennenlernen. Alle haben eines gemeinsam:
Sie beginnen mit dem Zeichen "#".
<p>
Eine dieser Pr&auml;prozessor-Direktiven haben wir schon in unserem allerersten
Beispiel "HelloWorld" gesehen: <TT>#include &lt;stdio.h&gt;</TT>.
Auch diese Pr&auml;prozessor-Direktive ersetzt Text. <TT>#include</TT>
wird vom Pr&auml;prozessor durch den Inhalt der angegebenen Datei ersetzt.
Mehr dazu werden wir im Abschnitt &uuml;ber Modularisierung lernen.
<p>
Mit <TT>#define</TT> werden Makros definiert. Der Syntax lautet:
<pre>
  #define <i>name</i>[<i>(Parameter-Liste)</i>] <i>Ersatztext</i>
</pre>
<BR>
Der Pr&auml;prozessor ersetzt &uuml;berall im nachfolgenden Programmtext
<i>name</i> bzw. <i>name(parameter-Liste)</i> durch <i>Ersatztext</i>.
<p>
Listing 2.1 zeigt, wie man die Pr&auml;prozessor-Direktive
<TT>#define</TT> f&uuml;r die Definition von (symbolischen) Konstanten verwendet.

<p>
<center>
<TABLE border="0" cellpadding="5" cellspacing="0" bgcolor="#AAAAAA"><TR>
<TD>
<!-- begin of C code -->
<font color="#FFFFFF">
/*&nbsp;&nbsp;Listing&nbsp;2.1<br>
&nbsp;*&nbsp;&nbsp;Makros&nbsp;als&nbsp;symbolische&nbsp;Konstanten<br>
&nbsp;*&nbsp;&nbsp;Beispiel:&nbsp;Berechnung&nbsp;der&nbsp;Gewichtskraft<br>
&nbsp;*/<br></font>
<br>
#include&nbsp;&lt;stdio.h&gt;<br>
<br>
<font color="#008822"><b>//&nbsp;Konstante:<br></b></font>
<font color="#008822"><b>//&nbsp;Gravitationskonstante&nbsp;der&nbsp;Erde&nbsp;in&nbsp;Meter&nbsp;pro&nbsp;Sekunde&nbsp;im&nbsp;Quadrat<br></b></font>
#define&nbsp;G&nbsp;9.80665<br>
<br>
<font color="#AA00FF"><b>int</b></font>&nbsp;main(<font color="#AA00FF"><b>void</b></font>)<br>
{<br>
&nbsp;&nbsp;<font color="#AA00FF"><b>float</b></font>&nbsp;Gewicht,Gewichtskraft;<br>
<br>
&nbsp;&nbsp;<font color="#852608"><b>printf</b></font>(<font color="#EEDD05">"Bitte&nbsp;geben&nbsp;Sie&nbsp;Ihr&nbsp;Gewicht&nbsp;in&nbsp;kg&nbsp;ein:&nbsp;"</font>);<br>
&nbsp;&nbsp;<font color="#852608"><b>scanf</b></font>(<font color="#EEDD05">"%f"</font>,&Gewicht);<br>
<br>
&nbsp;&nbsp;Gewichtskraft&nbsp;=&nbsp;Gewicht&nbsp;*&nbsp;G;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Gewichtskraft&nbsp;in&nbsp;Newton<br></b></font>
<br>
&nbsp;&nbsp;<font color="#852608"><b>printf</b></font>(<font color="#EEDD05">"Bei&nbsp;einem&nbsp;Gewicht&nbsp;von&nbsp;%.2fkg&nbsp;wirkt&nbsp;eine&nbsp;"</font>,Gewicht);<br>
&nbsp;&nbsp;<font color="#852608"><b>printf</b></font>(<font color="#EEDD05">"Gewichtskraft&nbsp;von&nbsp;%.2fN&nbsp;auf&nbsp;Sie.\n"</font>,Gewichtskraft);<br>
<br>
&nbsp;&nbsp;<font color="#AA00FF"><b>return</b></font>&nbsp;0;<br>
}<br>

<!-- end of C code -->

</TD>
</TR>
</TABLE>
</center>
<BR>
<p>

Mit <TT>#define G 9.80665</TT> definieren wir hier die
Gravitationskonstante der Erde. Beachten Sie bitte, da&szlig; wir
hier keinen Datentyp angeben.
<p>
Der Pr&auml;prozessor ersetzt dann jedes vorkommen des Namens "G"
durch den Text "9.80665".
<p>
Aus der Zeile
<pre>
  Gewichtskraft = Gewicht * G;  // Gewichtskraft in Newton
</pre>
<BR>
wird nach der Bearbeitung durch den Pr&auml;prozessor die Zeile
<pre>
  Gewichtskraft = Gewicht * 9.80665;
</pre>
<BR>
Diesen Vorgang bekommen Sie aber nicht mit. Der Pr&auml;prozessor
arbeitet beim Compilierungsvorgang im Verborgenen.
<p>
Sie k&ouml;nnen auch String-Konstanten definieren:

<p>
<center>
<TABLE border="0" cellpadding="5" cellspacing="0" bgcolor="#AAAAAA"><TR>
<TD>
<!-- begin of C code -->
#define&nbsp;MEIN_STRING&nbsp;<font color="#EEDD05">"Ich&nbsp;bin&nbsp;ein&nbsp;String"</font><br>

<!-- end of C code -->

</TD>
</TR>
</TABLE>
</center>
<BR>
<p>

Falsch w&auml;re hier z.B.:

<p>
<center>
<TABLE border="0" cellpadding="5" cellspacing="0" bgcolor="#AAAAAA"><TR>
<TD>
<!-- begin of C code -->
#define&nbsp;MEIN_STRING&nbsp;<font color="#EEDD05">"Ich&nbsp;bin&nbsp;ein&nbsp;String"</font>;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Falsch!<br></b></font>
#define&nbsp;MEIN_STRING&nbsp;=&nbsp;<font color="#EEDD05">"Ich&nbsp;bin&nbsp;ein&nbsp;String"</font>&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Falsch!<br></b></font>
#define&nbsp;MEIN_STRING&nbsp;<font color="#EEDD05">'Ich&nbsp;bin&nbsp;ein&nbsp;String'</font>&nbsp;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Falsch!<br></b></font>
#define&nbsp;MEIN_STRING&nbsp;&nbsp;Ich&nbsp;bin&nbsp;ein&nbsp;String&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#008822"><b>//&nbsp;Falsch!<br></b></font>

<!-- end of C code -->

</TD>
</TR>
</TABLE>
</center>
<BR>
<p>

Beachten Sie bitte auch, da&szlig; Pr&auml;prozessor-Direktiven nicht wie andere
Anweisungen mit einem Semikolon abgeschlossen werden!
<p>
H&auml;ufig werden (symbolische) Konstanten auch in Header-Dateien definiert.
Laden Sie einmal die Datei <TT>math.h</TT> in einen Textanzeiger (z.B. Multiview).
Die Datei <TT>math.h</TT> finden Sie bei StormC im Verzeichnis "STORMC:Include".
Dort werden Sie die Zeile

<p>
<center>
<TABLE border="0" cellpadding="5" cellspacing="0" bgcolor="#AAAAAA"><TR>
<TD>
<!-- begin of C code -->
#define&nbsp;PI&nbsp;3.14159265358979323846<br>

<!-- end of C code -->

</TD>
</TR>
</TABLE>
</center>
<BR>
<p>

entdecken. Hier wird die Zahl PI als Konstante definiert.
Hinweis: Bitte editieren Sie nicht die bei Ihrem Compiler
mitgelieferten Header-Dateien!
<p>
</font>
</center>
</TD>
</TABLE>

</body>
</html>
