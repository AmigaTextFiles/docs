@DATABASE "ADB28"
@INDEX "ADB:Misc/Index.Text/Main"
@HELP "ADB:Misc/Help/Main"
@NODE "Main" "AmigaDOS For Beginners - Part 28 - The SKIP and LAB Commands"

@{B}@{U}@{JCENTER}AMIGADOS FOR BEGINNERS

BY FRANK BUNTON

@{" COPYRIGHT © FRANK P. BUNTON 1993-1998 " LINK "ADB:Misc/Read_Me_First!!/Copyright"}

PART 28 - THE "SKIP" AND "LAB" COMMANDS@{UB}@{UU}
@{JLEFT}
@{B}Location@{UB}     - v1.x - "c" directory
             - v2+  - Internal

@{B}Purpose@{UB}      - To allow the script to SKIP over parts of the script to
               another part starting with a LABel.

@{B}Availability@{UB} - All AmigaDOS Versions

Sometimes you may wish to skip over some of the coding in a script file.
This is normally done in association with an IF command.

The "SKIP" command can do this for you. You can get the script to skip
forwards or backwards to a "label" so let's first see how to set up a
label. It is done simply by having:-

  LAB label_name

For example, the label definition:-

  LAB Finish

could be used to label the section that finishes up the script file. There
are examples in the script @{"Example-28.1" LINK "Main"50} below.

The SKIP command can be used in one of these ways:-

  SKIP label_name           All AmigaDOS versions

or:-

  SKIP label_name BACK      AmigaDOS v1.3 onwards

To demonstrate, let's make another modification to the script files we
have been using in the last few articles and call it "Example-28.1". This
time I will put in line numbers to help explain the changes. (If you are
typing this in instead of using it from this disk then there is no need
for you to type them in the line numbers.):-

(@{B}V1.2 and earlier users@{UB} should note that this script will not work as
SKIP BACK is not available.)

  ; Example-28.1

  LAB Start                                             ; 1
  ASK "Put disk to test in df0: then press RETURN"      ; 2
  IF EXISTS df0:s/startup-sequence file                 ; 3
    ECHO "Disk has a startup-file"                      ; 4
    ASK "Shall I type the file? (Y/N)"                  ; 5
    IF NOT WARN                                         ; 6
      SKIP Finish                                       ; 7
    ELSE                                                ; 8
      TYPE df0:s/startup-sequence                       ; 9
    ENDIF                                               ;10
  ELSE                                                  ;11
    ECHO "Disk has NO startup-sequence"                 ;12
  ENDIF                                                 ;13
  LAB Finish                                            ;14
  ASK "Test another disk? (Y/N)"                        ;15
  IF WARN                                               ;16
    SKIP Start BACK                                     ;17
  ENDIF                                                 ;18


Line 1 - Sets up a label to which we can SKIP BACK from Line 17.

Line 2 - ASKs for a disk to be inserted thus creating a program pause.

Line 6 & 7 - The WARN used in previous version @{"(Example-27.1)" LINK "ADB:Parts_21-30/27.Ask/Main"57} has become
NOT WARN so that I can demonstrate the use of SKIP (forward) if the file
is not to be "typed". If "No" is entered, the warn flag is NOT set so
Line 7 skips forward to label "Finish".

Line 14 - sets up the "Finish" label.

Lines 15 to 18 ASKs if another disk is to be tested. If so, it SKIPs BACK
to label "Start".


@{JCENTER}=== End of Text ===
@{JLEFT}
@ENDNODE

