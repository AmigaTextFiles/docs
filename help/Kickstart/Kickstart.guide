@DATABASE Kickstart
@TOC MAIN
@Author "Peter Hutchison"
@$VER: 1.0

@NODE MAIN "Contents"

               @{u}Guide to the Amiga Kickstart@{uu}


           @{"1. What is a Kickstart ROM?" link WHATKICK}

           @{"2. What Kickstarts are there?" link KICKVERS}

           @{"3. What is in the Kickstart ROM?" link INSIDES}

           @{"4. Installing a new Kickstart?" link INSTALL}

           @{"5. The Early Startup Screen." link EARLY}

           @{"6. Questions about Kickstart Roms." link QUES}

           @{"7. Tools and Utilities for Kickstart" link TOOLS}


@ENDNODE
@NODE WHATKICK 

@{u}What is a Kickstart rom?@{uu}

The Amiga Kickstart Rom (Read Only Memory) chip is part of the 
AmigaOS operating system. It is the equivalent of the BIOS 
(Basic Input/Output System) chip in the PC. It contains start up 
code which checks the hardware and then loads the operating system 
from a either a bootable floppy disk, a hard disk or CDROM (if its
a CDTV or CD32 machine).

If you do not have a bootable disk ready then an Insert Disk screen
is shown asking you to insert a disk using an animation of a hand with 
a disk. This screen will also tell you which version of kickstart you 
have by its version or revision number.

The Kickstart ROM contains essential device drivers and libraries
needed for AmigaOS. It will need the drivers for the floppy drive 
(trackdisk.device) or hard disk (scsi.device) and maybe the cd rom 
(cd.device) and also the OldFileSystem and FastFileSystem to be able to 
read the data from the devices as well. To load and use AmigaOS it needs 
essential libraries such as exec.library to allow you to access any 
AmigaOS functions, the intuition.library and graphics.library to allow
Workbench interface to be loaded and other resources and libraries for 
the Amiga to function. All remaining AmigaOS files will be loaded from 
Workbench files on disk which need to be provided by the user or from 
any bootable disk such as game disks.

The Amiga A1000 and A3000 were slightly different as the Kickstart was 
loaded from disk instead of from ROM. The A1000 had its Kickstart on a 
floppy disk which had to be inserted before a Workbench disk or other 
boot disk. The early A3000s had its kickstart on disk or hard disk which 
had to be loaded before loading AmigaOS.

@ENDNODE
@NODE KICKVERS

@{u}What Kickstarts are there?@{uu}

The Amiga comes with different versions of Kickstart depending on the 
Model of the Amiga and which processor it has. The latest kickstart is 
version 3.1 (revision 40) which is required for Workbench 3.1, 3.5 or 
3.9 or later. There are different versions for different models of the Amiga.


   Kickstart     Kickstart      Amiga      Processor
   Version       Revision       Models

   1.0           30             A1000           68000
   1.1 (NTSC)    31             A1000           68000
   1.1 (PAL)     32             A1000           68000
   1.2           33             A500,A2000      68000
   1.3           34             A500,A2000      68000
   1.3 (A2024)   35             A2000           68000
   2.0           36             A3000           68030
   2.04          37             A500+,A600,Any  68000
   3.0           39             A1200,A4000     68020/030/040
   3.1           40             A1200,A4000,Any 680x0

The 2.04 and 3.1 versions are general releases and most Amiga models 
can be upgraded from an early revision to a new revision with these 
versions.

You can found out which version or revision of Kickstart you have in 
four places:

1. The initial Insert Disk screen. The revision or version will be 
displayed somewhere here.

2. When AmigaOS is first loaded and will display the release number on 
first few lines:
e.g. 
@{b}
All Rights Reserved
Release 1.1
Workbench disk. Release 1.1@{ub}

3. Use the @{b}Version@{ub} command on a CLI or Shell window.

4. Select @{b}About@{ub} from the @{b}Workbench@{ub} menu on Workbench 
screen.

@ENDNODE
@NODE INSIDES

@{u}What is in the Kickstart Rom?@{uu}
     
The Kickstart ROM contains many programs and files.needed for the 
Amiga to boot up and load up the operating system. Further and 
detailed information is available from the V40_Release_Notes supplied 
with the Amiga Developer CD V2.1 in the 3.1 NDK (Native Developer Kit).

For example, the A1200 3.1 Kickstart ROM contains:


 Device or Library   Version     Purpose

 exec.library            40.10   AmigaOS Kernel support for OS and Applications
 expansion.library       40.2    Configuration and initialisation of peripherals
 mathieeesingbas.library 40.4    Math IEEE Single precision base library
 graphics.library        40.24   AGA Graphics subsystem library
 dos.library             40.3    Disk operation library
 Filesysem (fs)          40.1    OFS/FFS file systems
 console.device          40.2    CLI or Shell device handlers
 layers.library          40.1    Manages window layers for intuition
 a300                    40.8    a300 (A1200) handler
 con-handler             40.2    Console handler
 bootmenu                40.5    Early Startup Screen program
 audio.device            37.10   Sound device (Paula)
 cardres                 40.3    PCMCIA resource device
 utility.library         40.1    Special utility functions library
 battclock.resource      39.3    Battery Clock resource
 carddisk.device         40.1    PCMCIA Ram card device
 disk.resource           37.1    Disk resource
 mathffp.library         40.1    Math Fast Floating Point libray
 cia.resource            39.1    Complex Interface Adapter resource
 wbtag                   39.1    Workbench tag
 potgo.resource          37.4    Gameport Proportional I/O resource
 misc.resource           37.1    Serial and parallel port resources
 filesys.resource        40.1    Pointer to available filesystems
 ramlib                  40.2    Ramlib device
 ramdrive.device         39.35   RAM disk (RAM:) driver
 strap                   40.1    Boot strap?
 timer.device            39.4    Internal clock driver
 keymap.library          40.4    Localised keyboard mapping library
 rawinput                40.1    Raw input resource
 trackdisk.device        40.1    Floppy disk device driver
 icon.library            40.1    Workbench's icon library
 ram                     39.4    Ram Handler
 shell                   40.2    Command shell handler
 intuition.library       40.85   Workbench graphical interface library
 gadtools.library        40.4    Workbench's new gadget library
 wb                      40.5    Workbench library
 battmem.resource        39.2    Battery memory resource


The content and location of devices and libraries are never the 
same between chips or platforms, the only constant is the Exec.library 
base address (SysBase) which is located at $0000 0004 where the exec 
library structure is stored. Programs should always use provided system 
calls to access library calls and data as the Amiga has a dynamic memory 
map which can change from version to version!

 You can use the @{b}Version@{ub} command to see what version of library, 
device or resource you have installed e.g.

@{b}
1> version intuition.library full
intuition.library 40.85 (05/05/1993)
@{ub}

@ENDNODE

@NODE INSTALL

@{u}Installing a New Kickstart@{uu}

The Kickstart ROM can consist of one or more chips from 256K to 512K
in total and will need to be installed in sockets placed on the motherboard 
of the Amiga. The following instructions explain how to install the latest 
3.1 ROMs:

Visit this site on information to add ROM to A1000: 
http://www.tnet.com.au/~gerryvdb/hardhax/romhack.html


@{u}@{b}A500@{ub}@{uu}


1. Place the A500 unit upside down on a flat surface. 
2. Use a #10 Torx driver to remove the six (6) case screws.
3. Turn the unit right side up.  Remove the top cover by grasping at  the rear 
corners and lifting up. 
4. Note the orientation of the keyboard wires, then remove the keyboard assembly 
by grasping the keyboard cable harness and gently pulling  straight up. If there 
is a ground strap attached to the keyboard, detach it.  Set the keyboard 
assembly aside.
5. Use needlenose pliers or a similar tool to straighten the four tabs which 
secure the top shield.  Remove two (2) screws at the front of the PCB and two (2) 
on the left side of the PCB.  Now remove top shield by lifting straight up.  
Set the shield aside. 
6. The main printed circuit board is now in full view, except for the portion 
covered by the floppy disk drive.  The operating system ROM IC is located at 
position U6, just to the right of the 68000 CPU chip.  
The old ROM chip should be marked 315093-01, -02 or, if your system is already 
upgraded, V2.04 (37.175). 
7. Note the orientation of the old operating system ROM, then remove it from the 
socket.   
8. IMPORTANT: There are several different versions of the A500 PCB: Rev 3, Rev 5, 
Rev 6A and Rev 7 
(The revision number is printed  on the top of the main board in the front right 
corner).  Installation differs depending on the PCB revision: 
1> For Rev 3 and Rev 5 boards, the ROM socket must have pin 1 connected to pin 31 
and the ROM IC must have connected pin  21 to bent-up pin 31.
2> For Rev 6A and above, the ROM must not have any connection.
9. Align the 3.1 ROM with socket U6, and press firmly into place.  Be cautious 
not to bend pins.  
ROM installation is now complete.  It  is advisable to re-assemble the keyboard 
and test the system prior to  fully re-assembling the shield and top case. 

@{b}@{u}A600@{uu}@{ub}

1. Place the A600 unit upside down on a flat surface.
2. Use a torx driver to remove the case screws.
3. Lift up the right side of the unit and remove the cover by grasping the rear 
corners and lifting it up.
4. Note the orientation of the keyboard wires before removing the keyboard 
assembly. Pull the keyboard out of the case. If there is still a grounding cable 
connected you have to detach it.
5. Bend the flaps fixing the covering open.  Remove the two screws in the front 
and at the left of the main pcb.  Take the covering off and put it aside.
6. The main PCB is now in full view.  The operating system ROM IC is located at 
position U6, just right to the 68000 processor.  The old ROM should be marked V2.05.
7. Note the orientation of the old operating system ROM and remove it from the socket.
8. Align the 3.1 ROM with socket U6 as noted and press it firmly into place.  WARNING: 
Be cautious not to bend pins.
9. ROM installation is now completed.  Prior to full reassembly it is advisable 
to connect the keyboard and test the system.

@{b}@{u}A1200@{uu}@{ub}

1. Place the A1200 unit upside down on a flat surface.
2. Use a screwdriver to remove the five case screws.
3. Turn the unit to normal, facefront position.  Do carefully flip backwards the 
top cover and then the keyboard assembly.
IMPORTANT: Take care not to damage the cables to the top cover or the ribbon 
cables to the keyboard assembly.
4. The main printed circuit board - protected by a shield - is now in full view.  
The operating system ROM ICs are labeled and located at position U6A (under) 
and U6B (upper), just at the blank of the shield.  The old ROM chips should be 
marked: @1992 V3.0 39.106
5. Note the orientation of the old operating system ROMs, then remove them 
from the socket.
IMPORTANT: You should be aware of the fact that there are spare pins at the 
sockets.  You have to align the ROM ICs to the right side of the sockets so 
that there are spare pins at the left of the ROM ICs.
6. Align the 3.1 ROMs with socket U6A and U6B, and press firmly into place.  
Be cautious not to bend pins. 
7. Installation is now complete.

@{b}@{u}A2000@{uu}@{ub}

1. Remove the top cover.  One screw on the back and two on each side secure 
the top cover to the Main Assembly.  With the computer facing you, grasp the 
sides of the top case and carefully slide it towards you and up.
2. Remove the seven screws that secure the power supply and drive assembly to 
the base.  Next, remove cables from the power supply and carefully lift it 
out of the way.  

IMPORTANT: If the system includes an A2620 or A2630 Accelerator Board, an 
upgrade of the board's ROM chips may be required.

3. For A2620, the ROM chips at position U4 and U5 must be revision -06 or 
higher.  For A2630, the ROM chips at position U102 and U103 must be revision 
-06 or higher.  You can check the revision without opening the case; at the 
processor selection screen press SHIFT-M to enter the A26x0 monitor.  From the 
monitor use the "version" command. The ROM chips are ok if a date of 01/15/91 
or later is displayed. If the ROM chips are old, then remove the accelerator 
board from the Amiga Coprocessor slot. For A2620, locate and remove the chips 
at positions U4 and U5.  Location U4 is updated with the Low ROM, P/N# 
390282-06 or 390282-07, location U5 is updated with the High ROM, P/N# 390283-06 
or 390283-07.  For A2630, locate and remove the chips at positions U102 and U103.  
Location U102 is updated with the Low ROM, P/N# 390282-06 or 390282-07, location 
U103 is updated with the High ROM, P/N# 390283-06 or 390283-07.  Align the ROM 
IC's with the sockets and press firmly into place. Re-insert the 
board and test the system before proceeding with the Kickstart ROM installation. 

4. Locate the operating system ROM (see below).  The old ROM should be marked 
315093-01, -02 or, if you have already upgraded your system, V2.04 (37.175).  
Note the orientation of the old operating system ROM, then remove it from the 
socket. Do not discard this IC.   
IMPORTANT NOTE: There are different versions of the PCB. The Installation 
differs depending on the PCB revision.

1> Older machines are marked on the left side with the "(c) 1986 COMMODORE", 
"AMIGA 2000" and "MADE IN GERMANY (BSW)". The Operating System ROM, U2, is 
located just to the right of the 68000.  Pin 1 faces forward.  For these boards, 
the ROM IC must have pin 1 connected to pin 31.  

2> Newer A2000 motherboards are marked "B2000-CR" in the lower-left corner.  The 
Operating System ROM, U500, is located just to the right of the 68000 and below 
Fat Agnus. Pin 1 faces rear.  For Rev 4 and above, the ROM IC must not have 
any connection.  For Rev 3 boards, the ROM socket must have pin 1 connected to 
pin 31 and the ROM IC must have pin 21 connected to bent-up pin 31.

5. Align the 3.1 ROM with the socket and press firmly into place. Be cautious not 
to bend pins. 
6. Installation is now complete.  It is advisable to test the system after 
reassembling the sub-chassis and drives, but before replacing the top case. 

@{b}@{u}A3000@{uu}@{ub}

1. Remove the five screws that secure the top cover of your system. CAUTION: 
If your system is an A3000T, just remove the left side panel with the 
installation instructions at Installation of the ROMs.
2. With the computer facing you, grasp the sides of the top case and carefully 
slide it towards you and up.
Removing the sub-chassis: (see Introducing the C= Commodore Amiga A3000)
1. Remove the S-shape clamp in the middle of the expansion-daughterboard.
2. Lift up the expansion-daughterboard.
3. Remove the insulation.
4. Remove the S-shape clamps on the left and on the right of the expansion-
daughterboard.
5. Remove the screws which secure the drive and power supply sub-chassis.
6. Carefully lift the sub-chassis.CAUTION: Note the orientation, especially 
of pin 1, of the cables before removing them.
7. Remove the ribbon cables from the motherboard.
8. Remove the power supply cable from the motherboard.  (Note that the plug 
is secured by a clamp.)

Installation of the ROM chips:

1. Locate the ROMs in the rear right of the motherboard, just left of the 
mouse ports. 
CAUTION: If your system is an A3000T, locate the ROMs between the drive 
bracket and the power supply, in front of the drive connectors. On some A3000s 
you can find the ROMs on an adaptor board with ROMs installed upside down.  
Handle the ROMs as described below, the socket numbering is the same.
2. One of the ROM sockets is marked as U181 and contains the ROM 0. One of the 
ROM sockets is marked as U180 and contains the ROM 1. Note the marking and 
orientation of the installed ROMs, then remove them from the socket.
3. Align the ROMs with the sockets in their correct marking and position. 
Press firmly into place.  WARNING: Be cautious not to bend pins.
4. The installation is now complete.

Reassembling: (see Introducing the C= Commodore Amiga A3000(T))

1. Reassemble the system in reverse order. CAUTION: It is advisable to test the 
system after reassembling the sub-chassis, but before replacing the top case.

@{b}@{u}A4000@{uu}@{ub}

Removing the Cover: (see The C= Amiga A4000 User's Guide) 
1. Use a Phillips-head screwdriver to remove the two screws at the upper corners 
of the rear of the main unit.
2. Grasp the cover on both sides and slide it backwards and up.
Removing the front bay: (see The C= Amiga A4000 User's Guide)
1. Disconnect the keylock and the LED assembly wiring from the motherboard.
2. Remove the front faceplate. The faceplate has several plastic tabs that hold 
it to the metal chassis.  Squeezing the tabs and pushing them through the chassis 
holes will release the faceplate. You may need a small pair of pliers to do this.
3. Disconnect the power and ribbon cables from the existing drive(s) in the front 
area. 
CAUTION: Note the orientation of the connectors before you remove them so that 
you can replace them properly when you are done.

Removing the Processor Module: (see The C= Amiga A4000 User's Guide)

1. The A4000 CPU slot is located on the right side of the motherboard. The 
processor module occupies this slot, mounted horizontally parallel with 
the motherboard. 
2. Hook your fingers under the module at either end of the slot and lift.
CAUTION: Do no lift elsewhere on the processor module, or you may crack the 
module or it connector.

Installation of the ROM chips: 

1. Locate the ROMs in the front left of the motherboard, just left of the CPU 
slot, between RAMSEY and the oscillator.
2. The left ROM-socket is marked as U176, the right ROM-socket is marked as 
U175.  Note the marking and orientation of the installed ROMs, then remove them 
from the socket.
3. Align the ROMs with the sockets in their correct marking and position.  Press 
firmly into place. WARNING: Be cautious not to bend pins.
4. The installation is now complete.

Reassembling: (see The C= Amiga A4000 User's Guide)

1. Reassemble the system in reverse order.
CAUTION: It is advisable to test the system after assembling the sub-chassis, 
but before replacing the top case.

@ENDNODE
@NODE EARLY

@{u}The Early Startup Screen@{uu}

From Kickstart 2 onwards the Amiga was introduced the Early Startup Screen which 
can be accessed by pressing both the left and right mouse buttons together as 
soon as the Amiga is switch on. The screen give extra options such as which drive 
to boot from and set up CPU and graphics options before AmigaOS is loaded.

@{"A3000 boot menu" link "kickmenu.gif"}
Fig 1. A3000 Boot Menu

Here you are able to select which version of Kickstart to load and whether to load 
it from floppy disk or hard disk.

@{"Kickstart 2 boot menu" link "bootmenu20.gif"}
Fig 2. Kickstart 2 boot menu

Here you are able to select which drive to boot AmigaOS from whether its from 
floppy disk (DF0) or from a Hard disk partition (WB_2.x). Further Advanced 
Options are available.


@{"Kickstart 3 boot menu" link "bootmenu30.gif"}
Fig 3. Kickstart 3 boot menu

Here you can select which disk to boot from in Boot Options as before and be able 
to turn off CPU Caches (not present in early Amiga models). In Display Options 
you can select which chipset to use (for backward compatibility) such as Original 
(OCS), Enhanced (ECS) or Advanced (AGA). If you have Expansion cards added via 
the trapdoor, you can check if its  working ok with the Expansion Board Diagnostic 
screen. You can also select Boot with startup-sequence run or Boot with no Startup-
Sequence in case you have problems loading AmigaOS from disk, in which case it
will just load the Shell console to enter AmigaDOS commands to fix the problem.


@ENDNODE
@NODE QUES

@{u}Questions about Kickstart Roms@{uu}

@{b}1. Can I boot from CDROM?@{ub}

No, only the CDTV and CD32 consoles can boot from CDROM as the CD drivers are on 
the Kickstart ROM. On desktop Amigas, you have to load the CD drivers from disk 
first.
You could create a bootable floppy disk with the drivers installed and then 
transfer control to the CD disk to boot from it.

@{b}2. Can I use more than one Kickstart?@{ub}

Yes, you can you can either use a Kick Switcher device which will allow you to 
install two sets of Kickstart ROMs and then select which kickstart to use via 
a switch or keyboard combination. You can also sometimes use a SoftKicker which 
will allow you to load an earlier or later Kickstart from disk and use that to 
boot from.

@{B}3. Can I save my Kickstart to disk?@{UB}

Yes, you can save Kickstart to disk using any of the Kickstart grabbers utilties 
available on Aminet. This is useful if you wish to use the file for SoftKicking 
or for an Emulator such as WinUAE or Fellow. Typical utilties are TransRom, 
GrabKick, KickCopyPPC and Kick2File.

@{B}4. Can I copy the Kickstart to Fast RAM for more speed?@{UB}

Yes, you can use a feature of later 680x0 processors to copy Kickstart from slow 
ROM memory into faster 32 bit Fast RAM for quicker access. Typical utilities 
include CPU (with FastROM switch),CPU060, BlitzKick, ReKickReset, zkick, 
CyberMap and softboot.

@{B}5. Which version of Kickstart can I install?@{UB}

The version of Kickstart must match the version of Workbench you are using and 
the model of Amiga. Early Amiga cans use between 1.2 and 3.1 Kickstarts, The A1200 
or A4000 can only use Kickstart 3.0 or 3.1 for example. Kickstart 2.04 and 3.1 
are available to upgrade Amigas to newer Kickstarts. At present Kickstart 3.1 
is widely available for most models of Amiga with specific versions for Amiga models. 
See dealer for which package to get. A special ROM for the CDTV is available from 
http://www.cdtv.org.uk


@{B}6. Can I fit a real Kickstart ROM in an A1000 or A3000?@{UB}

Yes, if ROM sockets are available on the motherboard. This is advisable as 
your Kickstart disk can become corrupt and unusable over time (they are not 
easily copied either).

@{B}7. My Amiga will not boot, instead I get a coloured screen?@{UB}

Part of the Kickstart's job is to do a quick hardware check before starting 
AmigaOS. If it finds a problem, it displays a colour on the screen or flashes 
the Caps Lock LED a few times:

@{u}Colours@{uu}

Red		Kickstart ROM broken
Blue		Custom chip broken
Yellow  	Combined of resons for blue, red and/or green
LIGHT GREEN  	CIA (U7/U300) broken
Green		RAM Memory error
Light Green 	CIA (U7/U300) broken
Black		CIA (U7/U300) broken if not booting
Dark Grey	Hardware OK
Light Grey	Software OK


@{B}8. Which Kickstart do I have?@{UB}

You can either tell by the Insert Disk screen and read the revision or version 
number from the screen or select About from the Workbench menu or type @{i}Version@{ui}
on a Shell command prompt.

@ENDNODE
@NODE TOOLS

@{u}Kickstart Tools@{uu}

As always there is a selection of Tools and Utilities you can use for
your Kickstart chip which are available from http://de.aminet.net
(Aminet).

@{U}Kickstart Hacks@{UU}

hard/hack/Kick1000.lha - Fit an A1000 with 2.0 EPROM or ROM
hard/hack/Kick31onA600.txt - Using a kickstart 3.1 on a A600
text/docs/KickWOM.lha - 512K Kickstar-Expansion for A1000
hard/hack/kickswitch.lha - Automatic kickstart switch
util/boot/kickstop.lha - Remove kickstart from A1000's ROM
util/cli/wk102.lha - Find out what kickstart version
hard/hack/TMKBP.lha - Build a KS Rom switcher

@{U}Copying Kickstart to a File@{UU}

hard/hack/kick2file.lha - Writes ROM data to a file
hard/hack/romswitcher31.lzh - Build a KS ROM switcher for A500/A2000
util/misc/getkick20_usr.lha - Save kickstart 2.0 to a file
util/misc/getkick30_usr.lha - Save kickstart 3.0 to a file
util/misc/GrabKick.lha - Copy Kickstart ROM to a file
util/sys/KickCopyPPC.lha - Copies Kickstart to file using PPC
util/boot/RipKickRom.lha - Kickstart ROM ripper
util/boot/ShkROM2File.lha - Create a rom-kick file

@{U}Creating Kickstart Disks@{UU}

util/misc/WriteKickDisk.lha - Create kickstart disk for A1000
util/misc/MakeSuperDisk.lha - Create a SuperKickstart disk for A3000

@{U}Software Kickstarting@{uu}

util/batch/BlizKick14.lha - MapROM tool for Blizzard turbo
util/boot/BlizKick.lha - MapROM tool for Blizzard turbo
util/boot/BlizMagic.lha - V33 Softkicker for Blizzard
util/boot/CpuControl.lha - Rekick any 2.04 kickstart
util/boot/CyberMap.lha - Kickstart mapper for Phase 5 boards
util/boot/kick.lha - File kickstart loader for Blizzard
util/boot/KickControl.lha - GUI for soft kickers like BlizKick
util/boot/Mkick19.lha - MJSoft's kicker
util/boot/ReKickReset.lha - Reset directly into ROM Kickstart
util/misc/kick13.lha - Boot with 1.3 kickstart on new machines
util/misc/kickA3000.lha - A3000 boot from non-A3000 kick with HD
util/misc/KickTools.lha - Some utilities for Softkick on A1000
util/misc/softboot31.lha - Use software KS instead of ROM
util/misc/ykick.lha - Kickstart V37.175 on A1000
util/misc/zkick301.lha - Load kickstart from disk


@ENDNODE


