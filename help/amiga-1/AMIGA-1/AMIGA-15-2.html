        <html>
        <head><base target="_self">
<title>русский транзит - amiga#1: arexx, функции обработки строк</title>
</head>
<body link="#009999" vlink="#006666" alink="#000088" bgcolor="#ffffff" text="#000000">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<meta name="keywords" content="amiga,develope,ARexx,обработка,строк,center,compress,copies,delstr,insert,left,length,overlay,reverse,right,strip,substr,translate,trim,upper,xrange">


<font face="Arial, Helvetica, sans-serif" size="4">
<p align="left"><a name=A152>Функции обработки строк</a></p></font>

<blockquote><p align="justify">
С помощью ARexx-овских функций обработки строк вы можете делать со строками все, на что только хватает фантазии:
</p></blockquote>

<blockquote><ul>
<li>вырезать куски строк с помощью функций <a href="AMIGA-15-2.html#A1524">DELSTR()</a>, <a href="AMIGA-15-2.html#A1526">LEFT()</a>, <a href="AMIGA-15-2.html#A152A">RIGHT()</a>, <a href="AMIGA-15-2.html#A152C">SUBSTR()</a>;</li>
<li>расширять строку, добавляя к ней новые фрагменты.<br> Для этого существуют функции <a href="AMIGA-15-2.html#A1521">CENTER()</a>, <a href="AMIGA-15-2.html#A1523">COPIES()</a>, <a href="AMIGA-15-2.html#A1525">INSERT()</a>, <a href="AMIGA-15-2.html#A1528">OVERLAY()</a>;</li>
<li>вырезать отдельные литеры из строки, используя функции <a href="AMIGA-15-2.html#A1522">COMPRESS()</a>, <a href="AMIGA-15-2.html#A152B">STRIP()</a>, <a href="AMIGA-15-2.html#A152E">TRIM()</a>;</li>
<li>перекодировать и зеркально отображать строку, прибегая к помощи функций <a href="AMIGA-15-2.html#A152D">TRANSLATE()</a> и <a href="AMIGA-15-2.html#A1529">REVERSE()</a>.</li>
</ul></blockquote>

<blockquote><font face="Arial, Helvetica, sans-serif" size="4"><pre>
<a name=A1521>
<b>CENTER</b>()
<blockquote>str = <b>CENTER</b>(&lt;строка&gt;,&lt;длина&gt;[,&lt;заполнитель&gt;])
</blockquote></a></pre></font></blockquote>

<blockquote><p align="justify">
Результатом исполнения этой функции будет строка str заданной параметром &quot;длина&quot; длины, содержащая внутри себя отцентрованную строку &quot;строка&quot;. Символ &quot;заполнитель&quot; будет использован для заполнения левой и/или правой частей полученной строки. По умолчанию заполнителем является пробел. Пример:
</p></blockquote>

<blockquote><blockquote><pre>
say CENTER('Строчные функции', 22, '*')  ==> ***Строчные функции***
</pre></blockquote></blockquote>

<blockquote><font face="Arial, Helvetica, sans-serif" size="4"><pre>
<a name=A1522>
<b>COMPRESS</b>()
<blockquote>str = <b>COMPRESS</b>(&lt;строка&gt;[,&lt;список&gt;])
</blockquote></a></pre></font></blockquote>

<blockquote><p align="justify">
Исключить из строки все символы, имеющиеся в списке. Если список не указан, из строки удаляются пробелы. Примеры:
</p></blockquote>

<blockquote><blockquote><pre>
say COMPRESS('1 2 3')                       ==> 123
say COMPRESS('Санкт-Петербург','на-терку')  ==> СПбг
</pre></blockquote></blockquote>

<blockquote><font face="Arial, Helvetica, sans-serif" size="4"><pre>
<a name=A1523>
<b>COPIES</b>()
<blockquote>str = <b>COPIES</b>(&lt;строка&gt;,&lt;число_повторов&gt;)
</blockquote></a></pre></font></blockquote>

<blockquote><p align="justify">
Результатом работы этой функции будет являться строка, состоящая из повторяющихся участков, соответствующих исходной строке. Пример:
</p></blockquote>

<blockquote><blockquote><pre>
say COPIES('Привет! ', 3)  ==> &quot;Привет! Привет! Привет! &quot;
</pre></blockquote></blockquote>

<blockquote><font face="Arial, Helvetica, sans-serif" size="4"><pre>
<a name=A1524>
<b>DELSTR</b>()
<blockquote>str = <b>DELSTR</b>(&lt;строка&gt;,&lt;старт&gt;[,&lt;длина&gt;])
</blockquote></a></pre></font></blockquote>

<blockquote><p align="justify">
Функция возвращает строку, соответствующую исходной строке, из которой удалена подстрока, начинающаяся с позиции &quot;старт&quot;. Если указан параметр &quot;длина&quot;, то будет удалено число литер, соответствующее этому параметру. Если &quot;старт&quot; выходит за пределы исходной строки, то функция ничего не делает. Пример:
</p></blockquote>

<blockquote><blockquote><pre>
say DELSTR('Куртка', 4, 2)  ==> Кура
</pre></blockquote></blockquote>

<blockquote><font face="Arial, Helvetica, sans-serif" size="4"><pre>
<a name=A1525>
<b>INSERT</b>()
<blockquote>str = <b>INSERT</b>(&lt;новая&gt;)&lt;старая&gt;[,&lt;старт&gt;][,&lt;длина&gt;][,&lt;заполнитель&gt;])
</blockquote></a></pre></font></blockquote>

<blockquote><p align="justify">
&quot;Новая&quot; строка вставляется в &quot;старую&quot; строку, начиная с позиции &quot;старт&quot;. Если определен параметр &quot;длина&quot;, и значение &quot;длины&quot; не совпадает с длиной &quot;новой&quot; строки, то новая строка будет или дополнена литерой &quot;заполнитель&quot; до требуемой длины, или обрезана. По умолчанию заполнителем является пробел. Если позиция &quot;старт&quot; находится за пределами &quot;старой&quot; строки, то эта строка будет дополнена литерами-заполнителями до требуемой длины. Если параметр &quot;старт&quot; равен нулю, либо отсутствует вовсе, то вставка осуществляется в начало &quot;старой&quot; строки. Пример:
</p></blockquote>

<blockquote><blockquote><pre>
say INSERT(' дорогой','Здравствуй, друг!', 11)  ==> "Здравствуй, дорогой друг!"
</pre></blockquote></blockquote>

<blockquote><font face="Arial, Helvetica, sans-serif" size="4"><pre>
<a name=A1526>
<b>LEFT</b>()
<blockquote>str = <b>LEFT</b>(&lt;строка&gt;,&lt;длина&gt;[,&lt;заполнитель&gt;])
</blockquote></a></pre></font></blockquote>

<blockquote><p align="justify">
Функция возвращает строку длиной, соответствующей параметру &quot;длина&quot;, вырезанную из начальной части исходной строки. Если указанная длина превышает длину исходной строки, то полученная строка дополняется справа литерами заполнителя до требуемой длины. По умолчанию заполнителем является пробел. Примеры:
</p></blockquote>

<blockquote><blockquote><pre>
say LEFT ('Микросхема', 5)   ==> Микро
say LEFT ('ARexx', 8, '!')   ==> ARexx!!!
</pre></blockquote></blockquote>

<blockquote><font face="Arial, Helvetica, sans-serif" size="4"><pre>
<a name=A1527>
<b>LENGTH</b>()
<blockquote>len = <b>LENGTH</b>(&lt;строка&gt;)
</blockquote></a></pre></font></blockquote>

<blockquote><p align="justify">
Функция возвращает число литер в строке.
</p></blockquote>

<blockquote><font face="Arial, Helvetica, sans-serif" size="4"><pre>
<a name=A1528>
<b>OVERLAY</b>()
<blockquote>str = <b>OVERLAY</b>(&lt;новая&gt;,&lt;старая&gt;[,&lt;старт&gt;][,&lt;длина&gt;][,&lt;заполнитель&gt;])
</blockquote></a></pre></font></blockquote>

<blockquote><p align="justify">
&quot;Новая&quot; строка замещает литеры &quot;старой&quot; строки, начиная с позиции &quot;старт&quot;. Если определен параметр &quot;длина&quot;, и значение &quot;длины&quot; не совпадает с длиной &quot;новой&quot; строки, то новая строка будет или дополнена литерой &quot;заполнитель&quot; до требуемой длины, или обрезана. По умолчанию заполнителем является пробел. Если позиция &quot;старт&quot; находится за пределами &quot;старой&quot; строки, то эта строка будет дополнена литерами-заполнителями до требуемой длины. Если параметр &quot;старт&quot; равен нулю, либо отсутствует вовсе, то замещение осуществляется с начала &quot;старой&quot; строки. Пример:
</p></blockquote>

<blockquote><blockquote><pre>
say OVERLAY ('000', '123456789', 3)  ==>  "123000789"
</pre></blockquote></blockquote>

<blockquote><font face="Arial, Helvetica, sans-serif" size="4"><pre>
<a name=A1529>
<b>REVERSE</b>()
<blockquote>str = <b>REVERSE</b>(&lt;строка&gt;)
</blockquote></a></pre></font></blockquote>

<blockquote><p align="justify">
Функция возвращает "зеркальное отражение" строки. Пример:
</p></blockquote>

<blockquote><blockquote><pre>
say REVERSE('12345')  ==> 54321
</pre></blockquote></blockquote>

<blockquote><font face="Arial, Helvetica, sans-serif" size="4"><pre>
<a name=A152A>
<b>RIGHT</b>()
<blockquote>str = <b>RIGHT</b>(&lt;строка&gt;,&lt;длина&gt;[,&lt;заполнитель&gt;])
</blockquote></a></pre></font></blockquote>

<blockquote><p align="justify">
Функция возвращает строку длиной, соответствующей параметру &quot;длина&quot;, вырезанную из концевой части исходной строки. Если указанная длина превышает длину исходной строки, то полученная строка дополняется слева до требуемой длины литерами заполнителя. По умолчанию заполнителем является пробел. Примеры:
</p></blockquote>

<blockquote><blockquote><pre>
say RIGHT('Микросхема', 5)   ==> схема
say RIGHT('ARexx', 8, '!')   ==> !!!ARexx
</pre></blockquote></blockquote>

<blockquote><font face="Arial, Helvetica, sans-serif" size="4"><pre>
<a name=A152B>
<b>STRIP</b>()
<blockquote>str = <b>STRIP</b>(&lt;строка&gt;,[,[{'B'|'L'|'T'}][,&lt;список&gt;])
</blockquote></a></pre></font></blockquote>

<blockquote><p align="justify">
Функция по умолчанию удаляет пробелы (если задан параметр &quot;список&quot;, то удаляются все литеры, имеющиеся в списке) из начала, конца или обеих сторон исходной строки (по умолчанию - с обеих сторон). Тип удаления идентифицируется необязательным вторым параметром функции:
</p></blockquote>

<div><center><pre>
<b>В</b>  - (Both)     - с обеих сторон;
<b>L</b>  - (Leasing)  - предшествующие;
<b>Т</b>  - (Trailing) - замыкающие.    
</pre></center></div>

<blockquote><p align="justify">Примеры:</p></blockquote>

<blockquote><blockquote><pre>
say STRIP(' Привет')               ==> &quot;Привет&quot;
say STRIP(' Привет-', 'B', ' -')   ==> &quot;Привет&quot;
say STRIP(' Привет-', 'T', ' -')   ==> &quot; Привет&quot;
</pre></blockquote></blockquote>

<blockquote><font face="Arial, Helvetica, sans-serif" size="4"><pre>
<a name=A152C>
<b>SUBSTR</b>()
<blockquote>str = <b>SUBSTR</b>(&lt;строка&gt;|&lt;старт&gt;[,&lt;длина&gt;[,&lt;заполнитель&gt;]])
</blockquote></a></pre></font></blockquote>

<blockquote><p align="justify">
Результатом исполнения этой функции будет строка &quot;str&quot; заданной параметром &quot;длина&quot; длины, выделенная из исходной строки, начиная с позиции &quot;старт&quot;. Символ &quot;заполнитель&quot; будет использован в том случае, если в результате получится более короткая строка, нежели задано параметром &quot;длина&quot;. По умолчанию заполнителем является пробел. Если параметр &quot;длина&quot; отсутствует, то результатом исполнения функции явится вся правая часть исходной строки, начиная с позиции &quot;старт&quot;. Примеры:
</p></blockquote>

<blockquote><blockquote><pre>
say SUBSTR('СевЗапСнабСбыт', 4)            ==> ЗапСнабСбыт 
say SUBSTR('СевЗапСнабСбыт', 7, 11, '!')   ==> ЗапСнабСбыт!!!
say SUBSTR('СевЗапСнабСбыт', 7, 4)         ==> Снаб
</pre></blockquote></blockquote>

<blockquote><font face="Arial, Helvetica, sans-serif" size="4"><pre>
<a name=A152D>
<b>TRANSLATE</b>()
<blockquote>str = <b>TRANSLATE</b>(&lt;строка&gt;[,&lt;выходной_список&gt;]
                        [,&lt;входной_список&gt;][,&lt;заполнитель&gt;])
</blockquote></a></pre></font></blockquote>

<blockquote><p align="justify">
Несмотря на многообещающее название эта функция вряд ли сможет достойным образом перевести строку, скажем, с английского на русский (зато запросто - из MS-DOS формата в амиговский или наоборот). Здесь
происходит вот что: все литеры исходной строки, обнаруженные во &quot;входном списке&quot;, заменяются на соответствующие им литеры &quot;выходного списка&quot;. Если в строке есть какие-либо литеры, отсутствующие во входном списке, то они заменяются на &quot;заполнитель&quot;. Если в списке параметров присутствует только строка, то все ее буквы переводятся в заглавный регистр по аналогии с функцией <a href="AMIGA-15-2.html#A152F">UPPER()</a>. Пример:
</p></blockquote>

<blockquote><blockquote><pre>
say TRANSLATE('abcd', '1234', 'abcd')   ==> 1234
</pre></blockquote></blockquote>

<blockquote><font face="Arial, Helvetica, sans-serif" size="4"><pre>
<a name=A152E>
<b>TRIM</b>()
<blockquote>str = <b>TRIM</b>(&lt;строка&gt;)
</blockquote></a></pre></font></blockquote>

<blockquote><p align="justify">
Результатом работы функции будет &lt;строка&gt; без концевых пробелов.
</p></blockquote>

<blockquote><font face="Arial, Helvetica, sans-serif" size="4"><pre>
<a name=A152F>
<b>UPPER</b>()
<blockquote>str = <b>UPPER</b>(&lt;строка&gt;)
</blockquote></a></pre></font></blockquote>

<blockquote><p align="justify">
Результатом работы функции будет &quot;строка&quot;, все буквы которой находятся в заглавном регистре. Для правильной работы с русскими буквами в вашей системе должен быть установлен русификатор 5-й версии или новее.
</p></blockquote>

<blockquote><font face="Arial, Helvetica, sans-serif" size="4"><pre>
<a name=A152G>
<b>XRANGE</b>()
<blockquote>str = <b>XRANGE</b>(&lt;начало&gt;,&lt;конец&gt;)
</blockquote></a></pre></font></blockquote>

<blockquote><p align="justify">
Результатом работы функции будет строка, состоящая из литер, находящихся в ASCII-таблице между литерой &quot;начало&quot; и литерой &quot;конец&quot; (начальная и концевая литеры включаются в полученную строку). При использовании XRANGE для русских строк, учтите, что твердый знак вынесен в конец русского алфавита (см. таблицу символов Амиги). Пример:
</p></blockquote>

<blockquote><blockquote><pre>
say XRANGE('п', 'ъ')   ==> прстуфхцчхшщыьэюяъ
</pre></blockquote></blockquote>

<hr>

</body></html>