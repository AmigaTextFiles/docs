        <html>
        <head><base target="_self">
<title>русский транзит - amiga#1: cli (shell) интерфейс</title>
</head>
<body link="#009999" vlink="#006666" alink="#000088" bgcolor="#ffffff" text="#000000">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<meta name="keywords" content="amiga, амига, pc, commodore, amiga#1, unix, linux, shell, cli, 
интерфейс, voice, голос, проговорить, говорилка, speak, workbench, shell-startup, kickstrart,
русификатор, руссификатор, rusificier, russificier, amirus, keyrus, xen, topar, topaz, pica,
pica60, dpaint, multiview, visage, personal, ppaint, courier, adptprofont, dgsansserif, helvetica,
epson, multiscan, dblpal, keyboard_usa, keyboard_ger, keyboard_gb, keyboard, keymap, font, 
клавиатура, раскладка, шрифт, перехват, нажатие, клавиша, key, font, press, map, карта, 
моноширинный, растровый, пропорциональный, векторный, wordworth, текст, text, псевдографика,
режим, mode, принтер, перенос, система, произношение, локаль, локала, локалка, locale,
rusifier, russifier">

<table width="95%"><tr>
<td valign="top"><font face="Verdana, Arial size=2">
<p align="left">Глава 8</p></font>
<font face="Arial, Helvetica, sans-serif" size="4">
<p align="left"><b>Русификатор</b></p></font></td>
<td align="right"><img src="Gfx/AMIGA-8.gif" width="150" height="143"></td>
</tr></table>

<blockquote><p align="justify">
Русификатор был написан автором этой книги в начале 1994 года и с тех пор несколько раз подвергался различным усовершенствованиям. 
Его основной задачей является обеспечение переключения амижной клавиатуры с латинского режима работы на русский и наоборот. 
Кроме того, с русификатором Амига сможет &quot;разговаривать&quot; по-русски. При запуске русификатора начинает работать задача, 
которая отслеживает нажатия на клавиши и производит все действия, необходимые для двуязычного режима работы. 
Единственное &quot;официальное&quot; описание русификатора последней на сегодняшний день версии (6.03) имеется в этой книге.
</p></blockquote><blockquote><p align="justify">
Русификатор может запускаться как из файла &quot;S:User-Startup&quot;, так и из каталога &quot;SYS:WBStartup&quot;. 
Последний вариант предпочтительнее, поскольку этот каталог &mdash; стандартный для системных расширителей Амиги (commodities), 
к которым относится и русификатор.
</p></blockquote><blockquote><p align="justify"><em>
<img src="Gfx/AMIGA-NB.gif" alt="notabene!" width="40" height="20">
Версии русификатора до 6.0 не являются системными расширителями и должны запускаться только из файла &quot;S:User-Startup&quot;.<br>
Версии русификатора, начиная с 4.00 требуют ОС 2.1 или 3 (на 1.3 программа просто не запустится, да и инсталятор сообщит об ошибке).
</em></p></blockquote><blockquote><p align="justify">
Для установки русификатора на ваш компьютер служит программа &quot;Install.rusifier&quot;, представляющая собой ничто иное, как инструкции 
для стандартной программы Installer, которая должна находиться там, где ей положено &mdash; в каталоге &quot;SYS:Utilities&quot;. 
После установки русификатора с помощью инсталятора необходимо дополнительно установить карту клавиатуры &quot;usa_Rus&quot; для американской, 
&quot;ger_Rus&quot; для немецкой или &quot;gb_Rus&quot; для английской клавиатуры (в немецком варианте, например, на клавиатуре присутствует 
символ &quot;&sect;&quot;, а в английском на клавише 3 стоит значок &quot;&#163;&quot;; в стандартном варианте на клавише 3 стоит &quot;&#35&quot;). 
Если вы захотите установить русские наклейки на клавиатуру (а вы наверняка захотите это сделать), то подспорьем для вас будут служить 3 файла из 
пакета русификатора:
</p></blockquote><blockquote><blockquote><pre>
Keyboard_USA.iff    &mdash; раскладка для американской клавиатуры;
Keyboard_German.iff &mdash; раскладка для немецкой клавиатуры;
Keyboard_GB.iff     &mdash; раскладка для английской клавиатуры.
</pre></blockquote></blockquote><blockquote><p align="justify">
Эти файлы содержат картинки, показывающие, где и что на клавишах лежит. 
Для их просмотра можно воспользоваться, например, программой MultiView или Visage.
</p></blockquote><blockquote><p align="justify">
После внедрения в систему русификатора вы можете установить русский язык в качестве основного языка вашего компьютера, 
использовав программу &quot;SYS:Prefs/Locale&quot;. Все переведённые на русский язык каталоги будут находиться в соответствующих 
подкаталогах каталога &quot;SYS:Locale&quot;. Workbench также &quot;обрусеет&quot;.
</p></blockquote>

<font face="Arial, Helvetica, sans-serif" size="4">
<p align="left"><a name=A81>Клавиатура</a></p></font>
</p></blockquote><blockquote><p align="justify">
Переключение с русского на латинский режим, или наоборот, производится с помощью клавиш &quot;Правый Alt&quot; (переключить постоянно) 
или &quot;Левый Alt&quot; (переключить, пока удерживается эта клавиша).
</p></blockquote><blockquote><p align="justify">
Светодиод &quot;Power&quot; теперь является индикатором режима &mdash; ярко горит в русском режиме и тускло &mdash; в латинском 
(поскольку светодиод сблокирован со звуковым фильтром, вы можете теперь одним нажатием клавиши &quot;Правый Alt&quot; менять тембр звука). 
Временное переключение режимов с помощью клавиши &quot;Левый Alt&quot; не влияет на яркость свечения светодиода.
</p></blockquote><blockquote><p align="justify">
На некоторых клавишах, русские буквы вынуждены соседствовать со знаками препинания (разумеется, не по вине автора). 
Так, на немецкой клавиатуре с буквой &quot;Б&quot; соседствуют символы &quot;.&quot; и &quot;;&quot; &mdash; ясно, 
что в русском режиме теперь точку или точку с запятой не набрать &mdash; для этого надо переключиться в латинский режим, 
набрать соответствующий символ, а затем переключиться назад в русский режим, что мягко говоря, весьма неудобно. 
Нажатие клавиши временного переключения языкового регистра &quot;Левый Alt&quot; тоже не панацея &mdash; надо каждый раз 
соображать, в каком режиме вы находитесь, прежде чем набрать, допустим, точку. Поэтому русификатор использует нажатие 
клавиши &quot;Левая Amiga&quot; для временного включения латинского режима только для тех клавиш, где русские буквы 
соседствуют со знаками препинания.
</p></blockquote><blockquote><p align="justify">
Ряд прикладных программ (например, текстовый процессор WordWorth) жёстко используют клавишу &quot;Правый Alt&quot; 
для вызова части встроенных функций. Поскольку русификатор считает эту клавишу &quot;своей&quot;, то для использования 
её в тех прикладных программах, где переопределить её невозможно, русификатор имеет возможность временно отдать системе 
правый Alt. Для этого необходимо нажать комбинацию клавиш &quot;Ctrl&nbsp;+&nbsp;Правый Alt&quot;, после чего нажатия 
правого Alt-a будут восприниматься прикладной программой безо всяких ограничений (при этом автоматически включится латинский 
режим, правый Alt начнет действовать так же, как левый, и по-русски можно работать, только удерживая любой из Alt-ов). 
Повторное нажатие &quot;Ctrl&nbsp;+&nbsp;Правый Alt&quot; вернёт русификатор в &quot;нормальное&quot; состояние.
</p></blockquote><blockquote><p align="justify">
Та же ситуация, что и с клавишей &quot;Правый Alt&quot; в принципе может где-либо возникнуть и с клавишей &quot;Левая Амига&quot;, 
которая, как уже было указано, в комбинации с клавишами, содержащими как русские буквы, так и знаки пунктуации, вынуждает клавиатуру 
возвращать именно знаки пунктуации. Нажатие комбинации клавиш &quot;Левый Alt&nbsp;+&nbsp;Ctrl&quot; &quot;отдаст&quot; системе в 
полное владение клавишу &quot;Левая Амига&quot; (разумеется, после этого вам придётся включать латинский режим для вывода знаков пунктуации, 
соседствующих с русскими буквами). Повторное нажатие комбинации клавиц &quot;Левый Alt&nbsp;+&nbsp;Ctrl&quot; вернёт клавишу &quot;Левая Амига&quot; 
русификатору.
</p></blockquote>

<font face="Arial, Helvetica, sans-serif" size="4">
<p align="left"><a name=A82>Шрифты</a></p></font>
</p></blockquote><blockquote><p align="justify">
Русификатор перехватывает попытки любой программы открыть шрифт &quot;topaz.8&quot; или &quot;topaz.9&quot; и &quot;подсовывает&quot; ей вместо него один из 
двуязычных шрифтов (по умолчанию &mdash; &quot;topar.8&quot; или &quot;topar.9&quot;). Понятно, что это действие может произойти только после запуска русификатора. 
Системные же шрифты открываются ДО запуска русификатора при исполнении команды <a href="AMIGA-10.html#A101D">IPrefs</a> файла &quot;S:Startup-Sequence&quot;. 
С помощью программы &quot;SYS:Prefs/Fonts&quot; вам надо заменить стандартные (не русифицированные) шрифты на русифицированные (из числа поставляемых с этой программой).
</p></blockquote><blockquote><p align="justify">
Параметром для русификатора при его запуске может служить имя шрифта, замещающего &quot;topaz.8&quot;. 
Этот шрифт должен быть обязательно фиксированной ширины (не пропорциональный, а растровый!), высотой ровно 8 точек (8-м кеглем) и шириной менее 9-ти точек. 
При отстутствии параметра таким шрифтом считается &quot;topar.8&quot;. Для экранных режимов высокого разрешения (например, Multiscan 640x480 или DblPAL 640x512) 
наилучшим вариантом, по всей видимости, является шрифт Xen. В этом случае строка запуска русификатора в файле &quot;S:User-Startup&quot; должна выглядеть, так:
</p></blockquote><blockquote><blockquote><pre>
C:Russifier FONT=Xen.font
</pre></blockquote></blockquote><blockquote><p align="justify">
А параметром иконки при запуске русификатора из каталога &quot;SYS:WBStartup&quot; должна служить строка:
</p></blockquote><blockquote><blockquote><pre>
FONT=Xen.font
</pre></blockquote></blockquote><blockquote><p align="justify">
Вместе с русификатором также поставляются несколько наборов различных двуязычных шрифтов, использование которых абсолютно 
необходимо, если вы намерены работать в русском режиме (если где-либо в используемых вами программах были установлены шрифты, 
отличные от &quot;topar.8&quot;, то необходимо перенастроить эти программы на какие-либо из шрифтов, поставляемых с русификатором). 
Посмотреть, как выглядит часть этих шрифтов можно в файле &quot;LookAtFonts.iff&quot;.
</p></blockquote><blockquote><p align="justify">
Большинство предлагаемых шрифтов содержат также т.н. псевдографические символы, использование которых резко облегчает, например, 
расчерчивание таблиц. Пропорциональные шрифты (т.е. такие шрифты, различные символы которых имеют разную ширину) псевдографики не содержат. 
В связи со спецификой компьютера Amiga, использование псевдографики в полном объёме возможно не всегда, хотя большинство имеющихся текстовых 
редакторов (например, GoldEd или CygnusEd) позволяют работать с ней без каких-либо ограничений.
</p></blockquote><blockquote><p align="justify">
Вот таблицы с кратким описанием прилагаемых bitmap-шрифтов:
</p></blockquote>
<table align="center" width="90%" border=0><tr><td valign="top">
<table border="2"><tbody>
<caption>МОНОШИРИННЫЕ</caption>
<tr><th>Имя</th>
<th>Высота</th>
<th>Ширина</th>
<th>Псевдографика</th>
<th>Тип</th></tr>
<tr><td>Topar</td>
<td>8</td>
<td>8</td>
<td>Да</td>
<td>Bold</td></tr>
<tr><td>Topaz</td>
<td>11</td>
<td>8</td>
<td>Да</td>
<td>Bold</td></tr>
<tr><td>Pica60</td>
<td>8</td>
<td>6</td>
<td>Да</td>
<td>Bold</td></tr>
<tr><td>DPaint <b>*</b></td>
<td>8</td>
<td>8</td>
<td>Нет</td>
<td>Bold</td></tr>
<tr><td>Personal <b>*</b></td>
<td>8</td>
<td>8</td>
<td>Нет</td>
<td>Bold</td></tr>
<tr><td>Courier</td>
<td>10</td>
<td></td>
<td>Да</td>
<td>Thin</td></tr>
<tr><td></td>
<td>11</td>
<td>9</td>
<td>Да</td>
<td>Thin</td></tr>
<tr><td></td>
<td>12</td>
<td></td>
<td>Да</td>
<td>Thin</td></tr>
<tr><td></td>
<td>13</td>
<td>7</td>
<td>Да</td>
<td>Thin</td></tr>
<tr><td></td>
<td>14</td>
<td></td>
<td>Да</td>
<td>Thin</td></tr>
<tr><td></td>
<td>15</td>
<td>9</td>
<td>Да</td>
<td>Thin</td></tr>
<tr><td></td>
<td>18</td>
<td>11</td>
<td>Нет</td>
<td>Thin</td></tr>
<tr><td></td>
<td>24</td>
<td>15</td>
<td>Нет</td>
<td>Thin</td></tr>
<tr><td>Xen</td>
<td>8</td>
<td>6</td>
<td>Да</td>
<td>Thin</td></tr>
<tr><td></td>
<td>9</td>
<td>6</td>
<td>Да</td>
<td>Thin</td></tr>
<tr><td></td>
<td>11</td>
<td>7</td>
<td>Да</td>
<td>Thin</td></tr>
<tr><td></td>
<td>13</td>
<td>8</td>
<td>Да</td>
<td>Thin</td></tr>
</tbody></table></td><td valign="top">
<table border="2"><tbody>
<caption>ПРОПОРЦИОНАЛЬНЫЕ</caption>
<tr><th>Имя</th>
<th>Высота</th>
<th>Псевдографика</th>
<th>Тип</th></tr>
<tr><td>ADPTProFont</td>
<td>15</td>
<td>Нет</td>
<td>Bold</td></tr>
<tr><td>DGSansSerif</td>
<td>7</td>
<td>Нет</td>
<td>Thin</td></tr>
<tr><td></td>
<td>8</td>
<td>Нет</td>
<td>Thin</td></tr>
<tr><td></td>
<td>9</td>
<td>Нет</td>
<td>Thin</td></tr>
<tr><td></td>
<td>11</td>
<td>Нет</td>
<td>Thin</td></tr>
<tr><td></td>
<td>13</td>
<td>Нет</td>
<td>Thin</td></tr>
<tr><td>Helvetica</td>
<td>7</td>
<td>Нет</td>
<td>Thin</td></tr>
<tr><td></td>
<td>8</td>
<td>Нет</td>
<td>Thin</td></tr>
<tr><td></td>
<td>9</td>
<td>Нет</td>
<td>Thin</td></tr>
<tr><td></td>
<td>10</td>
<td>Нет</td>
<td>Thin</td></tr>
<tr><td></td>
<td>11</td>
<td>Нет</td>
<td>Thin</td></tr>
<tr><td></td>
<td>12</td>
<td>Нет</td>
<td>Thin</td></tr>
<tr><td></td>
<td>13</td>
<td>Нет</td>
<td>Thin</td></tr>
<tr><td></td>
<td>14</td>
<td>Нет</td>
<td>Thin</td></tr>
<tr><td></td>
<td>15</td>
<td>Нет</td>
<td>Thin</td></tr>
<tr><td></td>
<td>18</td>
<td>Нет</td>
<td>Bold</td></tr>
<tr><td></td>
<td>24</td>
<td>Нет</td>
<td>Bold</td></tr>
</tbody></table>
</td></tr></table>
</p></blockquote><blockquote><p align="justify">
* &mdash; Шрифт DPaint предназначен исключительно для одноименной программы, т.к. имеет массу специфических символов; 
то же касается шрифта Personal, относящегося к программе PPaint.
</p></blockquote>

<font face="Arial, Helvetica, sans-serif" size="4">
<p align="left"><a name=A83>Принтеры</a></p></font>
</p></blockquote><blockquote><p align="justify">
В комплект поставки включено несколько программ &mdash; драйверов для двуязычных принтеров. 
Для правильной работы принтера при выводе русского текста и псевдографики в текстовом режиме, необходимо задействовать внутреннюю таблицу принтера, 
в которой русские буквы начинаются с позиции (HEX) b0 (например, таблицу &quot;USSR GOST&quot; принтера EPSON LQ (LX) 100). 
Драйвер &quot;EpsonX.Rus&quot; предназначен для работы с 9-игольчатыми EPSON-совместимыми принтерами, остальные драйверы &mdash; для 24-игольчатых 
<a href="AMIGA-ADD-3.html">EPSON-совместимых</a> принтеров (драйвер &quot;EPSONQ020+&quot; НЕ РАБОТАЕТ с процессором 68000!).
</p></blockquote>

<font face="Arial, Helvetica, sans-serif" size="4">
<p align="left"><a name=A84>Перенос файлов из системы в систему</a></p></font>
</p></blockquote><blockquote><p align="justify">
Для преобразования файлов можно воспользоваться установкой таблиц &quot;INTL_RUS&quot; или &quot;MAC_RUS&quot; и режимов &quot;translation&quot; и (возможно) &quot;text filtering&quot; в CrossDOS. 
Преобразование двуязычного текста и псевдографики будет при этом происходить &quot;на лету&quot; при чтении/записи с PC- или Мacintosh-форматированных дискет. 
Следует только учитывать одну существенную особенность, касающуюся использования опции &quot;text filtering&quot;, действие которой заключается в изъятии из текста, 
считываемого с PC-дискеты символов с десятичным кодом 13, находящихся в конце строк текста и обратном восстановлении этих символов при записи на PC-дискету. 
Некоторые программы, (например Directory OPUS и Moor) при попытке произвести какие-либо операции с файлами напрямую с PC-дискеты, могут повести себя непредсказуемо 
из-за того, что размер файла, считываемого с PC-дискеты сокращается в результате изъятия из него вышеуказанных символов при включенной опции &quot;text filtering&quot; 
в CrossDOS. Поэтому старайтесь избегать включения опции &quot;text filtering&quot; при ЧТЕНИИ РС-дискет через CrossDOS, используйте лишь &quot;text translation&quot; с 
таблицей &quot;INTL_RUS&quot; &mdash; в этом случае символы 13 преобразуются в концевые пробелы в строках и изменения длины файла не происходит. 
При записи на PC-дискеты &quot;text filtering&quot; желательно включить (всё вышесказанное относится ИСКЛЮЧИТЕЛЬНО К ТЕКСТОВЫМ ФАЙЛАМ, для всех прочих как 
&quot;text filtering&quot; так и &quot;text translation&quot; ДОЛЖНЫ БЫТЬ ВЫКЛЮЧЕНЫ!!!).
</p></blockquote><blockquote><p align="justify">
Кроме того, при использовании редактора GoldEd у вас появляется возможность легко переносить двуязычные текстовые файлы (возможно, содержащие псевдографику) с платформ PC и Macintosh 
на Amiga и обратно без использования перекодировки &quot;на лету&quot; через CrossDOS. Для этого прилагаются 4 перекодировочные таблицы:
</p></blockquote><blockquote><blockquote><pre>
AmigaToMSDOS.cvt  &mdash; Amiga &rarr; MS-DOS
MSDOSToAmiga.cvt  &mdash; MS-DOS &rarr; Amiga
AmigaToMac.cvt    &mdash; Amiga &rarr; Macintosh
MacToAmiga.cvt    &mdash; Macintosh &rarr; Amiga
</pre></blockquote></blockquote><blockquote><p align="justify">
Эти таблицы будут автоматически помещены инсталятором в директорию &quot;SYS:Prefs/Presets/GoldEd&quot; 
(разумеется, если такая директория существует на вашем жёстком диске).
</p></blockquote><blockquote><p align="justify">
Дополнительные перекодировочные таблицы &quot;OldRusToAmiga.cvt&quot; и &quot;OldToNormal.cvt&quot; могут быть использованы для перекодировки &quot;старинных&quot; 
русских текстов в стандартный формат Amiga). &quot;Старинные&quot; кодировки применялись на Amiga до появления русификатора и содержали русские буквы, расставленные 
по-другому, нежели в русификаторе. Подобные расстановки вызывали массу &quot;головных болей&quot; при работе и от нее пришлось отказаться.
</p></blockquote><blockquote><p align="justify">
Если вы пользуетесь программой TERM для терминальной связи, то может оказаться полезным ещё один файл, входящий в комплект русификатора: &quot;Amiga&lt;&gt;PC.prefs&quot;. 
Этот файл позволяет &quot;на лету&quot; перекодировать текстовый формат PC в формат Amiga для приходящих файлов и/или сообщений и осуществлять обратное преобразование для передаваемых 
вами файлов/сообщений. Инсталятор автоматически поместит этот файл в директорию &quot;TERM:Config&quot;, если она, разумеется, имеется на вашем жёстком диске.
</p></blockquote>


<font face="Arial, Helvetica, sans-serif" size="4">
<p align="left"><a name=A85>Do you speak Russian?</a></p></font>
</p></blockquote><blockquote><p align="justify">
После установки русификатора ваша Амига сможет &quot;разговаривать&quot; по-русски. 
Для этого можно воспользоваться ARexx-портом русификатора. Имя порта &mdash; &quot;Rusifier.port&quot; 
(регистр букв в имени порта должен быть неизменным!). Дальше все очень просто &mdash; вы можете исполнить ARexx-команду русификатора SPEAK. 
К сожалению, использование стандартной команды <a href="AMIGA-14.html#A14K">Say</a> не годится &mdash; она напрочь отбрасывает не англоязычные буквы и не передаёт их библиотеке трансляции 
(которая теперь работает под контролем русификатора). То же самое относится и к стандартному устройству &quot;SPEAK:&quot; (ему соответствует файл &quot;L:Speak-handler&quot;). 
Видимо в корпорации Commodore в своё время никому не пришло в голову, что Amiga когда-нибудь заговорит не только по-английски (хоть и с изрядным английским акцентом). 
Взламывание чужих, даже не совсем правильно работающих программ, находится далеко вне сферы интересов автора, поэтому и <a href="AMIGA-14.html#A14K">Say</a> и &quot;L:Speak-handler&quot; остались нетронутыми, а функции 
речевой поддержки были возложены на русификатор.
</p></blockquote><blockquote><p align="justify">
Для активации любых ARexx-команд необходимо, чтобы в вашей системе работал ARexx-сервер (обычно запускается из файла &quot;S:User-Startup&quot; командой &quot;<b>System/RexxMast >NIL:</b>&quot; &mdash; если 
запускать из &quot;SYS:WBStartup&quot;, то каждый раз будет вылетать надоедливое окошко). Можете сразу попробовать исполнить из Shell следующую строку:
</p></blockquote><blockquote><blockquote><pre>
rx  &quot;address 'Rusifier.port'; 'SPEAK Здравствуйте!'&quot;
</pre></blockquote></blockquote><blockquote><p align="justify">
и вам станет всё ясно по поводу использования команды SPEAK. С помощью соответствующих ARexx-команд можно изменить звучание речи (после запуска русификатора устанавливается неспешный мужской бас) следующим образом:
</p></blockquote><blockquote><blockquote><pre>
MALE          &mdash; мужской голос;
FEMALE        &mdash; женский голос;
PITCH/N/A     &mdash; высота голоса. Числовой параметр может находиться 
                в диапазоне от 65 (бас) до 320 (наверное, сопрано);
RATE/N/A      &mdash; скорость произношения. Числовой параметр может 
                находиться в диапазоне от 40 (медленнее некуда) до 400;
VOLUME/N/A    &mdash; громкость звука: 0 &mdash; ничего не слышно, 
                64 &mdash; максимальная громкость;
STANDARD      &mdash; восстанавливаются начальные речевые установки 
                (PITCH 65, MALE, RATE 135, VOLUME 64).
</pre></blockquote></blockquote><blockquote><p align="justify">
На прилагаемой к этой книге дискете есть ARexx-файл управления русификатором &quot;Речь.гехх&quot;, где пробуются различные режимы произношения.
</p></blockquote><blockquote><p align="justify">
Вы можете чередовать русские и английские слова в произносимой фразе произвольным образом. 
Русское ли слово, или английское, определяется по первой встреченной в слове букве за исключением &quot;а&quot; (&quot;а&quot; на русифицированной 
Амиге &mdash; общая буква для обоих языков).
</p></blockquote><blockquote><p align="justify">
А вот что касается цифр и всяких значков: если во встреченном тексте нет ни одной русской буквы, и не установлен режим предпочтения русского языка, 
то текст считается полностью английским и всё читается по-английски. Иначе все значки, которые можно прочитать (типа % &mdash; процент), а также все цифры 
читаются по-русски. Режим предпочтения русского языка устанавливается ARexx-командой:
</p></blockquote><blockquote><blockquote><pre>
PREFER RUSSIAN
</pre></blockquote></blockquote><blockquote><p align="justify">
а режим предпочтения английского языка командой:
</p></blockquote><blockquote><blockquote><pre>
PREFER ENGLISH
</pre></blockquote></blockquote><blockquote><p align="justify">
Русификатор позволяет управлять фильтром низких частот на момент воспроизведения речи. По умолчанию, во время произношения какой-либо фразы фильтр отключается, 
что дает менее глухой звук, нежели со включенным фильтром. Существуют 3 команды ARexx-a, позволяющие устанавливать режим работы фильтра:
</p></blockquote><blockquote><blockquote><pre>
FILTER OFF     &mdash; при воспроизведении фильтр отключается;
FILTER ON      &mdash; при воспроизведении фильтр включается;
FILTER IGNORE  &mdash; воспроизведение речи не влияет на звуковой фильтр.
</pre></blockquote></blockquote><blockquote><p align="justify">
Следует заметить, что поскольку яркость свечения светодиода &quot;Power&quot; напрямую зависит от состояния фильтра, 
а этот же светодиод индицирует включение русского или латинского режима, то на время воспроизведения речи русско-латинский режим 
может временно переключаться (впрочем, это имеет значение только в том случае, если вы работаете на клавиатуре, когда Амига говорит, что весьма маловероятно). 
Если возникнут неудобства, исполните FILTER IGNORE из Shell-окна:
</p></blockquote><blockquote><blockquote><pre>
rx &quot;address 'Rusifier.port'; 'FILTER IGNORE'&quot;
</pre></blockquote></blockquote>

<font face="Arial, Helvetica, sans-serif" size="4">
<p align="left"><a name=A86>Для программистов</a></p></font>
</p></blockquote><blockquote><p align="justify">
Кроме вышеупомянутых команд, управляющих речевым синтезатором, русификатор понимает еще несколько:
</p></blockquote><blockquote><blockquote><p align="justify">
<strong>RUSSIAN</strong> &mdash; включить русский режим;
</p><p align="justify">
<strong>ENGLISH</strong> &mdash; включить латинский режим;
</p><p align="justify">
<strong>TOGGLE</strong> &mdash; сменить русский режим на латинский или наоборот; 
</p><p align="justify">
<strong>ASKMODE</strong> &mdash; команда возвратит в переменной RC значение 1, если включён русский режим или 0 в противном случае;
</p><p align="justify">
<strong>STOP</strong> &mdash; запретить обработку входных событий в системе (блокировка мыши и клавиатуры). 
Может быть полезно, если вы, например, хотите воспользоваться для своих целей &quot;мышиным&quot; портом, не отдавая его системе, 
а также во многих других случаях, когда вся ваша программа берёт обработку любых входных событий &quot;на себя&quot;, а возиться с 
установкой хэндлера прерываний для устройства &quot;input.device&quot; нет особого желания.
</p><p align="justify">
<strong>GO</strong> &mdash; отменить действие команды STOP;
</p><p align="justify">
<strong>FREE_ALT</strong> &mdash; отдать системе клавишу &quot;правый Аlt&quot;;
</p><p align="justify">
<strong>GET_ALT</strong> &mdash; вернуть клавишу &quot;правый Alt&quot; русификатору; 
</p><p align="justify">
<strong>FREE_LAMIGA</strong> &mdash; разрешить системе обрабатывать комбинации  клавиш  [&quot;Левая Амига&quot;&nbsp;+&nbsp;клавиша с русской буквой и знаками пунктуации];
</p><p align="justify">
<strong>LOCK_LAMIGA</strong> &mdash; русификатор использует комбинацию клавиш [&quot;Левая Амига&quot;&nbsp;+&nbsp;клавиша с русской буквой и знаками пунктуации] для выдачи знаков пунктуации вне зависимости от того, какой режим (русский или латинский) установлен.
</p></blockquote></blockquote><blockquote><p align="justify">
Деятельность русификатора сводится к перехвату входных событий и насильственной вставке признака <b>IEQUALIFIER_RALT</b> в случае установки пользователем русского режима. 
Хэндлер входных событий русификатора вызывается по прерываниям из &quot;input.device&quot;. 
Клавиатурные карты надлежащим образом модифицированы для выдачи соответствующих русских кодов при установленном ALT-признаке.
</p></blockquote><blockquote><p align="justify">
Русификатор &quot;навешивает&quot; перехваты на следующие системные функции:
</p></blockquote><blockquote><blockquote><pre>
    <i>Имя функции         Чья это функция</i>
1.  <b>OpenFont()          graphics.library</b>
2.  <b>Translate()         translator.library</b>
3.  <b>OpenLibrary()       exec.library</b>
</pre></blockquote></blockquote>



<br>
<hr>
</body></html>

