        <html>
        <head><base target="_self">
<title>русский транзит - amiga#1: arexx, числовые функции</title>
</head>
<body link="#009999" vlink="#006666" alink="#000088" bgcolor="#ffffff" text="#000000">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<meta name="keywords" content="amiga,develope,ARexx,числовая,функция,abs,hash,max,min,random,randu,sign,trunc">

<font face="Arial, Helvetica, sans-serif" size="4">
<p align="left"><a name=A155>Числовые функции</a></p></font>

<blockquote><p align="justify">
Все числовые функции ARexx-a (за исключением <a href="AMIGA-15-5.html#A1552">HASH()</a>) оперируют исключительно с десятичными числами. Как аргументы функций, так и возвращаемые ими результаты подпадают под действие текущей установки NUMERIC DIGITS (<a href="AMIGA-15-9.html#A1596">см. соответствующее описание</a>).
</p></blockquote>

<blockquote><font face="Arial, Helvetica, sans-serif" size="4"><pre>
<a name=A1551>
<b>ABS</b>()
<blockquote>res = <b>ABS</b>(&lt;число&gt;)
</blockquote></a></pre></font></blockquote>

<blockquote><p align="justify">
Возвращает абсолютное значение числа.
</p></blockquote>

<blockquote><font face="Arial, Helvetica, sans-serif" size="4"><pre>
<a name=A1552>
<b>HASH</b>()
<blockquote>res = <b>HASH</b>(&lt;строка&gt;)
</blockquote></a></pre></font></blockquote>

<blockquote><p align="justify">
Возвращает десятичное число - кэш-атрибут строки. Кэш-атрибут является некоторым ассоциированным с заданной строкой числом, которое часто используется в качестве индекса при поиске строк в различных структурах данных. Кэш-атрибут вычисляется исходя из содержимого строки и поэтому, в принципе, разные строки должны иметь различные значения кэш-атрибутов. Способ вычисления кэш-атрибута в ARexx-e заключается в сложении всех ASCII-значений литер строки, а затем нахождении остатка от деления полученной суммы на 256 (т.е. используется только младший байт суммы). Алгоритмы вычисления кэш-атрибутов, вообще говоря, постоянно балансируют между степенью &quot;уникальности&quot; полученного значения и скоростью его вычисления. Пример:
</p></blockquote>

<blockquote><blockquote><pre>
say HASH('Неужто уникальное значение?')   ==>  89
</pre></blockquote></blockquote>

<blockquote><font face="Arial, Helvetica, sans-serif" size="4"><pre>
<a name=A1553>
<b>MAX</b>()
<blockquote>res = <b>MAX</b>(&lt;число&gt;,&lt;число&gt;[,&lt;число&gt;][...])
</blockquote></a></pre></font></blockquote>

<blockquote><p align="justify">
Результат равен наибольшему из аргументов.
</p></blockquote>

<blockquote><font face="Arial, Helvetica, sans-serif" size="4"><pre>
<a name=A1554>
<b>MIN</b>()
<blockquote>res = <b>MAX</b>(&lt;число&gt;,&lt;число&gt;[,&lt;число&gt;][...])
</blockquote></a></pre></font></blockquote>

<blockquote><p align="justify">
Результат равен наименьшему из аргументов.
</p></blockquote>

<blockquote><font face="Arial, Helvetica, sans-serif" size="4"><pre>
<a name=A1555>
<b>RANDOM</b>()
<blockquote>res = <b>RANDOM</b>([&lt;минимум&gt;,][&lt;максимум&gt;,][&lt;старт&gt;])
</blockquote></a></pre></font></blockquote>

<blockquote><p align="justify">
Результатом является целое неотрицательное псевдослучайное число. Если не указано минимальное значение, то наименьшим результатом может быть ноль. Если не указано максимальное значение, то оно принимается равным 999. Если указано только одно число в качестве аргумента, то считается, что это - параметр &quot;максимум&quot;, т.е. результат работы функции не может превысить это значение. Если указан целочисленный параметр &quot;старт&quot;, то он считается отправной точкой для расчета значений очередной псевдослучайной последовательности (полезно, например, при отладке программы, когда нужны предсказуемые результаты).
</p></blockquote>

<blockquote><p align="justify">
Если необходимо, чтобы каждый вызов RANDOM() возвращал следующее значение из псевдослучайной последовательности, то необходимо по крайней мере однажды исполнить в вашей программе RANDOM() с параметром &quot;старт&quot;. В противном случае для одних и тех же значений минимума и максимума будут всегда возвращаться одни и те же числа. Обычно в качестве параметра &quot;старт&quot; берется результат работы функции <a href="AMIGA-15-6.html#A1565">ТIМЕ()</a>, который сам по себе достаточно случаен, т.е. где-нибудь в начале программы надо исполнить:
</p></blockquote>

<blockquote><blockquote><pre>
RANDOM(,, TIME())
</pre></blockquote></blockquote>

<blockquote><p align="justify">
а затем можно спокойно пользоваться RANDOM() для получения случайных чисел (разумеется, не задавая параметр &quot;старт&quot;).
</p></blockquote>

<blockquote><font face="Arial, Helvetica, sans-serif" size="4"><pre>
<a name=A1556>
<b>RANDU</b>()
<blockquote>res = <b>RANDU</b>([&lt;старт&gt;])
</blockquote></a></pre></font></blockquote>

<blockquote><p align="justify">
Результатом является случайное число в диапазоне между нулем и единицей. Инициализация псевдослучайной последовательности происходит так же, как и у функции <a href="AMIGA-15-5.html#A1555">RANDOM()</a>.
</p></blockquote>

<blockquote><font face="Arial, Helvetica, sans-serif" size="4"><pre>
<a name=A1557>
<b>SIGN</b>()
<blockquote>res = <b>SIGN</b>([&lt;число&gt;])
</blockquote></a></pre></font></blockquote>

<blockquote><pre>
Функция возвращает  -1, если &quot;число&quot; отрицательное;
                     0, если &quot;число&quot; равно нулю;
                     1, если &quot;число&quot; положительное
</pre></blockquote>

<blockquote><font face="Arial, Helvetica, sans-serif" size="4"><pre>
<a name=A1558>
<b>TRUNC</b>()
<blockquote>res = <b>TRUNC</b>(&lt;число&gt;[,&lt;длина&gt;])
</blockquote></a></pre></font></blockquote>

<blockquote><p align="justify">
Функция форматирует дробную часть числа, подгоняя число ее цифр в соответствии с параметром &quot;длина&quot;. Если &quot;длина&quot; отсутствует, то дробная часть отбрасывается. Округление при форматировании не производится - если &quot;длина&quot; меньше, чем число десятичных цифр в дробной части, то лишние цифры просто отбрасываются. Если &quot;длина&quot; больше, чем число десятичных цифр в дробной части, то дробная часть дополняется справа необходимым количеством нулей. Примеры:
</p></blockquote>

<blockquote><blockquote><pre>
say TRUNC(10.1234)      ==>  10
say TRUNC(10.1234, 2)   ==>  10.12 
say TRUNC(10.1234, 6)   ==>  10.123400
</pre></blockquote></blockquote>

<hr>

</body></html>