@database MultimediaFAQ.guide

@master MultimediaFAQ.guide
@node main
@title "Animation MP FAQ"

    @{b}Info about MP (MPEG sound) programs for AMIGA@{ub}

       @{"      >>> What is MPEG audio <<<       " link "INFO"      }

       @{"  MPEGA 2.7 ............ MPEG player   " link "MPEGA"      }
       @{"  MPEGAPlayer 2.20 ..... MPEG player   " link "MPEGAPlayer"}
       @{"  AMP 0.7.3 ............ MPEG player   " link "amp"        }
       @{"  MusicIn .............. MPEG encoder  " link "musicin"    }

       @{"  Converting .......................    " link "convert"   }

@endnode


@node MPEGA
@title "MPEGA 2.7"

1) Where to get:
 - Aminet  260KB   aminet/mus/play/MPEGA.lha

2) What it can play:

 Layers: I,II,III
 Output: Builtin 14bit output (cybersound), AHI 4 and
         file output

 Speed
 -----

 Today, MPEG layer III decoders are very rare on AMIGA

 A little comparison with amp.0.7.2 on 68060/64 MHz:

 Spot1-44S.96.mp3 (Stereo 44.1KHz 96kpbs layer III) of 10.9 sec

 amp.040881   mpega:test/Spot1-44S.96.mp3 ram:out.pcm  -> 12.5 sec
 mpega.040FPU mpega:test/Spot1-44S.96.mp3 -s           ->  3.7 sec

3) Future:

- More speed !

4) On what machines it works:

 Requirments:
  - mc68020 CPU
 Recomended:
  - mc68060 for full quality (up to 48Khz with third(2) quality), stereo
 or
  - fast mc68040 for realy good and nice sound ;)
    (up to 24Khz with third(2) quality in stereo or like with 060 in mono)

5) How to contact with author:

 Thanks to my friend, AMIGA, the best computer ever made.

 Stéphane TAVENARD (ANGERS/France)
 Email: tavenard@xiii.univ-angers.fr (it's my brother Raphaël mail)
 IRC: Tatav

 Send your gifts here :^) (this program is @{B} GIFTWARE @{uB})

 Stéphane TAVENARD
 La Bezanière
 49070 Saint Jean de Linières
 FRANCE

@endnode


@node MPEGPlayer
@title "MPEGPlayer 2.20"

1) Where to get:
 - Aminet  237KB   aminet/mus/play/MPEGPlayer.lha

2) What it can play:

 Layers: I,II,III
 Output: Builtin 14bit output (cybersound) or AHI 4

 According to Delitracker: Can use scopes (special option to avoid
      slow down if you don't use them), can skip patterns (sound),
      everything configurable under DT.

3) Future:

 - more speed

4) On what machines it works:

 Requirments:
  - mc68020 CPU
  - Delitracker (as new as it's possible)
 Recomended:
  - mc68060 for full quality (up to 48Khz with HIGH quality), stereo
 or
  - fast mc68040 for realy good and nice sound ;)
    (up to 24Khz with MEDIUM quality in stereo or like with 060 in mono)

5) How to contact with author:

 Thanks to my friend, AMIGA, the best computer ever made.

 Stéphane TAVENARD (ANGERS/France)
 Email: tavenard@xiii.univ-angers.fr (it's my brother Raphaël mail)
 IRC: Tatav

 Send your gifts here :^) (this program is @{B} GIFTWARE @{uB})

 Stéphane TAVENARD
 La Bezanière
 49070 Saint Jean de Linières
 FRANCE

@endnode


@node AMP
@title "AMP 0.7.3"

1) Where to get:
 - Aminet  254KB   aminet/mus/misc/amp.lha

2) What it can play:

 Layers: III
 Output: AHI 4 output or file output

3) Future:

  This program is predicted to be a PowerPC player as soon as
  PPC will be available.

  - implement Michael's mono and frequency divide options
  - buffered output
  - optional direct 14 Bit output without using AHI
  - improve documentation
  - faster decoding
  - better configure.in
    and more ...

4) On what machines it works:

 Requirements:
  - an amiga
  - ixemul.library v46.1+
  - an FPU is highly recommended (best from 060 CPU ;-)).
 Optional:
  - AHI 4 (to play MPEG)
  - X11 server (X-Window ADE) to use GUI

5) How to contact with author:

  The last ports of amp until version 0.7.2 have been made by Michael Cheng.
  He gave me a written permission to replace his ports and to continue his
  work. Thanks Michael!

  Tomislav Uzelac (main author)
    <tuzelac@rasip.fer.hr>
    ftp://ftp.rasip.fer.hr/pub/mpeg/amp-0.7.1.tgz

  Michael Cheng (read above - not about Tomi!)
    mikecheng@cryogen.com
    http://www.netforward.com/cryogen/?mikecheng
    Cstar on #amiga

  Christian Sauer (this Amiga port)
    sauer@cip.informatik.uni-wuerzburg.de

@endnode


@node INFO
@title "What is MPEG audio compression"

What is MPEG audio ?

 It's a very efficient audio compression standard. Actually, there is 3
 compression methods, named layer I, II & III. Layer III is more efficient
 than layer II, which is more efficient than layer I. But, more efficient
 means more complex.
 MPEG audio allows to compress a 16-bit PCM sound file from 1.2 to
 32 times.

Why is it so hard to make a real time MPEG audio decoder ?

 MPEG audio decoding requires a lot of arithmetic calculation, so a lot of CPU
 power is required. Normally, MPEG audio decoding is made with help of a DSP.


   Everything above about MPEG audio compression is a part of
   MPEGA/MPEGAPlayer guide. Later I'll write more if there will
   be such a need.

@endnode



@node musicin
@title "MusicIn"

1) Where to get:
 - Aminet  164KB   aminet/mus/misc/musicin.lha

2) What it can encode:

 Layers: I,II
 Input : AIFF or PCM file
 
3) Future:

 - probably Layer III
 - more speed (like always)
 BTW. If you know where I can get sources of MusicIn with Layer III
      plz. contact with @{" ME " link "Multimedia/Author"}

4) On what machines it works:

 Requirements:
  - MC68EC030+ and FPU
 Recommended:
  - accelerator and fastram

5) How to contact with author:

 This is an author of LAST Aminet port of UNIX MusicIn program:

 Thanks to my friend, AMIGA, the best computer ever made.

 Stéphane TAVENARD (ANGERS/France)
 Email: tavenard@xiii.univ-angers.fr (it's my brother Raphaël mail)
 IRC: Tatav

 Stéphane TAVENARD
 La Bezanière
 49070 Saint Jean de Linières
 FRANCE

@endnode



@node convert
@title "Converting"

 First of all, what you should have !
   - any kind of MPEG decoder (best one is MPEGA)
   - MPEG encoder (only one is MusicIn)
   - also SOX will bu usefull (but not required)


@{b}@{i}
 1) How to do SAMPLE (WAV/AIFF) from MP I,II,III ?
@{ub}@{ui}

   All players/decoders from MPEG audio have PCM or AIFF output.
   You can simply write:
      mpega -d1 -q2 -s -f0 -A <MPEG file> <AIFF file>
    -d1 and -q2 (are default but better be sure)
    -s          no sound (only output to file)
    -f0         do not use filter
    -A          AIFF file output
   REMEBER !!! MPEG files have realy good compression and for
   4 min. sound in MP II or III with 128 bit you need > 40MB on HD !!!
   so better calculate needed space before decoding:

        frequency * 2(if stereo) * bits / 8 * seconds
     frequency - sample frequency (in hz not Khz)
     2         - because stereo (if mono put 1)
     bits      - how many bits is used to describe sound
     8         - because 8 bits it's 1 byte
     seconds   - lenght of audio
  Example: 4 minutes song, 16 bits with 44100 Hz in stereo
     44100 * 2 * 16 / 8 * (4 * 60) = 42 336 000 bytes = 40.37 MB !!!

@{b}@{i}
 2) How to do IFF (16SVX or 8SVX) or any other audio from MP I,II,III
@{ub}@{ui}

  If you have BIG HD you can first convert MPEG to AIFF and later
  convert AIFF=>IFF but you can also use SOX to do it directly.

  Mount PIPE: device on the very beginning ("mount pipe:").
  Ok now run MPEGA like in 1 paragraph but instead of <AIFF file>
  write PIPE:mp3.aiff and before MPEGA write "run".
    run mpega -d1 -q2 -s -f0 -n -A <MPEG file> PIPE:mp3.aiff
  now we have to use SOX. Sox reconize type of sound by extesion
  so we need to write
   sox PIPE:mp3.aiff <IFF output file>
  where IFF file is something with extension IFF. (ex. SYS:Sample.iff)

@{b}@{i}
 3) How to create MP I,II files ?
@{ub}@{ui}

  This operation is a realy big time eater.
  Easiest way is to simply run musicin and awnser for it questions
  giving name of files and compression methods. Or you can do it
  in one line as arguments for musicin.
  REMEBER ! before you start set stack to at least 80000 ("stack 80000")
  and read MusicIn.doc (there is a lot of usefull advices)

@{b}@{i}
 4) How to do MP II from MP III and what for ?
@{ub}@{ui}

  Now why you may need to do that:
    Layer II is more CPU friendly ;) - so you don't need 060 to play
    it with FULL quality and !!! there is no big sound difference
    because Layer III was made to be much better then Layer II only
    with VERY HAVY compressions (less then 64 bits/s).

  How to do it without loosing 60-70MB's on HD (for RAW sample).
  Like before we will use PIPE (so you have to mount it - mount pipe:)
  and also like before we will start mpega in background:
    run mpega -d1 -q2 -s -n -f0 -A <MPEG file> PIPE:mp3.aiff
  and mow goes musicin:
    musicin pipe:mp3.aiff <output mp2 file> -b128
  Now you have to wait...
  Only two more things -b128 means that MP2 will be compressed
  with 128bits/second - it's quite good ratio for stereo files and
  became some kind of standard (also 112b/s in MP3 files). All other
  musicin options will be default.
  If you want to you can write small script:
  -------------------------------------------------
  .key MPEG/A,OUT/A
  .bra {
  .ket }

  echo Converting {MPEG} to {OUT}
  stack 100000
  mount pipe: >NIL:
  run mpega -d1 -q2 -s -n -f0 -A {MPEG} pipe:mp3.aiff
  musicin pipe:mp3.aiff {OUT} -b128
  ------------------------------------------------
  Name that script "convert" (it's only example of name ;) )
  and now you need only to write:
  convert <input MPEG file> <output MPEG layer II file>

@endnode

